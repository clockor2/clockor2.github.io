/*! For license information please see main.ac7b24d4.js.LICENSE.txt */
!function(){var e={9299:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},z:function(){return o}});var r=n(7951),i={};function o(e){i=e}function a(e,t,n,o){r.Z.level>0&&i[e]&&i[e].call(null,t,n,o)}},7637:function(e,t,n){"use strict";n.r(t),n.d(t,{AmbientLight:function(){return d},AttributeManager:function(){return Kn.Z},COORDINATE_SYSTEM:function(){return r.Df},CompositeLayer:function(){return Qn.Z},Controller:function(){return vt},Deck:function(){return Yn},DeckRenderer:function(){return jt},DirectionalLight:function(){return y},FirstPersonController:function(){return br},FirstPersonView:function(){return _r},FirstPersonViewport:function(){return hr},FlyToInterpolator:function(){return Ar},Layer:function(){return qn.Z},LayerExtension:function(){return Sr},LayerManager:function(){return ze},LightingEffect:function(){return X},LinearInterpolator:function(){return ot},MapController:function(){return mt},MapView:function(){return bt},OPERATION:function(){return r.k8},OrbitController:function(){return Pt},OrbitView:function(){return wr},OrbitViewport:function(){return lr},OrthographicController:function(){return Ct},OrthographicView:function(){return Zt},OrthographicViewport:function(){return Et},PointLight:function(){return J},PostProcessEffect:function(){return xe},TRANSITION_EVENTS:function(){return $e},Tesselator:function(){return Zr.Z},TransitionInterpolator:function(){return nt},UNIT:function(){return r.iI},View:function(){return Xe},Viewport:function(){return Ie.Z},WebMercatorViewport:function(){return Ye.Z},_CameraLight:function(){return ne},_GlobeController:function(){return kr},_GlobeView:function(){return Er},_GlobeViewport:function(){return or},_LayersPass:function(){return A},_SunLight:function(){return me},_compareProps:function(){return Rr.tg},_count:function(){return Or.Q},_fillArray:function(){return Ze.k},_flatten:function(){return Ze.x},_memoize:function(){return N.Z},_mergeShaders:function(){return Lr.l},assert:function(){return He.Z},createIterable:function(){return Cr.jB},fp64LowPart:function(){return St.Ks},gouraudLighting:function(){return gr.N},log:function(){return Ae.Z},phongLighting:function(){return gr.s},picking:function(){return pr.Z},project:function(){return I.Z},project32:function(){return vr.Z},shadow:function(){return V}});var r=n(6128),i=n(7762),o=n(5671),a=n(3144),s=n(4942),u=n(9119),l=n(2366),c=[255,255,255],f=0,d=(0,a.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,e),(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"color",void 0),(0,s.Z)(this,"intensity",void 0),(0,s.Z)(this,"type","ambient");var n=t.color,r=void 0===n?c:n,i=t.intensity,a=void 0===i?1:i;this.id=t.id||"ambient-".concat(f++),this.color=r,this.intensity=a})),h=n(347),p=[255,255,255],v=[0,0,-1],g=0,y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,e),(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"color",void 0),(0,s.Z)(this,"intensity",void 0),(0,s.Z)(this,"type","directional"),(0,s.Z)(this,"direction",void 0),(0,s.Z)(this,"shadow",void 0);var n=t.color,r=void 0===n?p:n,i=t.intensity,a=void 0===i?1:i,u=t.direction,l=void 0===u?v:u,c=t._shadow,f=void 0!==c&&c;this.id=t.id||"directional-".concat(g++),this.color=r,this.intensity=a,this.type="directional",this.direction=new h.Z(l).normalize().toArray(),this.shadow=f}return(0,a.Z)(e,[{key:"getProjectedLight",value:function(e){return this}}]),e}(),m=n(6911),b=n(1413),_=n(7326),w=n(1752),x=n(1120),k=n(136),E=n(7277),S=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{id:"pass"};(0,o.Z)(this,e),(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"gl",void 0),(0,s.Z)(this,"props",void 0);var r=n.id;this.id=r,this.gl=t,this.props=(0,b.Z)({},n)}return(0,a.Z)(e,[{key:"setProps",value:function(e){Object.assign(this.props,e)}},{key:"render",value:function(e){}},{key:"cleanup",value:function(){}}]),e}(),T=n(8767),P=n(8653),A=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,_.Z)(e),"_lastRenderIndex",-1),e}return(0,a.Z)(n,[{key:"render",value:function(e){var t=this.gl;return(0,T.dR)(t,{framebuffer:e.target}),this._drawLayers(e)}},{key:"_drawLayers",value:function(e){var t=e.target,n=e.moduleParameters,r=e.viewports,o=e.views,a=e.onViewportActive,s=e.clearStack,u=void 0===s||s,l=e.clearCanvas,c=void 0===l||l;e.pass=e.pass||"unknown";var f=this.gl;c&&function(e){var t=e.drawingBufferWidth,n=e.drawingBufferHeight;(0,T.dR)(e,{viewport:[0,0,t,n]}),e.clear(16640)}(f),u&&(this._lastRenderIndex=-1);var d,h=[],p=(0,i.Z)(r);try{for(p.s();!(d=p.n()).done;){var v=d.value,g=o&&o[v.id];a(v);var y,m=this._getDrawLayerParams(v,e),b=v.subViewports||[v],_=(0,i.Z)(b);try{for(_.s();!(y=_.n()).done;){var w=y.value,x=this._drawLayersInViewport(f,{target:t,moduleParameters:n,viewport:w,view:g,pass:e.pass,layers:e.layers},m);h.push(x)}}catch(k){_.e(k)}finally{_.f()}}}catch(k){p.e(k)}finally{p.f()}return h}},{key:"_getDrawLayerParams",value:function(e,t){for(var n=t.layers,r=t.pass,i=t.layerFilter,o=t.cullRect,a=t.effects,s=t.moduleParameters,u=[],l=C(this._lastRenderIndex+1),c={layer:n[0],viewport:e,isPicking:r.startsWith("picking"),renderPass:r,cullRect:o},f={},d=0;d<n.length;d++){var h=n[d],p=this._shouldDrawLayer(h,c,i,f),v={shouldDrawLayer:p};p&&(v.layerRenderIndex=l(h,p),v.moduleParameters=this._getModuleParameters(h,a,r,s),v.layerParameters=this.getLayerParameters(h,d,e)),u[d]=v}return u}},{key:"_drawLayersInViewport",value:function(e,t,n){var r=t.layers,i=t.moduleParameters,o=t.pass,a=t.target,s=t.viewport,u=t.view,l=function(e,t){var n=t.moduleParameters,r=t.target,i=t.viewport,o=r&&"default-framebuffer"!==r.id,a=n&&n.devicePixelRatio||(0,T.w)(e),s=o?r.height:e.drawingBufferHeight,u=i;return[u.x*a,s-(u.y+u.height)*a,u.width*a,u.height*a]}(e,{moduleParameters:i,target:a,viewport:s});if(u&&u.props.clear){var c=!0===u.props.clear?{color:!0,depth:!0}:u.props.clear;(0,T.s8)(e,{scissorTest:!0,scissor:l},(function(){return(0,P.Z)(e,c)}))}var f={totalCount:r.length,visibleCount:0,compositeCount:0,pickableCount:0};(0,T.dR)(e,{viewport:l});for(var d=0;d<r.length;d++){var h=r[d],p=n[d],v=p.shouldDrawLayer,g=p.layerRenderIndex,y=p.moduleParameters,m=p.layerParameters;if(v&&h.props.pickable&&f.pickableCount++,h.isComposite)f.compositeCount++;else if(v){f.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,g),y.viewport=s;try{h._drawLayer({moduleParameters:y,uniforms:{layerIndex:g},parameters:m})}catch(b){h.raiseError(b,"drawing ".concat(h," to ").concat(o))}}}return f}},{key:"shouldDrawLayer",value:function(e){return!0}},{key:"getModuleParameters",value:function(e,t){return null}},{key:"getLayerParameters",value:function(e,t,n){return e.props.parameters}},{key:"_shouldDrawLayer",value:function(e,t,n,r){if(!(e.props.visible&&this.shouldDrawLayer(e)))return!1;t.layer=e;for(var i=e.parent;i;){if(!i.props.visible||!i.filterSubLayer(t))return!1;t.layer=i,i=i.parent}if(n){var o=t.layer.id;if(o in r||(r[o]=n(t)),!r[o])return!1}return e.activateViewport(t.viewport),!0}},{key:"_getModuleParameters",value:function(e,t,n,r){var o,a=Object.assign(Object.create((null===(o=e.internalState)||void 0===o?void 0:o.propsInTransition)||e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,pickingActive:0,devicePixelRatio:(0,T.w)(this.gl)});if(t){var s,u=(0,i.Z)(t);try{for(u.s();!(s=u.n()).done;){var l,c=s.value;Object.assign(a,null===(l=c.getModuleParameters)||void 0===l?void 0:l.call(c,e))}}catch(f){u.e(f)}finally{u.f()}}return Object.assign(a,this.getModuleParameters(e,t),r)}}]),n}(S);function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=function r(i,o){var a,s=i.props._offset,u=i.id,l=i.parent&&i.parent.id;if(l&&!(l in t)&&r(i.parent,!1),l in n){var c=n[l]=n[l]||C(t[l],t);a=c(i,o),n[u]=c}else Number.isFinite(s)?(a=s+(t[l]||0),n[u]=null):a=e;return o&&a>=e&&(e=a+1),t[u]=a,a};return r}var Z=n(1535),O=n(6796),L=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(e,r){var i,a,u;return(0,o.Z)(this,n),u=t.call(this,e,r),(0,s.Z)((0,_.Z)(u),"shadowMap",void 0),(0,s.Z)((0,_.Z)(u),"depthBuffer",void 0),(0,s.Z)((0,_.Z)(u),"fbo",void 0),u.shadowMap=new l.Z(e,{width:1,height:1,parameters:(i={},(0,s.Z)(i,10241,9729),(0,s.Z)(i,10240,9729),(0,s.Z)(i,10242,33071),(0,s.Z)(i,10243,33071),i)}),u.depthBuffer=new Z.Z(e,{format:33189,width:1,height:1}),u.fbo=new O.Z(e,{id:"shadowmap",width:1,height:1,attachments:(a={},(0,s.Z)(a,36064,u.shadowMap),(0,s.Z)(a,36096,u.depthBuffer),a)}),u}return(0,a.Z)(n,[{key:"render",value:function(e){var t=this,r=this.fbo;(0,T.s8)(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},(function(){var i=e.viewports[0],o=(0,T.w)(t.gl),a=i.width*o,s=i.height*o;a===r.width&&s===r.height||r.resize({width:a,height:s}),(0,w.Z)((0,x.Z)(n.prototype),"render",t).call(t,(0,b.Z)((0,b.Z)({},e),{},{target:r,pass:"shadow"}))}))}},{key:"shouldDrawLayer",value:function(e){return!1!==e.props.shadowEnabled}},{key:"getModuleParameters",value:function(){return{drawToShadowMap:!0}}},{key:"delete",value:function(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}]),n}(A),R=n(2982),M=n(885),I=n(253),N=n(9032),F=n(4305),j=(0,N.Z)((function(e){var t=e.viewport,n=e.center;return new m.Z(t.viewProjectionMatrix).invert().transform(n)})),D=(0,N.Z)((function(e){var t,n=e.viewport,r=e.shadowMatrices,o=[],a=n.pixelUnprojectionMatrix,s=n.isGeospatial?void 0:1,u=[[0,0,s],[n.width,0,s],[0,n.height,s],[n.width,n.height,s],[0,0,-1],[n.width,0,-1],[0,n.height,-1],[n.width,n.height,-1]].map((function(e){return function(e,t){var n=(0,M.Z)(e,3),r=n[0],i=n[1],o=n[2],a=(0,F.CT)([r,i,o],t);if(Number.isFinite(o))return a;return[a[0],a[1],0]}(e,a)})),l=(0,i.Z)(r);try{var c=function(){var e=t.value,r=e.clone().translate(new h.Z(n.center).negate()),i=u.map((function(e){return r.transform(e)})),a=(new m.Z).ortho({left:Math.min.apply(Math,(0,R.Z)(i.map((function(e){return e[0]})))),right:Math.max.apply(Math,(0,R.Z)(i.map((function(e){return e[0]})))),bottom:Math.min.apply(Math,(0,R.Z)(i.map((function(e){return e[1]})))),top:Math.max.apply(Math,(0,R.Z)(i.map((function(e){return e[1]})))),near:Math.min.apply(Math,(0,R.Z)(i.map((function(e){return-e[2]})))),far:Math.max.apply(Math,(0,R.Z)(i.map((function(e){return-e[2]}))))});o.push(a.multiplyRight(e))};for(l.s();!(t=l.n()).done;)c()}catch(f){l.e(f)}finally{l.f()}return o})),z=[0,0,0,1],B=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function U(e,t){var n=e.shadowEnabled;if(!(void 0===n||n)||!e.shadowMatrices||!e.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};for(var i={shadow_uDrawShadowMap:Boolean(e.drawToShadowMap),shadow_uUseShadowMap:!!e.shadowMaps&&e.shadowMaps.length>0,shadow_uColor:e.shadowColor||z,shadow_uLightId:e.shadowLightId||0,shadow_uLightCount:e.shadowMatrices.length},o=j({viewport:e.viewport,center:t.project_uCenter}),a=[],s=D({shadowMatrices:e.shadowMatrices,viewport:e.viewport}).slice(),u=0;u<e.shadowMatrices.length;u++){var l=s[u],c=l.clone().translate(new h.Z(e.viewport.center).negate());t.project_uCoordinateSystem===r.Df.LNGLAT&&t.project_uProjectionMode===r.zG.WEB_MERCATOR?(s[u]=c,a[u]=o):(s[u]=l.clone().multiplyRight(B),a[u]=c.transform(o))}for(var f=0;f<s.length;f++)i["shadow_uViewProjectionMatrices[".concat(f,"]")]=s[f],i["shadow_uProjectCenters[".concat(f,"]")]=a[f],e.shadowMaps&&e.shadowMaps.length>0?i["shadow_uShadowMap".concat(f)]=e.shadowMaps[f]:i["shadow_uShadowMap".concat(f)]=e.dummyShadowMap;return i}var V={name:"shadow",dependencies:[I.Z],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"viewport"in e&&(e.drawToShadowMap||e.shadowMaps&&e.shadowMaps.length>0)?U(e,t):{}}},G={color:[255,255,255],intensity:1},W=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],H=[0,0,0,200/255],X=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in(0,o.Z)(this,e),(0,s.Z)(this,"id","lighting-effect"),(0,s.Z)(this,"props",null),(0,s.Z)(this,"shadowColor",H),(0,s.Z)(this,"shadow",void 0),(0,s.Z)(this,"ambientLight",null),(0,s.Z)(this,"directionalLights",[]),(0,s.Z)(this,"pointLights",[]),(0,s.Z)(this,"shadowPasses",[]),(0,s.Z)(this,"shadowMaps",[]),(0,s.Z)(this,"dummyShadowMap",null),(0,s.Z)(this,"programManager",void 0),(0,s.Z)(this,"shadowMatrices",void 0),t){var r=t[n];switch(r.type){case"ambient":this.ambientLight=r;break;case"directional":this.directionalLights.push(r);break;case"point":this.pointLights.push(r)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some((function(e){return e.shadow}))}return(0,a.Z)(e,[{key:"preRender",value:function(e,t){var n=t.layers,r=t.layerFilter,i=t.viewports,o=t.onViewportActive,a=t.views;if(this.shadow){this.shadowMatrices=this._calculateMatrices(),0===this.shadowPasses.length&&this._createShadowPasses(e),this.programManager||(this.programManager=u.Z.getDefaultProgramManager(e),V&&this.programManager.addDefaultModule(V)),this.dummyShadowMap||(this.dummyShadowMap=new l.Z(e,{width:1,height:1}));for(var s=0;s<this.shadowPasses.length;s++){this.shadowPasses[s].render({layers:n,layerFilter:r,viewports:i,onViewportActive:o,views:a,moduleParameters:{shadowLightId:s,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}}},{key:"getModuleParameters",value:function(e){var t=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return t.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map((function(t){return t.getProjectedLight({layer:e})})),pointLights:this.pointLights.map((function(t){return t.getProjectedLight({layer:e})}))},t}},{key:"cleanup",value:function(){var e,t=(0,i.Z)(this.shadowPasses);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(n){t.e(n)}finally{t.f()}this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(V),this.programManager=null)}},{key:"_calculateMatrices",value:function(){var e,t=[],n=(0,i.Z)(this.directionalLights);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=(new m.Z).lookAt({eye:new h.Z(r.direction).negate()});t.push(o)}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"_createShadowPasses",value:function(e){for(var t=0;t<this.directionalLights.length;t++){var n=new L(e);this.shadowPasses[t]=n,this.shadowMaps[t]=n.shadowMap}}},{key:"_applyDefaultLights",value:function(){var e=this.ambientLight,t=this.pointLights,n=this.directionalLights;e||0!==t.length||0!==n.length||(this.ambientLight=new d(G),this.directionalLights.push(new y(W[0]),new y(W[1])))}}]),e}(),Y=n(7944),K=[255,255,255],q=[0,0,1],Q=[0,0,1],$=0,J=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,e),(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"color",void 0),(0,s.Z)(this,"intensity",void 0),(0,s.Z)(this,"type","point"),(0,s.Z)(this,"position",void 0),(0,s.Z)(this,"attenuation",void 0),(0,s.Z)(this,"projectedLight",void 0);var n=t.color,r=void 0===n?K:n,i=t.intensity,a=void 0===i?1:i,u=t.position,l=void 0===u?Q:u;this.id=t.id||"point-".concat($++),this.color=r,this.intensity=a,this.type="point",this.position=l,this.attenuation=ee(t),this.projectedLight=(0,b.Z)({},this)}return(0,a.Z)(e,[{key:"getProjectedLight",value:function(e){var t=e.layer,n=this.projectedLight,i=t.context.viewport,o=t.props,a=o.coordinateSystem,s=o.coordinateOrigin,u=(0,Y.D)(this.position,{viewport:i,coordinateSystem:a,coordinateOrigin:s,fromCoordinateSystem:i.isGeospatial?r.Df.LNGLAT:r.Df.CARTESIAN,fromCoordinateOrigin:[0,0,0]});return n.color=this.color,n.intensity=this.intensity,n.position=u,n}}]),e}();function ee(e){return e.attenuation?e.attenuation:"intensity"in e?[0,0,e.intensity||0]:q}var te=n(818),ne=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"getProjectedLight",value:function(e){var t=e.layer,n=this.projectedLight,r=t.context.viewport,i=t.props,o=i.coordinateSystem,a=i.coordinateOrigin,s=i.modelMatrix,u=(0,te.C)({viewport:r,modelMatrix:s,coordinateSystem:o,coordinateOrigin:a}).project_uCameraPosition;return n.color=this.color,n.intensity=this.intensity,n.position=u,n}}]),n}(J),re=Math.PI/180,ie=864e5,oe=2440588,ae=2451545,se=23.4397*re,ue=357.5291,le=.98560028,ce=280.147,fe=360.9856235;function de(e,t,n){var r=re*-n,i=re*t,o=function(e){return function(e){return("number"===typeof e?e:e.getTime())/ie-.5+oe}(e)-ae}(e),a=function(e){var t=function(e){var t=e,n=re*(1.9148*Math.sin(t)+.02*Math.sin(2*t)+3e-4*Math.sin(3*t));return t+n+102.9372*re+Math.PI}((n=e,re*(ue+le*n)));var n;return{declination:ve(t,0),rightAscension:pe(t,0)}}(o),s=function(e,t){return re*(ce+fe*e)-t}(o,r)-a.rightAscension;return{azimuth:ge(s,i,a.declination),altitude:ye(s,i,a.declination)}}function he(e,t,n){var r=de(e,t,n),i=r.azimuth,o=r.altitude;return[Math.sin(i)*Math.cos(o),Math.cos(i)*Math.cos(o),-Math.sin(o)]}function pe(e,t){var n=e;return Math.atan2(Math.sin(n)*Math.cos(se)-Math.tan(t)*Math.sin(se),Math.cos(n))}function ve(e,t){var n=e;return Math.asin(Math.sin(t)*Math.cos(se)+Math.cos(t)*Math.sin(se)*Math.sin(n))}function ge(e,t,n){var r=e,i=t,o=n;return Math.atan2(Math.sin(r),Math.cos(r)*Math.sin(i)-Math.tan(o)*Math.cos(i))}function ye(e,t,n){var r=e,i=t,o=n;return Math.asin(Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos(r))}var me=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(e){var r;return(0,o.Z)(this,n),r=t.call(this,e),(0,s.Z)((0,_.Z)(r),"timestamp",void 0),r.timestamp=e.timestamp,r}return(0,a.Z)(n,[{key:"getProjectedLight",value:function(e){var t=e.layer.context.viewport;if(t.resolution&&t.resolution>0){var n=he(this.timestamp,0,0),r=(0,M.Z)(n,3),i=r[0],o=r[1],a=r[2];this.direction=[i,-a,o]}else{var s=t.latitude,u=t.longitude;this.direction=he(this.timestamp,s,u)}return this}}]),n}(y),be=n(5410),_e=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(e,r){var i;(0,o.Z)(this,n),i=t.call(this,e,r),(0,s.Z)((0,_.Z)(i),"model",void 0);var a=r.module,u=r.fs,l=r.id;return i.model=new be.Z(e,{id:l,fs:u,modules:[a]}),i}return(0,a.Z)(n,[{key:"render",value:function(e){var t=this,n=this.gl;(0,T.dR)(n,{viewport:[0,0,n.drawingBufferWidth,n.drawingBufferHeight]}),(0,T.s8)(n,{framebuffer:e.outputBuffer,clearColor:[0,0,0,0]},(function(){return t._renderPass(n,e)}))}},{key:"delete",value:function(){this.model.delete(),this.model=null}},{key:"_renderPass",value:function(e,t){var n=t.inputBuffer;(0,P.Z)(e,{color:!0}),this.model.draw({moduleSettings:this.props.moduleSettings,uniforms:{texture:n,texSize:[n.width,n.height]},parameters:{depthWrite:!1,depthTest:!1}})}}]),n}(S),we=n(6092),xe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.Z)(this,e),(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"props",void 0),(0,s.Z)(this,"module",void 0),(0,s.Z)(this,"passes",void 0),this.id="".concat(t.name,"-pass"),this.props=n,(0,we.v)(t),this.module=t}return(0,a.Z)(e,[{key:"preRender",value:function(){}},{key:"postRender",value:function(e,t){var n=this.passes||function(e,t,n,r){if(!t.passes){var i=Se(t);return[new _e(e,{id:n,module:t,fs:i,moduleSettings:r})]}return t.passes.map((function(i,o){var a=Se(t,i),s="".concat(n,"-").concat(o);return new _e(e,{id:s,module:t,fs:a,moduleSettings:r})}))}(e,this.module,this.id,this.props);this.passes=n;for(var r=t.target,i=t.inputBuffer,o=t.swapBuffer,a=0;a<this.passes.length;a++){r&&a===this.passes.length-1&&(o=r),this.passes[a].render({inputBuffer:i,outputBuffer:o});var s=o;o=i,i=s}return i}},{key:"cleanup",value:function(){if(this.passes){var e,t=(0,i.Z)(this.passes);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(n){t.e(n)}finally{t.f()}this.passes=void 0}}}]),e}();var ke=function(e){return"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = texture2D(texture, texCoord);\n  gl_FragColor = ".concat(e,"(gl_FragColor, texSize, texCoord);\n}\n")},Ee=function(e){return"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = ".concat(e,"(texture, texSize, texCoord);\n}\n")};function Se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t.filter){var n="string"===typeof t.filter?t.filter:"".concat(e.name,"_filterColor");return ke(n)}if(t.sampler){var r="string"===typeof t.sampler?t.sampler:"".concat(e.name,"_sampleColor");return Ee(r)}return null}var Te=n(851),Pe=n(3547),Ae=n(7951),Ce=n(9299),Ze=n(9199),Oe=n(9574),Le=n(3622),Re=function(){function e(t,n,r){(0,o.Z)(this,e),(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"context",void 0),(0,s.Z)(this,"isLoaded",void 0),(0,s.Z)(this,"persistent",void 0),(0,s.Z)(this,"_loadCount",0),(0,s.Z)(this,"_subscribers",new Set),(0,s.Z)(this,"_data",void 0),(0,s.Z)(this,"_loader",void 0),(0,s.Z)(this,"_error",void 0),(0,s.Z)(this,"_content",void 0),this.id=t,this.context=r,this.setData(n)}return(0,a.Z)(e,[{key:"subscribe",value:function(e){this._subscribers.add(e)}},{key:"unsubscribe",value:function(e){this._subscribers.delete(e)}},{key:"inUse",value:function(){return this._subscribers.size>0}},{key:"delete",value:function(){}},{key:"getData",value:function(){var e=this;return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then((function(){return e.getData()}))}},{key:"setData",value:function(e,t){var n=this;if(e!==this._data||t){this._data=e;var r=++this._loadCount,o=e;"string"===typeof e&&(o=(0,Le.z)(e)),o instanceof Promise?(this.isLoaded=!1,this._loader=o.then((function(e){n._loadCount===r&&(n.isLoaded=!0,n._error=void 0,n._content=e)})).catch((function(e){n._loadCount===r&&(n.isLoaded=!0,n._error=e||!0)}))):(this.isLoaded=!0,this._error=void 0,this._content=e);var a,s=(0,i.Z)(this._subscribers);try{for(s.s();!(a=s.n()).done;){a.value.onChange(this.getData())}}catch(u){s.e(u)}finally{s.f()}}}}]),e}(),Me=function(){function e(t){var n=t.gl,r=t.protocol;(0,o.Z)(this,e),(0,s.Z)(this,"protocol",void 0),(0,s.Z)(this,"_context",void 0),(0,s.Z)(this,"_resources",void 0),(0,s.Z)(this,"_consumers",void 0),(0,s.Z)(this,"_pruneRequest",void 0),this.protocol=r||"resource://",this._context={gl:n,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}return(0,a.Z)(e,[{key:"contains",value:function(e){return!!e.startsWith(this.protocol)||e in this._resources}},{key:"add",value:function(e){var t=e.resourceId,n=e.data,r=e.forceUpdate,i=void 0!==r&&r,o=e.persistent,a=void 0===o||o,s=this._resources[t];s?s.setData(n,i):(s=new Re(t,n,this._context),this._resources[t]=s),s.persistent=a}},{key:"remove",value:function(e){var t=this._resources[e];t&&(t.delete(),delete this._resources[e])}},{key:"unsubscribe",value:function(e){var t=e.consumerId,n=this._consumers[t];if(n){for(var r in n){var i=n[r],o=this._resources[i.resourceId];o&&o.unsubscribe(i)}delete this._consumers[t],this.prune()}}},{key:"subscribe",value:function(e){var t=e.resourceId,n=e.onChange,r=e.consumerId,i=e.requestId,o=void 0===i?"default":i,a=this._resources,s=this.protocol;t.startsWith(s)&&(a[t=t.replace(s,"")]||this.add({resourceId:t,data:null,persistent:!1}));var u=a[t];if(this._track(r,o,u,n),u)return u.getData()}},{key:"prune",value:function(){var e=this;this._pruneRequest||(this._pruneRequest=setTimeout((function(){return e._prune()}),0))}},{key:"finalize",value:function(){for(var e in this._resources)this._resources[e].delete()}},{key:"_track",value:function(e,t,n,r){var i=this._consumers,o=i[e]=i[e]||{},a=o[t]||{},s=a.resourceId&&this._resources[a.resourceId];s&&(s.unsubscribe(a),this.prune()),n&&(o[t]=a,a.onChange=r,a.resourceId=n.id,n.subscribe(a))}},{key:"_prune",value:function(){this._pruneRequest=null;for(var e=0,t=Object.keys(this._resources);e<t.length;e++){var n=t[e],r=this._resources[n];r.persistent||r.inUse()||(r.delete(),delete this._resources[n])}}}]),e}(),Ie=n(1494),Ne=[I.Z],Fe=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function je(e){var t,n=u.Z.getDefaultProgramManager(e),r=(0,i.Z)(Ne);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.addDefaultModule(o)}}catch(c){r.e(c)}finally{r.f()}var a,s=(0,i.Z)(Fe);try{for(s.s();!(a=s.n()).done;){var l=a.value;n.addShaderHook(l)}}catch(c){s.e(c)}finally{s.f()}return n}var De="layerManager.activateViewport",ze=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.deck,a=r.stats,u=r.viewport,l=r.timeline;(0,o.Z)(this,e),(0,s.Z)(this,"layers",void 0),(0,s.Z)(this,"context",void 0),(0,s.Z)(this,"resourceManager",void 0),(0,s.Z)(this,"_lastRenderedLayers",[]),(0,s.Z)(this,"_needsRedraw",!1),(0,s.Z)(this,"_needsUpdate",!1),(0,s.Z)(this,"_nextLayers",null),(0,s.Z)(this,"_debug",!1),(0,s.Z)(this,"activateViewport",(function(e){(0,Ce.Z)(De,n,e),e&&(n.context.viewport=e)})),this.layers=[],this.resourceManager=new Me({gl:t,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:t,deck:i,programManager:t&&je(t),stats:a||new Oe.jk({id:"deck.gl"}),viewport:u||new Ie.Z({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:l||new Te.T,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}return(0,a.Z)(e,[{key:"finalize",value:function(){this.resourceManager.finalize();var e,t=(0,i.Z)(this.layers);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._finalizeLayer(n)}}catch(r){t.e(r)}finally{t.f()}}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);var n,r=(0,i.Z)(this.layers);try{for(r.s();!(n=r.n()).done;){var o=n.value,a=o.getNeedsRedraw(e);t=t||a}}catch(s){r.e(s)}finally{r.f()}return t}},{key:"needsUpdate",value:function(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}},{key:"setNeedsRedraw",value:function(e){this._needsRedraw=this._needsRedraw||e}},{key:"setNeedsUpdate",value:function(e){this._needsUpdate=this._needsUpdate||e}},{key:"getLayers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerIds;return t?this.layers.filter((function(e){return t.find((function(t){return 0===e.id.indexOf(t)}))})):this.layers}},{key:"setProps",value:function(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}},{key:"setLayers",value:function(e,t){(0,Ce.Z)("layerManager.setLayers",this,t,e),this._lastRenderedLayers=e;var n,r=(0,Ze.x)(e,Boolean),o=(0,i.Z)(r);try{for(o.s();!(n=o.n()).done;){n.value.context=this.context}}catch(a){o.e(a)}finally{o.f()}this._updateLayers(this.layers,r)}},{key:"updateLayers",value:function(){var e=this.needsUpdate();e&&(this.setNeedsRedraw("updating layers: ".concat(e)),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}},{key:"_handleError",value:function(e,t,n){n.raiseError(t,"".concat(e," of ").concat(n))}},{key:"_updateLayers",value:function(e,t){var n,r={},o=(0,i.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;r[a.id]?Ae.Z.warn("Multiple old layers with same id ".concat(a.id))():r[a.id]=a}}catch(d){o.e(d)}finally{o.f()}var s=[];this._updateSublayersRecursively(t,r,s),this._finalizeOldLayers(r);for(var u=!1,l=0,c=s;l<c.length;l++){var f=c[l];if(f.hasUniformTransition()){u="Uniform transition in ".concat(f);break}}this._needsUpdate=u,this.layers=s}},{key:"_updateSublayersRecursively",value:function(e,t,n){var r,o=(0,i.Z)(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.context=this.context;var s=t[a.id];null===s&&Ae.Z.warn("Multiple new layers with same id ".concat(a.id))(),t[a.id]=null;var u=null;try{this._debug&&s!==a&&a.validateProps(),s?(this._transferLayerState(s,a),this._updateLayer(a)):this._initializeLayer(a),n.push(a),u=a.isComposite?a.getSubLayers():null}catch(l){this._handleError("matching",l,a)}u&&this._updateSublayersRecursively(u,t,n)}}catch(l){o.e(l)}finally{o.f()}}},{key:"_finalizeOldLayers",value:function(e){for(var t in e){var n=e[t];n&&this._finalizeLayer(n)}}},{key:"_initializeLayer",value:function(e){try{e._initialize(),e.lifecycle=Pe.dt.INITIALIZED}catch(t){this._handleError("initialization",t,e)}}},{key:"_transferLayerState",value:function(e,t){t._transferState(e),t.lifecycle=Pe.dt.MATCHED,t!==e&&(e.lifecycle=Pe.dt.AWAITING_GC)}},{key:"_updateLayer",value:function(e){try{e._update()}catch(t){this._handleError("update",t,e)}}},{key:"_finalizeLayer",value:function(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(e),e.lifecycle=Pe.dt.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=Pe.dt.FINALIZED}catch(t){this._handleError("finalization",t,e)}}}]),e}(),Be=n(9905),Ue=function(){function e(t){(0,o.Z)(this,e),(0,s.Z)(this,"width",void 0),(0,s.Z)(this,"height",void 0),(0,s.Z)(this,"views",void 0),(0,s.Z)(this,"viewState",void 0),(0,s.Z)(this,"controllers",void 0),(0,s.Z)(this,"timeline",void 0),(0,s.Z)(this,"_viewports",void 0),(0,s.Z)(this,"_viewportMap",void 0),(0,s.Z)(this,"_isUpdating",void 0),(0,s.Z)(this,"_needsRedraw",void 0),(0,s.Z)(this,"_needsUpdate",void 0),(0,s.Z)(this,"_eventManager",void 0),(0,s.Z)(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=t.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=t.eventManager,this._eventCallbacks={onViewStateChange:t.onViewStateChange,onInteractionStateChange:t.onInteractionStateChange},Object.seal(this),this.setProps(t)}return(0,a.Z)(e,[{key:"finalize",value:function(){for(var e in this.controllers){var t=this.controllers[e];t&&t.finalize()}this.controllers={}}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"setNeedsUpdate",value:function(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}},{key:"updateViewStates",value:function(){for(var e in this.controllers){var t=this.controllers[e];t&&t.updateTransition()}}},{key:"getViewports",value:function(e){return e?this._viewports.filter((function(t){return t.containsPixel(e)})):this._viewports}},{key:"getViews",value:function(){var e={};return this.views.forEach((function(t){e[t.id]=t})),e}},{key:"getView",value:function(e){return this.views.find((function(t){return t.id===e}))}},{key:"getViewState",value:function(e){var t="string"===typeof e?this.getView(e):e,n=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(n):n}},{key:"getViewport",value:function(e){return this._viewportMap[e]}},{key:"unproject",value:function(e,t){for(var n=this.getViewports(),r={x:e[0],y:e[1]},i=n.length-1;i>=0;--i){var o=n[i];if(o.containsPixel(r)){var a=e.slice();return a[0]-=o.x,a[1]-=o.y,o.unproject(a,t)}}return null}},{key:"setProps",value:function(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}},{key:"_update",value:function(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}},{key:"_setSize",value:function(e,t){e===this.width&&t===this.height||(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}},{key:"_setViews",value:function(e){e=(0,Ze.x)(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}},{key:"_setViewState",value:function(e){e?(!(0,Be.v)(e,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):Ae.Z.warn("missing `viewState` or `initialViewState`")()}},{key:"_onViewStateChange",value:function(e,t){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange((0,b.Z)((0,b.Z)({},t),{},{viewId:e}))}},{key:"_createController",value:function(e,t){var n=this;return new(0,t.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,t.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:function(t){var r;return null===(r=n.getView(e.id))||void 0===r?void 0:r.makeViewport({viewState:t,width:n.width,height:n.height})}})}},{key:"_updateController",value:function(e,t,n,r){var i=e.controller;if(i){var o=(0,b.Z)((0,b.Z)((0,b.Z)({},t),i),{},{id:e.id,x:n.x,y:n.y,width:n.width,height:n.height});return r||(r=this._createController(e,o)),r&&r.setProps(o),r}return null}},{key:"_rebuildViewports",value:function(){var e=this.views,t=this.controllers;this._viewports=[],this.controllers={};for(var n=!1,r=e.length;r--;){var i=e[r],o=this.getViewState(i),a=i.makeViewport({viewState:o,width:this.width,height:this.height}),s=t[i.id],u=Boolean(i.controller);u&&!s&&(n=!0),!n&&u||!s||(s.finalize(),s=null),this.controllers[i.id]=this._updateController(i,o,a,s),this._viewports.unshift(a)}for(var l in t){var c=t[l];c&&!this.controllers[l]&&c.finalize()}this._buildViewportMap()}},{key:"_buildViewportMap",value:function(){var e=this;this._viewportMap={},this._viewports.forEach((function(t){t.id&&(e._viewportMap[t.id]=e._viewportMap[t.id]||t)}))}},{key:"_diffViews",value:function(e,t){return e.length!==t.length||e.some((function(n,r){return!e[r].equals(t[r])}))}}]),e}(),Ve=/([0-9]+\.?[0-9]*)(%|px)/;function Ge(e){switch(typeof e){case"number":return{position:e,relative:!1};case"string":var t=Ve.exec(e);if(t&&t.length>=3){var n="%"===t[2],r=parseFloat(t[1]);return{position:n?r/100:r,relative:n}}default:throw new Error("Could not parse position string ".concat(e))}}function We(e,t){return e.relative?Math.round(e.position*t):e.position}var He=n(6291),Xe=function(){function e(t){(0,o.Z)(this,e),(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"viewportInstance",void 0),(0,s.Z)(this,"_x",void 0),(0,s.Z)(this,"_y",void 0),(0,s.Z)(this,"_width",void 0),(0,s.Z)(this,"_height",void 0),(0,s.Z)(this,"_padding",void 0),(0,s.Z)(this,"props",void 0);var n=t||{},r=n.id,i=n.x,a=void 0===i?0:i,u=n.y,l=void 0===u?0:u,c=n.width,f=void 0===c?"100%":c,d=n.height,h=void 0===d?"100%":d,p=n.padding,v=void 0===p?null:p,g=n.viewportInstance;(0,He.Z)(!g||g instanceof Ie.Z),this.viewportInstance=g,this.id=r||this.constructor.displayName||"view",this.props=(0,b.Z)((0,b.Z)({},t),{},{id:this.id}),this._x=Ge(a),this._y=Ge(l),this._width=Ge(f),this._height=Ge(h),this._padding=v&&{left:Ge(v.left||0),right:Ge(v.right||0),top:Ge(v.top||0),bottom:Ge(v.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}return(0,a.Z)(e,[{key:"equals",value:function(e){return this===e||(this.viewportInstance?!!e.viewportInstance&&this.viewportInstance.equals(e.viewportInstance):this.ViewportType===e.ViewportType&&(0,Be.v)(this.props,e.props))}},{key:"makeViewport",value:function(e){var t=e.width,n=e.height,r=e.viewState;if(this.viewportInstance)return this.viewportInstance;r=this.filterViewState(r);var i=this.getDimensions({width:t,height:n});return new this.ViewportType((0,b.Z)((0,b.Z)((0,b.Z)({},r),this.props),i))}},{key:"getViewStateId",value:function(){var e=this.props.viewState;return"string"===typeof e?e:(null===e||void 0===e?void 0:e.id)||this.id}},{key:"filterViewState",value:function(e){if(this.props.viewState&&"object"===typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;var t=(0,b.Z)({},e);for(var n in this.props.viewState)"id"!==n&&(t[n]=this.props.viewState[n]);return t}return e}},{key:"getDimensions",value:function(e){var t=e.width,n=e.height,r={x:We(this._x,t),y:We(this._y,n),width:We(this._width,t),height:We(this._height,n)};return this._padding&&(r.padding={left:We(this._padding.left,t),top:We(this._padding.top,n),right:We(this._padding.right,t),bottom:We(this._padding.bottom,n)}),r}},{key:"controller",get:function(){var e=this.props.controller;return e?!0===e?{type:this.ControllerType}:"function"===typeof e?{type:e}:(0,b.Z)({type:this.ControllerType},e):null}}]),e}(),Ye=n(4508),Ke=n(1783),qe=n(1055),Qe=function(){},$e={BREAK:1,SNAP_TO_END:2,IGNORE:3},Je=function(e){return e},et=$e.BREAK,tt=function(){function e(t){var n=this;(0,o.Z)(this,e),(0,s.Z)(this,"getControllerState",void 0),(0,s.Z)(this,"props",void 0),(0,s.Z)(this,"propsInTransition",void 0),(0,s.Z)(this,"transition",void 0),(0,s.Z)(this,"onViewStateChange",void 0),(0,s.Z)(this,"onStateChange",void 0),(0,s.Z)(this,"_onTransitionUpdate",(function(e){var t=e.time,r=e.settings,i=r.interpolator,o=r.startProps,a=r.endProps,s=r.duration,u=(0,r.easing)(t/s),l=i.interpolateProps(o,a,u);n.propsInTransition=n.getControllerState((0,b.Z)((0,b.Z)({},n.props),l)).getViewportProps(),n.onViewStateChange({viewState:n.propsInTransition,oldViewState:n.props})})),this.getControllerState=t.getControllerState,this.propsInTransition=null,this.transition=new qe.Z(t.timeline),this.onViewStateChange=t.onViewStateChange||Qe,this.onStateChange=t.onStateChange||Qe}return(0,a.Z)(e,[{key:"finalize",value:function(){this.transition.cancel()}},{key:"getViewportInTransition",value:function(){return this.propsInTransition}},{key:"processViewStateChange",value:function(e){var t=!1,n=this.props;if(this.props=e,!n||this._shouldIgnoreViewportChange(n,e))return!1;if(this._isTransitionEnabled(e)){var r=n;if(this.transition.inProgress){var i=this.transition.settings,o=i.interruption,a=i.endProps;r=(0,b.Z)((0,b.Z)({},n),o===$e.SNAP_TO_END?a:this.propsInTransition||n)}this._triggerTransition(r,e),t=!0}else this.transition.cancel();return t}},{key:"updateTransition",value:function(){this.transition.update()}},{key:"_isTransitionEnabled",value:function(e){var t=e.transitionDuration,n=e.transitionInterpolator;return(t>0||"auto"===t)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(e){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(e,t){return this.transition.inProgress?this.transition.settings.interruption===$e.IGNORE||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}},{key:"_triggerTransition",value:function(e,t){var n=this.getControllerState(e),r=this.getControllerState(t).shortestPathFrom(n),i=t.transitionInterpolator,o=i.getDuration?i.getDuration(e,t):t.transitionDuration;if(0!==o){var a=i.initializeProps(e,r);this.propsInTransition={};var s={duration:o,easing:t.transitionEasing||Je,interpolator:i,interruption:t.transitionInterruption||et,startProps:a.start,endProps:a.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)};this.transition.start(s),this.onStateChange({inTransition:!0}),this.updateTransition()}}},{key:"_onTransitionEnd",value:function(e){var t=this;return function(n){t.propsInTransition=null,t.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),null===e||void 0===e||e(n)}}}]),e}(),nt=function(){function e(t){(0,o.Z)(this,e),(0,s.Z)(this,"_propsToCompare",void 0),(0,s.Z)(this,"_propsToExtract",void 0),(0,s.Z)(this,"_requiredProps",void 0);var n=t.compare,r=t.extract,i=t.required;this._propsToCompare=n,this._propsToExtract=r||n,this._requiredProps=i}return(0,a.Z)(e,[{key:"arePropsEqual",value:function(e,t){var n,r=(0,i.Z)(this._propsToCompare);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!(o in e)||!(o in t)||!(0,Ke.fS)(e[o],t[o]))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}},{key:"initializeProps",value:function(e,t){var n,r={},o={},a=(0,i.Z)(this._propsToExtract);try{for(a.s();!(n=a.n()).done;){var s=n.value;(s in e||s in t)&&(r[s]=e[s],o[s]=t[s])}}catch(u){a.e(u)}finally{a.f()}return this._checkRequiredProps(r),this._checkRequiredProps(o),{start:r,end:o}}},{key:"getDuration",value:function(e,t){return t.transitionDuration}},{key:"_checkRequiredProps",value:function(e){this._requiredProps&&this._requiredProps.forEach((function(t){var n=e[t];(0,He.Z)(Number.isFinite(n)||Array.isArray(n),"".concat(t," is required for transition"))}))}}]),e}(),rt=["longitude","latitude","zoom","bearing","pitch"],it=["longitude","latitude","zoom"],ot=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,n);var i=Array.isArray(r)?r:r.transitionProps,a=Array.isArray(r)?{}:r;return a.transitionProps=Array.isArray(i)?{compare:i,required:i}:i||{compare:rt,required:it},e=t.call(this,a.transitionProps),(0,s.Z)((0,_.Z)(e),"opts",void 0),e.opts=a,e}return(0,a.Z)(n,[{key:"initializeProps",value:function(e,t){var r=(0,w.Z)((0,x.Z)(n.prototype),"initializeProps",this).call(this,e,t),i=this.opts,o=i.makeViewport,a=i.around;if(o&&a){var s=o(e),u=o(t),l=s.unproject(a);r.start.around=a,Object.assign(r.end,{around:u.project(l),aroundPosition:l,width:t.width,height:t.height})}return r}},{key:"interpolateProps",value:function(e,t,n){var r,o={},a=(0,i.Z)(this._propsToExtract);try{for(a.s();!(r=a.n()).done;){var s=r.value;o[s]=(0,Ke.t7)(e[s]||0,t[s]||0,n)}}catch(l){a.e(l)}finally{a.f()}if(t.aroundPosition&&this.opts.makeViewport){var u=this.opts.makeViewport((0,b.Z)((0,b.Z)({},t),o));Object.assign(o,u.panByPosition(t.aroundPosition,(0,Ke.t7)(e.around,t.around,n)))}return o}}]),n}(nt),at={transitionDuration:0},st=function(e){return 1-(1-e)*(1-e)},ut=["wheel"],lt=["panstart","panmove","panend"],ct=["pinchstart","pinchmove","pinchend"],ft=["tripanstart","tripanmove","tripanend"],dt=["doubletap"],ht=["keydown"],pt={},vt=function(){function e(t){var n=this;(0,o.Z)(this,e),(0,s.Z)(this,"props",void 0),(0,s.Z)(this,"state",{}),(0,s.Z)(this,"transitionManager",void 0),(0,s.Z)(this,"eventManager",void 0),(0,s.Z)(this,"onViewStateChange",void 0),(0,s.Z)(this,"onStateChange",void 0),(0,s.Z)(this,"makeViewport",void 0),(0,s.Z)(this,"_controllerState",void 0),(0,s.Z)(this,"_events",{}),(0,s.Z)(this,"_interactionState",{isDragging:!1}),(0,s.Z)(this,"_customEvents",[]),(0,s.Z)(this,"_eventStartBlocked",null),(0,s.Z)(this,"_panMove",!1),(0,s.Z)(this,"invertPan",!1),(0,s.Z)(this,"dragMode","rotate"),(0,s.Z)(this,"inertia",0),(0,s.Z)(this,"scrollZoom",!0),(0,s.Z)(this,"dragPan",!0),(0,s.Z)(this,"dragRotate",!0),(0,s.Z)(this,"doubleClickZoom",!0),(0,s.Z)(this,"touchZoom",!0),(0,s.Z)(this,"touchRotate",!1),(0,s.Z)(this,"keyboard",!0),this.transitionManager=new tt((0,b.Z)((0,b.Z)({},t),{},{getControllerState:function(e){return new n.ControllerState(e)},onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)})),this.handleEvent=this.handleEvent.bind(this),this.eventManager=t.eventManager,this.onViewStateChange=t.onViewStateChange||function(){},this.onStateChange=t.onStateChange||function(){},this.makeViewport=t.makeViewport}return(0,a.Z)(e,[{key:"events",set:function(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}},{key:"finalize",value:function(){for(var e in this._events){var t;if(this._events[e])null===(t=this.eventManager)||void 0===t||t.off(e,this.handleEvent)}this.transitionManager.finalize()}},{key:"handleEvent",value:function(e){this._controllerState=void 0;var t=this._eventStartBlocked;switch(e.type){case"panstart":return!t&&this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return!t&&this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return!t&&this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}},{key:"controllerState",get:function(){return this._controllerState=this._controllerState||new this.ControllerState((0,b.Z)((0,b.Z)({makeViewport:this.makeViewport},this.props),this.state)),this._controllerState}},{key:"getCenter",value:function(e){var t=this.props,n=t.x,r=t.y,i=e.offsetCenter;return[i.x-n,i.y-r]}},{key:"isPointInBounds",value:function(e,t){var n=this.props,r=n.width,i=n.height;if(t&&t.handled)return!1;var o=e[0]>=0&&e[0]<=r&&e[1]>=0&&e[1]<=i;return o&&t&&t.stopPropagation(),o}},{key:"isFunctionKeyPressed",value:function(e){var t=e.srcEvent;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}},{key:"isDragging",value:function(){return this._interactionState.isDragging||!1}},{key:"blockEvents",value:function(e){var t=this,n=setTimeout((function(){t._eventStartBlocked===n&&(t._eventStartBlocked=null)}),e);this._eventStartBlocked=n}},{key:"setProps",value:function(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);var t=e.inertia;this.inertia=Number.isFinite(t)?t:!0===t?300:0;var n=e.scrollZoom,r=void 0===n||n,i=e.dragPan,o=void 0===i||i,a=e.dragRotate,s=void 0===a||a,u=e.doubleClickZoom,l=void 0===u||u,c=e.touchZoom,f=void 0===c||c,d=e.touchRotate,h=void 0!==d&&d,p=e.keyboard,v=void 0===p||p,g=Boolean(this.onViewStateChange);this.toggleEvents(ut,g&&r),this.toggleEvents(lt,g&&(o||s)),this.toggleEvents(ct,g&&(f||h)),this.toggleEvents(ft,g&&h),this.toggleEvents(dt,g&&l),this.toggleEvents(ht,g&&v),this.scrollZoom=r,this.dragPan=o,this.dragRotate=s,this.doubleClickZoom=l,this.touchZoom=f,this.touchRotate=h,this.keyboard=v}},{key:"updateTransition",value:function(){this.transitionManager.updateTransition()}},{key:"toggleEvents",value:function(e,t){var n=this;this.eventManager&&e.forEach((function(e){n._events[e]!==t&&(n._events[e]=t,t?n.eventManager.on(e,n.handleEvent):n.eventManager.off(e,n.handleEvent))}))}},{key:"updateViewport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,b.Z)((0,b.Z)({},e.getViewportProps()),t),i=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(n),i){var o=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:r,interactionState:this._interactionState,oldViewState:o})}}},{key:"_onTransition",value:function(e){this.onViewStateChange((0,b.Z)((0,b.Z)({},e),{},{interactionState:this._interactionState}))}},{key:"_setInteractionState",value:function(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}},{key:"_onPanStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(n=!n);var r=this.controllerState[n?"panStart":"rotateStart"]({pos:t});return this._panMove=n,this.updateViewport(r,at,{isDragging:!0}),!0}},{key:"_onPan",value:function(e){return!!this.isDragging()&&(this._panMove?this._onPanMove(e):this._onPanRotate(e))}},{key:"_onPanEnd",value:function(e){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e))}},{key:"_onPanMove",value:function(e){if(!this.dragPan)return!1;var t=this.getCenter(e),n=this.controllerState.pan({pos:t});return this.updateViewport(n,at,{isDragging:!0,isPanning:!0}),!0}},{key:"_onPanMoveEnd",value:function(e){var t=this.inertia;if(this.dragPan&&t&&e.velocity){var n=this.getCenter(e),r=[n[0]+e.velocityX*t/2,n[1]+e.velocityY*t/2],i=this.controllerState.pan({pos:r}).panEnd();this.updateViewport(i,(0,b.Z)((0,b.Z)({},this._getTransitionProps()),{},{transitionDuration:t,transitionEasing:st}),{isDragging:!1,isPanning:!0})}else{var o=this.controllerState.panEnd();this.updateViewport(o,null,{isDragging:!1,isPanning:!1})}return!0}},{key:"_onPanRotate",value:function(e){if(!this.dragRotate)return!1;var t=this.getCenter(e),n=this.controllerState.rotate({pos:t});return this.updateViewport(n,at,{isDragging:!0,isRotating:!0}),!0}},{key:"_onPanRotateEnd",value:function(e){var t=this.inertia;if(this.dragRotate&&t&&e.velocity){var n=this.getCenter(e),r=[n[0]+e.velocityX*t/2,n[1]+e.velocityY*t/2],i=this.controllerState.rotate({pos:r}).rotateEnd();this.updateViewport(i,(0,b.Z)((0,b.Z)({},this._getTransitionProps()),{},{transitionDuration:t,transitionEasing:st}),{isDragging:!1,isRotating:!0})}else{var o=this.controllerState.rotateEnd();this.updateViewport(o,null,{isDragging:!1,isRotating:!1})}return!0}},{key:"_onWheel",value:function(e){if(!this.scrollZoom)return!1;e.srcEvent.preventDefault();var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=!0===this.scrollZoom?{}:this.scrollZoom,r=n.speed,i=void 0===r?.01:r,o=n.smooth,a=void 0!==o&&o,s=e.delta,u=2/(1+Math.exp(-Math.abs(s*i)));s<0&&0!==u&&(u=1/u);var l=this.controllerState.zoom({pos:t,scale:u});return this.updateViewport(l,(0,b.Z)((0,b.Z)({},this._getTransitionProps({around:t})),{},{transitionDuration:a?250:1}),{isZooming:!0,isPanning:!0}),!0}},{key:"_onTriplePanStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.controllerState.rotateStart({pos:t});return this.updateViewport(n,at,{isDragging:!0}),!0}},{key:"_onTriplePan",value:function(e){if(!this.touchRotate)return!1;if(!this.isDragging())return!1;var t=this.getCenter(e);t[0]-=e.deltaX;var n=this.controllerState.rotate({pos:t});return this.updateViewport(n,at,{isDragging:!0,isRotating:!0}),!0}},{key:"_onTriplePanEnd",value:function(e){if(!this.isDragging())return!1;var t=this.inertia;if(this.touchRotate&&t&&e.velocityY){var n=this.getCenter(e),r=[n[0],n[1]+=e.velocityY*t/2],i=this.controllerState.rotate({pos:r});this.updateViewport(i,(0,b.Z)((0,b.Z)({},this._getTransitionProps()),{},{transitionDuration:t,transitionEasing:st}),{isDragging:!1,isRotating:!0}),this.blockEvents(t)}else{var o=this.controllerState.rotateEnd();this.updateViewport(o,null,{isDragging:!1,isRotating:!1})}return!0}},{key:"_onPinchStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return pt._startPinchRotation=e.rotation,pt._lastPinchEvent=e,this.updateViewport(n,at,{isDragging:!0}),!0}},{key:"_onPinch",value:function(e){if(!this.touchZoom&&!this.touchRotate)return!1;if(!this.isDragging())return!1;var t=this.controllerState;if(this.touchZoom){var n=e.scale,r=this.getCenter(e);t=t.zoom({pos:r,scale:n})}if(this.touchRotate){var i=e.rotation;t=t.rotate({deltaAngleX:pt._startPinchRotation-i})}return this.updateViewport(t,at,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),pt._lastPinchEvent=e,!0}},{key:"_onPinchEnd",value:function(e){if(!this.isDragging())return!1;var t=this.inertia,n=pt._lastPinchEvent;if(this.touchZoom&&t&&n&&e.scale!==n.scale){var r=this.getCenter(e),i=this.controllerState.rotateEnd(),o=Math.log2(e.scale),a=(o-Math.log2(n.scale))/(e.deltaTime-n.deltaTime),s=Math.pow(2,o+a*t/2);i=i.zoom({pos:r,scale:s}).zoomEnd(),this.updateViewport(i,(0,b.Z)((0,b.Z)({},this._getTransitionProps({around:r})),{},{transitionDuration:t,transitionEasing:st}),{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(t)}else{var u=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(u,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return pt._startPinchRotation=null,pt._lastPinchEvent=null,!0}},{key:"_onDoubleTap",value:function(e){if(!this.doubleClickZoom)return!1;var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var n=this.isFunctionKeyPressed(e),r=this.controllerState.zoom({pos:t,scale:n?.5:2});return this.updateViewport(r,this._getTransitionProps({around:t}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}},{key:"_onKeyDown",value:function(e){if(!this.keyboard)return!1;var t,n=this.isFunctionKeyPressed(e),r=!0===this.keyboard?{}:this.keyboard,i=r.zoomSpeed,o=r.moveSpeed,a=r.rotateSpeedX,s=r.rotateSpeedY,u=this.controllerState,l={};switch(e.srcEvent.code){case"Minus":t=n?u.zoomOut(i).zoomOut(i):u.zoomOut(i),l.isZooming=!0;break;case"Equal":t=n?u.zoomIn(i).zoomIn(i):u.zoomIn(i),l.isZooming=!0;break;case"ArrowLeft":n?(t=u.rotateLeft(a),l.isRotating=!0):(t=u.moveLeft(o),l.isPanning=!0);break;case"ArrowRight":n?(t=u.rotateRight(a),l.isRotating=!0):(t=u.moveRight(o),l.isPanning=!0);break;case"ArrowUp":n?(t=u.rotateUp(s),l.isRotating=!0):(t=u.moveUp(o),l.isPanning=!0);break;case"ArrowDown":n?(t=u.rotateDown(s),l.isRotating=!0):(t=u.moveDown(o),l.isPanning=!0);break;default:return!1}return this.updateViewport(t,this._getTransitionProps(),l),!0}},{key:"_getTransitionProps",value:function(e){var t=this.transition;return t&&t.transitionInterpolator?e?(0,b.Z)((0,b.Z)({},t),{},{transitionInterpolator:new ot((0,b.Z)((0,b.Z)((0,b.Z)({},e),t.transitionInterpolator.opts),{},{makeViewport:this.controllerState.makeViewport}))}):t:at}}]),e}(),gt=function(){function e(t,n){(0,o.Z)(this,e),(0,s.Z)(this,"_viewportProps",void 0),(0,s.Z)(this,"_state",void 0),this._viewportProps=this.applyConstraints(t),this._state=n}return(0,a.Z)(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getState",value:function(){return this._state}}]),e}(),yt=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(e){var r;(0,o.Z)(this,n);var i=e.width,a=e.height,u=e.latitude,l=e.longitude,c=e.zoom,f=e.bearing,d=void 0===f?0:f,h=e.pitch,p=void 0===h?0:h,v=e.altitude,g=void 0===v?1.5:v,y=e.position,m=void 0===y?[0,0,0]:y,b=e.maxZoom,w=void 0===b?20:b,x=e.minZoom,k=void 0===x?0:x,E=e.maxPitch,S=void 0===E?60:E,T=e.minPitch,P=void 0===T?0:T,A=e.startPanLngLat,C=e.startZoomLngLat,Z=e.startRotatePos,O=e.startBearing,L=e.startPitch,R=e.startZoom,M=e.normalize,I=void 0===M||M;return(0,He.Z)(Number.isFinite(l)),(0,He.Z)(Number.isFinite(u)),(0,He.Z)(Number.isFinite(c)),r=t.call(this,{width:i,height:a,latitude:u,longitude:l,zoom:c,bearing:d,pitch:p,altitude:g,maxZoom:w,minZoom:k,maxPitch:S,minPitch:P,normalize:I,position:m},{startPanLngLat:A,startZoomLngLat:C,startRotatePos:Z,startBearing:O,startPitch:L,startZoom:R}),(0,s.Z)((0,_.Z)(r),"makeViewport",void 0),r.makeViewport=e.makeViewport,r}return(0,a.Z)(n,[{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedState({startPanLngLat:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPos,r=this.getState().startPanLngLat||this._unproject(n);if(!r)return this;var i=this.makeViewport(this.getViewportProps()).panByPosition(r,t);return this._getUpdatedState(i)}},{key:"panEnd",value:function(){return this._getUpdatedState({startPanLngLat:null})}},{key:"rotateStart",value:function(e){var t=e.pos;return this._getUpdatedState({startRotatePos:t,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}},{key:"rotate",value:function(e){var t,n=e.pos,r=e.deltaAngleX,i=void 0===r?0:r,o=e.deltaAngleY,a=void 0===o?0:o,s=this.getState(),u=s.startRotatePos,l=s.startBearing,c=s.startPitch;return u&&void 0!==l&&void 0!==c?(t=n?this._getNewRotation(n,u,c,l):{bearing:l+i,pitch:c+a},this._getUpdatedState(t)):this}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedState({startZoomLngLat:this._unproject(t),startZoom:this.getViewportProps().zoom})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,r=e.scale,i=this.getState(),o=i.startZoom,a=i.startZoomLngLat;if(a||(o=this.getViewportProps().zoom,a=this._unproject(n)||this._unproject(t)),!a)return this;var s=this.getViewportProps(),u=s.maxZoom,l=s.minZoom,c=o+Math.log2(r);c=(0,Ke.uZ)(c,l,u);var f=this.makeViewport((0,b.Z)((0,b.Z)({},this.getViewportProps()),{},{zoom:c}));return this._getUpdatedState((0,b.Z)({zoom:c},f.panByPosition(a,t)))}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._zoomFromCenter(e)}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._zoomFromCenter(1/e)}},{key:"moveLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([e,0])}},{key:"moveRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([-e,0])}},{key:"moveUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([0,e])}},{key:"moveDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([0,-e])}},{key:"rotateLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}},{key:"rotateRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}},{key:"rotateUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}},{key:"rotateDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}},{key:"shortestPathFrom",value:function(e){var t=e.getViewportProps(),n=(0,b.Z)({},this.getViewportProps()),r=n.bearing,i=n.longitude;return Math.abs(r-t.bearing)>180&&(n.bearing=r<0?r+360:r-360),Math.abs(i-t.longitude)>180&&(n.longitude=i<0?i+360:i-360),n}},{key:"applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom;e.zoom=(0,Ke.uZ)(r,n,t);var i=e.maxPitch,o=e.minPitch,a=e.pitch;e.pitch=(0,Ke.uZ)(a,o,i);var s=e.normalize;return(void 0===s||s)&&Object.assign(e,(0,F.QA)(e)),e}},{key:"_zoomFromCenter",value:function(e){var t=this.getViewportProps(),n=t.width,r=t.height;return this.zoom({pos:[n/2,r/2],scale:e})}},{key:"_panFromCenter",value:function(e){var t=this.getViewportProps(),n=t.width,r=t.height;return this.pan({startPos:[n/2,r/2],pos:[n/2+e[0],r/2+e[1]]})}},{key:"_getUpdatedState",value:function(e){return new this.constructor((0,b.Z)((0,b.Z)((0,b.Z)({makeViewport:this.makeViewport},this.getViewportProps()),this.getState()),e))}},{key:"_unproject",value:function(e){var t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}},{key:"_getNewRotation",value:function(e,t,n,r){var i=e[0]-t[0],o=e[1]-t[1],a=e[1],s=t[1],u=this.getViewportProps(),l=u.width,c=u.height,f=i/l,d=0;o>0?Math.abs(c-s)>5&&(d=o/(s-c)*1.2):o<0&&s>5&&(d=1-a/s),d=(0,Ke.uZ)(d,-1,1);var h=this.getViewportProps(),p=h.minPitch,v=h.maxPitch,g=n;return d>0?g=n+d*(v-n):d<0&&(g=n-d*(p-n)),{pitch:g,bearing:r+180*f}}}]),n}(gt),mt=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,_.Z)(e),"ControllerState",yt),(0,s.Z)((0,_.Z)(e),"transition",{transitionDuration:300,transitionInterpolator:new ot({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),(0,s.Z)((0,_.Z)(e),"dragMode","pan"),e}return(0,a.Z)(n,[{key:"setProps",value:function(e){e.position=e.position||[0,0,0];var t=this.props;(0,w.Z)((0,x.Z)(n.prototype),"setProps",this).call(this,e),(!t||t.height!==e.height)&&this.updateViewport(new this.ControllerState((0,b.Z)((0,b.Z)({makeViewport:this.makeViewport},e),this.state)))}}]),n}(vt),bt=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"ViewportType",get:function(){return Ye.Z}},{key:"ControllerType",get:function(){return mt}}]),n}(Xe);(0,s.Z)(bt,"displayName","MapView");var _t=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(e,r){var i,a;(0,o.Z)(this,n),a=t.call(this,e,r),(0,s.Z)((0,_.Z)(a),"maskMap",void 0),(0,s.Z)((0,_.Z)(a),"fbo",void 0);var u=r.mapSize,c=void 0===u?2048:u;return a.maskMap=new l.Z(e,{width:c,height:c,parameters:(i={},(0,s.Z)(i,10241,9729),(0,s.Z)(i,10240,9729),(0,s.Z)(i,10242,33071),(0,s.Z)(i,10243,33071),i)}),a.fbo=new O.Z(e,{id:"maskmap",width:c,height:c,attachments:(0,s.Z)({},36064,a.maskMap)}),a}return(0,a.Z)(n,[{key:"render",value:function(e){var t=this,r=this.gl,i=[!1,!1,!1,!1];return i[e.channel]=!0,(0,T.s8)(r,{clearColor:[255,255,255,255],blend:!0,blendFunc:[0,1],blendEquation:32778,colorMask:i,depthTest:!1},(function(){return(0,w.Z)((0,x.Z)(n.prototype),"render",t).call(t,(0,b.Z)((0,b.Z)({},e),{},{target:t.fbo,pass:"mask"}))}))}},{key:"shouldDrawLayer",value:function(e){return e.props.operation===r.k8.MASK}},{key:"delete",value:function(){this.fbo.delete(),this.maskMap.delete()}}]),n}(A),wt=n(9874),xt=(new m.Z).lookAt({eye:[0,0,1]});function kt(e){var t=e.width,n=e.height,r=e.near,i=e.far,o=e.padding,a=-t/2,s=t/2,u=-n/2,l=n/2;if(o){var c=o.left,f=void 0===c?0:c,d=o.right,h=void 0===d?0:d,p=o.top,v=void 0===p?0:p,g=o.bottom,y=void 0===g?0:g,b=(0,Ke.uZ)((f+t-h)/2,0,t)-t/2,_=(0,Ke.uZ)((v+n-y)/2,0,n)-n/2;a-=b,s-=b,u+=_,l+=_}return(new m.Z).ortho({left:a,right:s,bottom:u,top:l,near:r,far:i})}var Et=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(e){(0,o.Z)(this,n);var r,i=e.width,a=e.height,s=e.near,u=void 0===s?.1:s,l=e.far,c=void 0===l?1e3:l,f=e.zoom,d=void 0===f?0:f,h=e.target,p=void 0===h?[0,0,0]:h,v=e.padding,g=void 0===v?null:v,y=e.flipY,m=void 0===y||y,_=Array.isArray(d)?d[0]:d,w=Array.isArray(d)?d[1]:d,x=Math.min(_,w),k=Math.pow(2,x);if(_!==w){var E=Math.pow(2,_),S=Math.pow(2,w);r={unitsPerMeter:[E/k,S/k,1],metersPerUnit:[k/E,k/S,1]}}return t.call(this,(0,b.Z)((0,b.Z)({},e),{},{longitude:void 0,position:p,viewMatrix:xt.clone().scale([k,k*(m?-1:1),k]),projectionMatrix:kt({width:i||1,height:a||1,padding:g,near:u,far:c}),zoom:x,distanceScales:r}))}return(0,a.Z)(n,[{key:"projectFlat",value:function(e){var t=(0,M.Z)(e,2),n=t[0],r=t[1],i=this.distanceScales.unitsPerMeter;return[n*i[0],r*i[1]]}},{key:"unprojectFlat",value:function(e){var t=(0,M.Z)(e,2),n=t[0],r=t[1],i=this.distanceScales.metersPerUnit;return[n*i[0],r*i[1]]}},{key:"panByPosition",value:function(e,t){var n=(0,F.CT)(t,this.pixelUnprojectionMatrix),r=this.projectFlat(e),i=wt.IH([],r,wt.tk([],n)),o=wt.IH([],this.center,i);return{target:this.unprojectFlat(o)}}}]),n}(Ie.Z),St=n(1276),Tt=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(e){var r;(0,o.Z)(this,n);var i=e.width,a=e.height,u=e.rotationX,l=void 0===u?0:u,c=e.rotationOrbit,f=void 0===c?0:c,d=e.target,h=void 0===d?[0,0,0]:d,p=e.zoom,v=void 0===p?0:p,g=e.minRotationX,y=void 0===g?-90:g,m=e.maxRotationX,b=void 0===m?90:m,w=e.minZoom,x=void 0===w?-1/0:w,k=e.maxZoom,E=void 0===k?1/0:k,S=e.startPanPosition,T=e.startRotatePos,P=e.startRotationX,A=e.startRotationOrbit,C=e.startZoomPosition,Z=e.startZoom;return r=t.call(this,{width:i,height:a,rotationX:l,rotationOrbit:f,target:h,zoom:v,minRotationX:y,maxRotationX:b,minZoom:x,maxZoom:E},{startPanPosition:S,startRotatePos:T,startRotationX:P,startRotationOrbit:A,startZoomPosition:C,startZoom:Z}),(0,s.Z)((0,_.Z)(r),"makeViewport",void 0),r.makeViewport=e.makeViewport,r}return(0,a.Z)(n,[{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedState({startPanPosition:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPosition,r=this.getState().startPanPosition||n;if(!r)return this;var i=this.makeViewport(this.getViewportProps()).panByPosition(r,t);return this._getUpdatedState(i)}},{key:"panEnd",value:function(){return this._getUpdatedState({startPanPosition:null})}},{key:"rotateStart",value:function(e){var t=e.pos;return this._getUpdatedState({startRotatePos:t,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}},{key:"rotate",value:function(e){var t,n=e.pos,r=e.deltaAngleX,i=void 0===r?0:r,o=e.deltaAngleY,a=void 0===o?0:o,s=this.getState(),u=s.startRotatePos,l=s.startRotationX,c=s.startRotationOrbit,f=this.getViewportProps(),d=f.width,h=f.height;if(!u||void 0===l||void 0===c)return this;if(n){var p=(n[0]-u[0])/d;(l<-90||l>90)&&(p*=-1),t={rotationX:l+180*((n[1]-u[1])/h),rotationOrbit:c+180*p}}else t={rotationX:l+a,rotationOrbit:c+i};return this._getUpdatedState(t)}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}},{key:"shortestPathFrom",value:function(e){var t=e.getViewportProps(),n=(0,b.Z)({},this.getViewportProps()),r=n.rotationOrbit;return Math.abs(r-t.rotationOrbit)>180&&(n.rotationOrbit=r<0?r+360:r-360),n}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedState({startZoomPosition:this._unproject(t),startZoom:this.getViewportProps().zoom})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,r=e.scale,i=this.getState(),o=i.startZoom,a=i.startZoomPosition;if(a||(o=this.getViewportProps().zoom,a=this._unproject(n)||this._unproject(t)),!a)return this;var s=this._calculateNewZoom({scale:r,startZoom:o}),u=this.makeViewport((0,b.Z)((0,b.Z)({},this.getViewportProps()),{},{zoom:s}));return this._getUpdatedState((0,b.Z)({zoom:s},u.panByPosition(a,t)))}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._getUpdatedState({zoom:this._calculateNewZoom({scale:e})})}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/e})})}},{key:"moveLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([-e,0])}},{key:"moveRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([e,0])}},{key:"moveUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([0,-e])}},{key:"moveDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([0,e])}},{key:"rotateLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-e})}},{key:"rotateRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+e})}},{key:"rotateUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-e})}},{key:"rotateDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+e})}},{key:"_unproject",value:function(e){var t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}},{key:"_calculateNewZoom",value:function(e){var t=e.scale,n=e.startZoom,r=this.getViewportProps(),i=r.maxZoom,o=r.minZoom;void 0===n&&(n=this.getViewportProps().zoom);var a=n+Math.log2(t);return(0,Ke.uZ)(a,o,i)}},{key:"_panFromCenter",value:function(e){var t=this.getViewportProps(),n=t.width,r=t.height,i=t.target;return this.pan({startPosition:i,pos:[n/2+e[0],r/2+e[1]]})}},{key:"_getUpdatedState",value:function(e){return new this.constructor((0,b.Z)((0,b.Z)((0,b.Z)({makeViewport:this.makeViewport},this.getViewportProps()),this.getState()),e))}},{key:"applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom,i=e.maxRotationX,o=e.minRotationX,a=e.rotationOrbit;return e.zoom=Array.isArray(r)?[(0,Ke.uZ)(r[0],n,t),(0,Ke.uZ)(r[1],n,t)]:(0,Ke.uZ)(r,n,t),e.rotationX=(0,Ke.uZ)(e.rotationX,o,i),(a<-180||a>180)&&(e.rotationOrbit=(0,St.wQ)(a+180,360)-180),e}}]),n}(gt),Pt=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,_.Z)(e),"ControllerState",Tt),(0,s.Z)((0,_.Z)(e),"transition",{transitionDuration:300,transitionInterpolator:new ot({transitionProps:{compare:["target","zoom","rotationX","rotationOrbit"],required:["target","zoom"]}})}),e}return(0,a.Z)(n)}(vt),At=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(e){var r;return(0,o.Z)(this,n),r=t.call(this,e),(0,s.Z)((0,_.Z)(r),"zoomAxis",void 0),r.zoomAxis=e.zoomAxis||"all",r}return(0,a.Z)(n,[{key:"_calculateNewZoom",value:function(e){var t=e.scale,n=e.startZoom,r=this.getViewportProps(),i=r.maxZoom,o=r.minZoom;void 0===n&&(n=this.getViewportProps().zoom);var a=Math.log2(t);if(Array.isArray(n)){var s=n,u=(0,M.Z)(s,2),l=u[0],c=u[1];switch(this.zoomAxis){case"X":l=(0,Ke.uZ)(l+a,o,i);break;case"Y":c=(0,Ke.uZ)(c+a,o,i);break;default:var f=Math.min(l+a,c+a);f<o&&(a+=o-f),(f=Math.max(l+a,c+a))>i&&(a+=i-f),l+=a,c+=a}return[l,c]}return(0,Ke.uZ)(n+a,o,i)}}]),n}(Tt),Ct=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,_.Z)(e),"ControllerState",At),(0,s.Z)((0,_.Z)(e),"transition",{transitionDuration:300,transitionInterpolator:new ot(["target","zoom"])}),(0,s.Z)((0,_.Z)(e),"dragMode","pan"),e}return(0,a.Z)(n,[{key:"_onPanRotate",value:function(){return!1}}]),n}(vt),Zt=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"ViewportType",get:function(){return Et}},{key:"ControllerType",get:function(){return Ct}}]),n}(Xe);(0,s.Z)(Zt,"displayName","OrthographicView");var Ot=function(){function e(){(0,o.Z)(this,e),(0,s.Z)(this,"id","mask-effect"),(0,s.Z)(this,"props",null),(0,s.Z)(this,"useInPicking",!0),(0,s.Z)(this,"dummyMaskMap",void 0),(0,s.Z)(this,"channels",[]),(0,s.Z)(this,"masks",null),(0,s.Z)(this,"maskPass",void 0),(0,s.Z)(this,"maskMap",void 0),(0,s.Z)(this,"lastViewport",void 0)}return(0,a.Z)(e,[{key:"preRender",value:function(e,t){var n=t.layers,i=t.layerFilter,o=t.viewports,a=t.onViewportActive,s=t.views;this.dummyMaskMap||(this.dummyMaskMap=new l.Z(e,{width:1,height:1}));var u=n.filter((function(e){return e.props.visible&&e.props.operation===r.k8.MASK}));if(0===u.length)return this.masks=null,void(this.channels.length=0);this.masks={},this.maskPass||(this.maskPass=new _t(e,{id:"default-mask"}),this.maskMap=this.maskPass.maskMap);var c=this._sortMaskChannels(u),f=o[0],d=!this.lastViewport||!this.lastViewport.equals(f);for(var h in c)this._renderChannel(c[h],{layerFilter:i,onViewportActive:a,views:s,viewport:f,viewportChanged:d})}},{key:"_renderChannel",value:function(e,t){var n=t.layerFilter,r=t.onViewportActive,o=t.views,a=t.viewport,s=t.viewportChanged,u=this.channels[e.index];if(u){var l=e===u||u.layers.length!==e.layers.length||e.layerBounds.some((function(e,t){return e!==u.layerBounds[t]}));if(e.bounds=u.bounds,e.maskBounds=u.maskBounds,this.channels[e.index]=e,(l||s)&&(this.lastViewport=a,e.bounds=function(e){var t,n=e.layers,r=e.viewport,o=null,a=(0,i.Z)(n);try{for(a.s();!(t=a.n()).done;){var s=t.value.getBounds();s&&(o?(o[0]=Math.min(o[0],s[0][0]),o[1]=Math.min(o[1],s[0][1]),o[2]=Math.max(o[2],s[1][0]),o[3]=Math.max(o[3],s[1][1])):o=[s[0][0],s[0][1],s[1][0],s[1][1]])}}catch(c){a.e(c)}finally{a.f()}var u=r.getBounds();if(!o)return u;var l=function(e){var t={x:e[2]-e[0],y:e[3]-e[1]},n={x:e[0]+.5*t.x,y:e[1]+.5*t.y};return[n.x-t.x,n.y-t.y,n.x+t.x,n.y+t.y]}(u);return o[2]-o[0]<l[2]-l[0]||o[3]-o[1]<l[3]-l[1]||(o[0]=Math.max(o[0],l[0]),o[1]=Math.max(o[1],l[1]),o[2]=Math.min(o[2],l[2]),o[3]=Math.min(o[3],l[3])),o}({layers:e.layers,viewport:a}),l||!(0,Ke.fS)(e.bounds,u.bounds))){var c=this.maskPass,f=this.maskMap,d=function(e){var t=e.bounds,n=e.viewport,r=e.width,i=e.height;if(t[2]<=t[0]||t[3]<=t[1])return null;if(r-=2,i-=2,n instanceof Ye.Z){var o=(0,F.Xg)({width:r,height:i,bounds:[[t[0],t[1]],[t[2],t[3]]],maxZoom:20}),a=o.longitude,s=o.latitude,u=o.zoom;return new Ye.Z({longitude:a,latitude:s,zoom:u,x:1,y:1,width:r,height:i})}var l=[(t[0]+t[2])/2,(t[1]+t[3])/2,0],c=Math.min(20,r/(t[2]-t[0]),i/(t[3]-t[1]));return new Zt({x:1,y:1}).makeViewport({width:r,height:i,viewState:{target:l,zoom:Math.log2(c)}})}({bounds:e.bounds,viewport:a,width:f.width,height:f.height});e.maskBounds=d?d.getBounds():[0,0,1,1],c.render({pass:"mask",channel:e.index,layers:e.layers,layerFilter:n,viewports:d?[d]:[],onViewportActive:r,views:o,moduleParameters:{devicePixelRatio:1}})}this.masks[e.id]={index:e.index,bounds:e.maskBounds,coordinateOrigin:e.coordinateOrigin,coordinateSystem:e.coordinateSystem}}}},{key:"_sortMaskChannels",value:function(e){var t,n=this,r={},o=0,a=(0,i.Z)(e);try{var s=function(){var e=t.value,i=e.root.id,a=r[i];if(!a){if(++o>4)return Ae.Z.warn("Too many mask layers. The max supported is 4")(),"continue";a={id:i,index:n.channels.findIndex((function(e){return(null===e||void 0===e?void 0:e.id)===i})),layers:[],layerBounds:[],coordinateOrigin:e.root.props.coordinateOrigin,coordinateSystem:e.root.props.coordinateSystem},r[i]=a}a.layers.push(e),a.layerBounds.push(e.getBounds())};for(a.s();!(t=a.n()).done;)s()}catch(d){a.e(d)}finally{a.f()}for(var u=0;u<4;u++){var l=this.channels[u];l&&l.id in r||(this.channels[u]=null)}for(var c in r){var f=r[c];f.index<0&&(f.index=this.channels.findIndex((function(e){return!e})),this.channels[f.index]=f)}return r}},{key:"getModuleParameters",value:function(){return{maskMap:this.masks?this.maskMap:this.dummyMaskMap,maskChannels:this.masks}}},{key:"cleanup",value:function(){this.dummyMaskMap&&(this.dummyMaskMap.delete(),this.dummyMaskMap=void 0),this.maskPass&&(this.maskPass.delete(),this.maskPass=void 0,this.maskMap=void 0),this.lastViewport=void 0,this.masks=null,this.channels.length=0}}]),e}(),Lt=new X,Rt=function(){function e(){(0,o.Z)(this,e),(0,s.Z)(this,"effects",void 0),(0,s.Z)(this,"_internalEffects",void 0),(0,s.Z)(this,"_needsRedraw",void 0),this.effects=[],this._internalEffects=[],this._needsRedraw="Initial render",this.setEffects()}return(0,a.Z)(e,[{key:"setProps",value:function(e){"effects"in e&&(e.effects.length===this.effects.length&&(0,Be.v)(e.effects,this.effects)||(this.setEffects(e.effects),this._needsRedraw="effects changed"))}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"getEffects",value:function(){return this._internalEffects}},{key:"finalize",value:function(){this.cleanup()}},{key:"setEffects",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.cleanup(),this.effects=e,this._internalEffects=e.slice(),this._internalEffects.push(new Ot),e.some((function(e){return e instanceof X}))||this._internalEffects.push(Lt)}},{key:"cleanup",value:function(){var e,t=(0,i.Z)(this.effects);try{for(t.s();!(e=t.n()).done;){e.value.cleanup()}}catch(o){t.e(o)}finally{t.f()}var n,r=(0,i.Z)(this._internalEffects);try{for(r.s();!(n=r.n()).done;){n.value.cleanup()}}catch(o){r.e(o)}finally{r.f()}this.effects.length=0,this._internalEffects.length=0}}]),e}(),Mt=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"shouldDrawLayer",value:function(e){return e.props.operation===r.k8.DRAW}}]),n}(A),It={blendFunc:[1,0,32771,0],blendEquation:32774},Nt=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,_.Z)(e),"pickZ",void 0),(0,s.Z)((0,_.Z)(e),"_colors",null),e}return(0,a.Z)(n,[{key:"render",value:function(e){return e.pickingFBO?this._drawPickingBuffer(e):(0,w.Z)((0,x.Z)(n.prototype),"render",this).call(this,e)}},{key:"_drawPickingBuffer",value:function(e){var t=this,r=e.layers,i=e.layerFilter,o=e.views,a=e.viewports,s=e.onViewportActive,u=e.pickingFBO,l=e.deviceRect,c=l.x,f=l.y,d=l.width,h=l.height,p=e.cullRect,v=e.effects,g=e.pass,y=void 0===g?"picking":g,m=e.pickZ,_=this.gl;this.pickZ=m;var k=m?null:{byLayer:new Map,byAlpha:[]};this._colors=k;var E=(0,T.s8)(_,(0,b.Z)((0,b.Z)({scissorTest:!0,scissor:[c,f,d,h],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0]},It),{},{blend:!m}),(function(){return(0,w.Z)((0,x.Z)(n.prototype),"render",t).call(t,{target:u,layers:r,layerFilter:i,views:o,viewports:a,onViewportActive:s,cullRect:p,effects:null===v||void 0===v?void 0:v.filter((function(e){return e.useInPicking})),pass:y})}));return this._colors=null,{decodePickingColor:k&&Ft.bind(null,k),stats:E}}},{key:"shouldDrawLayer",value:function(e){return e.props.pickable&&e.props.operation===r.k8.DRAW}},{key:"getModuleParameters",value:function(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}},{key:"getLayerParameters",value:function(e,t,n){var r=(0,b.Z)({},e.props.parameters);return this._colors?(Object.assign(r,It),r.blend=!0,r.blendColor=function(e,t,n){var r,i=e.byLayer,o=e.byAlpha,a=i.get(t);a?(a.viewports.push(n),r=a.a):(r=i.size+1)<=255?(a={a:r,layer:t,viewports:[n]},i.set(t,a),o[r]=a):(Ae.Z.warn("Too many pickable layers, only picking the first 255")(),r=0);return[0,0,0,r/255]}(this._colors,e,n)):r.blend=!1,r}}]),n}(A);function Ft(e,t){var n=e.byAlpha[t[3]];return n&&{pickedLayer:n.layer,pickedViewports:n.viewports,pickedObjectIndex:n.layer.decodePickingColor(t)}}var jt=function(){function e(t){(0,o.Z)(this,e),this.gl=t,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new Mt(t),this.pickLayersPass=new Nt(t),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}return(0,a.Z)(e,[{key:"setProps",value:function(e){"layerFilter"in e&&this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),"drawPickingColors"in e&&this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}},{key:"renderLayers",value:function(e){var t=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass;e.layerFilter=e.layerFilter||this.layerFilter,e.effects=e.effects||[],e.target=e.target||O.Z.getDefaultFramebuffer(this.gl),this._preRender(e.effects,e);var n=this.lastPostProcessEffect?this.renderBuffers[0]:e.target,r=t.render((0,b.Z)((0,b.Z)({},e),{},{target:n}));this._postRender(e.effects,e),this.renderCount++,(0,Ce.Z)("deckRenderer.renderLayers",this,r,e)}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"finalize",value:function(){var e,t=this.renderBuffers,n=(0,i.Z)(t);try{for(n.s();!(e=n.n()).done;){e.value.delete()}}catch(r){n.e(r)}finally{n.f()}t.length=0}},{key:"_preRender",value:function(e,t){var n,r=null,o=(0,i.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.preRender(this.gl,t),a.postRender&&(r=a)}}catch(s){o.e(s)}finally{o.f()}r&&this._resizeRenderBuffers(),this.lastPostProcessEffect=r}},{key:"_resizeRenderBuffers",value:function(){var e=this.renderBuffers;0===e.length&&e.push(new O.Z(this.gl),new O.Z(this.gl));var t,n=(0,i.Z)(e);try{for(n.s();!(t=n.n()).done;){t.value.resize()}}catch(r){n.e(r)}finally{n.f()}}},{key:"_postRender",value:function(e,t){var n,r=this.renderBuffers,o={inputBuffer:r[0],swapBuffer:r[1],target:null},a=(0,i.Z)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.postRender){if(s===this.lastPostProcessEffect){o.target=t.target,s.postRender(this.gl,o);break}var u=s.postRender(this.gl,o);o.inputBuffer=u,o.swapBuffer=u===r[0]?r[1]:r[0]}}}catch(l){a.e(l)}finally{a.f()}}}]),e}(),Dt=n(9507),zt={pickedColor:null,pickedObjectIndex:-1};function Bt(e){for(var t=e.pickedColors,n=e.decodePickingColor,r=e.deviceX,i=e.deviceY,o=e.deviceRadius,a=e.deviceRect,s=a.x,u=a.y,l=a.width,c=a.height,f=o*o,d=-1,h=0,p=0;p<c;p++){var v=p+u-i,g=v*v;if(g>f)h+=4*l;else for(var y=0;y<l;y++){if(t[h+3]-1>=0){var m=y+s-r,_=m*m+g;_<=f&&(f=_,d=h)}h+=4}}if(d>=0){var w=t.slice(d,d+4),x=n(w);if(x){var k=Math.floor(d/4/l),E=d/4-k*l;return(0,b.Z)((0,b.Z)({},x),{},{pickedColor:w,pickedX:s+E,pickedY:u+k})}Ae.Z.error("Picked non-existent layer. Is picking buffer corrupt?")()}return zt}function Ut(e){var t,n=e.pickInfo,r=e.viewports,i=e.pixelRatio,o=e.x,a=e.y,s=e.z,u=r[0];if(r.length>1&&(u=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.containsPixel(t))return r}return e[0]}((null===n||void 0===n?void 0:n.pickedViewports)||r,{x:o,y:a})),u){var l=[o-u.x,a-u.y];void 0!==s&&(l[2]=s),t=u.unproject(l)}return{color:null,layer:null,viewport:u,index:-1,picked:!1,x:o,y:a,pixel:[o,a],coordinate:t,devicePixel:n&&"pickedX"in n?[n.pickedX,n.pickedY]:void 0,pixelRatio:i}}function Vt(e){var t=e.pickInfo,n=e.lastPickedInfo,r=e.mode,i=e.layers,o=t.pickedColor,a=t.pickedLayer,s=t.pickedObjectIndex,u=a?[a]:[];if("hover"===r){var l=n.index,c=n.layerId,f=a?a.props.id:null;if(f!==c||s!==l){if(f!==c){var d=i.find((function(e){return e.props.id===c}));d&&u.unshift(d)}n.layerId=f,n.index=s,n.info=null}}var h=Ut(e),p=new Map;return p.set(null,h),u.forEach((function(e){var t=(0,b.Z)({},h);e===a&&(t.color=o,t.index=s,t.picked=!0);var i=(t=Gt({layer:e,info:t,mode:r})).layer;e===a&&"hover"===r&&(n.info=t),p.set(i.id,t),"hover"===r&&i.updateAutoHighlight(t)})),p}function Gt(e){for(var t=e.layer,n=e.info,r=e.mode;t&&n;){var i=n.layer||null;n.sourceLayer=i,n.layer=t,n=t.getPickingInfo({info:n,mode:r,sourceLayer:i}),t=t.parent}return n}var Wt=function(){function e(t){(0,o.Z)(this,e),(0,s.Z)(this,"gl",void 0),(0,s.Z)(this,"pickingFBO",void 0),(0,s.Z)(this,"depthFBO",void 0),(0,s.Z)(this,"pickLayersPass",void 0),(0,s.Z)(this,"layerFilter",void 0),(0,s.Z)(this,"lastPickedInfo",void 0),(0,s.Z)(this,"_pickable",!0),this.gl=t,this.pickLayersPass=new Nt(t),this.lastPickedInfo={index:-1,layerId:null,info:null}}return(0,a.Z)(e,[{key:"setProps",value:function(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}},{key:"finalize",value:function(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}},{key:"pickObject",value:function(e){return this._pickClosestObject(e)}},{key:"pickObjects",value:function(e){return this._pickVisibleObjects(e)}},{key:"getLastPickedObject",value:function(e){var t=e.x,n=e.y,r=e.layers,i=e.viewports,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastPickedInfo.info,a=o&&o.layer&&o.layer.id,s=o&&o.viewport&&o.viewport.id,u=a?r.find((function(e){return e.id===a})):null,l=s&&i.find((function(e){return e.id===s}))||i[0],c=l&&l.unproject([t-l.x,n-l.y]),f={x:t,y:n,viewport:l,coordinate:c,layer:u};return(0,b.Z)((0,b.Z)({},o),f)}},{key:"_resizeBuffer",value:function(){var e,t,n=this.gl;if(!this.pickingFBO&&(this.pickingFBO=new O.Z(n),O.Z.isSupported(n,{colorBufferFloat:!0}))){var r=new O.Z(n);r.attach((0,s.Z)({},36064,new l.Z(n,{format:(0,T.D0)(n)?34836:6408,type:5126}))),this.depthFBO=r}null===(e=this.pickingFBO)||void 0===e||e.resize({width:n.canvas.width,height:n.canvas.height}),null===(t=this.depthFBO)||void 0===t||t.resize({width:n.canvas.width,height:n.canvas.height})}},{key:"_getPickable",value:function(e){if(!1===this._pickable)return null;var t=e.filter((function(e){return e.isPickable()&&!e.isComposite}));return t.length?t:null}},{key:"_pickClosestObject",value:function(e){var t=e.layers,n=e.views,r=e.viewports,o=e.x,a=e.y,s=e.radius,u=void 0===s?0:s,l=e.depth,c=void 0===l?1:l,f=e.mode,d=void 0===f?"query":f,h=e.unproject3D,p=e.onViewportActive,v=e.effects,g=this._getPickable(t),y=(0,T.w)(this.gl);if(!g)return{result:[],emptyInfo:Ut({viewports:r,x:o,y:a,pixelRatio:y})};this._resizeBuffer();for(var m,_=(0,T.JY)(this.gl,[o,a],!0),w=[_.x+Math.floor(_.width/2),_.y+Math.floor(_.height/2)],x=Math.round(u*y),k=this.pickingFBO,E=k.width,S=k.height,P=this._getPickingRect({deviceX:w[0],deviceY:w[1],deviceRadius:x,deviceWidth:E,deviceHeight:S}),A={x:o-u,y:a-u,width:2*u+1,height:2*u+1},C=[],Z=new Set,O=0;O<c;O++){var L=void 0;if(P){var R=this._drawAndSample({layers:g,views:n,viewports:r,onViewportActive:p,deviceRect:P,cullRect:A,effects:v,pass:"picking:".concat(d)});L=Bt((0,b.Z)((0,b.Z)({},R),{},{deviceX:w[0],deviceY:w[1],deviceRadius:x,deviceRect:P}))}else L={pickedColor:null,pickedObjectIndex:-1};var M=void 0;if(L.pickedLayer&&h&&this.depthFBO)M=this._drawAndSample({layers:[L.pickedLayer],views:n,viewports:r,onViewportActive:p,deviceRect:{x:L.pickedX,y:L.pickedY,width:1,height:1},cullRect:A,effects:v,pass:"picking:".concat(d,":z")},!0).pickedColors[0];L.pickedLayer&&O+1<c&&(Z.add(L.pickedLayer),L.pickedLayer.disablePickingIndex(L.pickedObjectIndex)),m=Vt({pickInfo:L,lastPickedInfo:this.lastPickedInfo,mode:d,layers:g,viewports:r,x:o,y:a,z:M,pixelRatio:y});var I,N=(0,i.Z)(m.values());try{for(N.s();!(I=N.n()).done;){var F=I.value;F.layer&&C.push(F)}}catch(z){N.e(z)}finally{N.f()}if(!L.pickedColor)break}var j,D=(0,i.Z)(Z);try{for(D.s();!(j=D.n()).done;){j.value.restorePickingColors()}}catch(z){D.e(z)}finally{D.f()}return{result:C,emptyInfo:m.get(null)}}},{key:"_pickVisibleObjects",value:function(e){var t=e.layers,n=e.views,r=e.viewports,i=e.x,o=e.y,a=e.width,s=void 0===a?1:a,u=e.height,l=void 0===u?1:u,c=e.mode,f=void 0===c?"query":c,d=e.maxObjects,h=void 0===d?null:d,p=e.onViewportActive,v=e.effects,g=this._getPickable(t);if(!g)return[];this._resizeBuffer();for(var y=(0,T.w)(this.gl),m=(0,T.JY)(this.gl,[i,o],!0),_=m.x,w=m.y+m.height,x=(0,T.JY)(this.gl,[i+s,o+l],!0),k=x.x+x.width,E=x.y,S={x:_,y:E,width:k-_,height:w-E},P=function(e){var t=e.pickedColors,n=e.decodePickingColor,r=new Map;if(t)for(var i=0;i<t.length;i+=4)if(t[i+3]-1>=0){var o=t.slice(i,i+4),a=o.join(",");if(!r.has(a)){var s=n(o);s?r.set(a,(0,b.Z)((0,b.Z)({},s),{},{color:o})):Ae.Z.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return Array.from(r.values())}(this._drawAndSample({layers:g,views:n,viewports:r,onViewportActive:p,deviceRect:S,cullRect:{x:i,y:o,width:s,height:l},effects:v,pass:"picking:".concat(f)})),A=new Map,C=Number.isFinite(h),Z=0;Z<P.length&&!(C&&h&&A.size>=h);Z++){var O=P[Z],L={color:O.pickedColor,layer:null,index:O.pickedObjectIndex,picked:!0,x:i,y:o,pixelRatio:y};L=Gt({layer:O.pickedLayer,info:L,mode:f}),A.has(L.object)||A.set(L.object,L)}return Array.from(A.values())}},{key:"_drawAndSample",value:function(e){var t=e.layers,n=e.views,r=e.viewports,i=e.onViewportActive,o=e.deviceRect,a=e.cullRect,s=e.effects,u=e.pass,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=l?this.depthFBO:this.pickingFBO,f=this.pickLayersPass.render({layers:t,layerFilter:this.layerFilter,views:n,viewports:r,onViewportActive:i,pickingFBO:c,deviceRect:o,cullRect:a,effects:s,pass:u,pickZ:l}),d=f.decodePickingColor,h=o.x,p=o.y,v=o.width,g=o.height,y=new(l?Float32Array:Uint8Array)(v*g*4);return(0,Dt.z6)(c,{sourceX:h,sourceY:p,sourceWidth:v,sourceHeight:g,target:y}),{pickedColors:y,decodePickingColor:d}}},{key:"_getPickingRect",value:function(e){var t=e.deviceX,n=e.deviceY,r=e.deviceRadius,i=e.deviceWidth,o=e.deviceHeight,a=Math.max(0,t-r),s=Math.max(0,n-r),u=Math.min(i,t+r+1)-a,l=Math.min(o,n+r+1)-s;return u<=0||l<=0?null:{x:a,y:s,width:u,height:l}}}]),e}(),Ht={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"},Xt=function(){function e(t){(0,o.Z)(this,e),(0,s.Z)(this,"el",null),(0,s.Z)(this,"isVisible",!1);var n=t.parentElement;n&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,Ht),n.appendChild(this.el))}return(0,a.Z)(e,[{key:"setTooltip",value:function(e,t,n){var r=this.el;if(r){if("string"===typeof e)r.innerText=e;else{if(!e)return this.isVisible=!1,void(r.style.display="none");e.text&&(r.innerText=e.text),e.html&&(r.innerHTML=e.html),e.className&&(r.className=e.className),Object.assign(r.style,e.style)}this.isVisible=!0,r.style.display="block",r.style.transform="translate(".concat(t,"px, ").concat(n,"px)")}}},{key:"remove",value:function(){this.el&&(this.el.remove(),this.el=null)}}]),e}(),Yt=n(6715),Kt=n(8589),qt=n(2603);var Qt={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function(e){var t=e[0],n=e[e.length-1];return"{"===t&&"}"===n||"["===t&&"]"===n},parseTextSync:JSON.parse},$t="8.8.9",Jt=globalThis.deck&&globalThis.deck.VERSION;if(Jt&&Jt!==$t)throw new Error("deck.gl - multiple versions detected: ".concat(Jt," vs ").concat($t));Jt||(Ae.Z.log(1,"deck.gl ".concat($t))(),globalThis.deck=(0,b.Z)((0,b.Z)({},globalThis.deck),{},{VERSION:$t,version:$t,log:Ae.Z,_registerLoggers:Ce.z}),(0,Kt.fh)([Qt,[qt.S,{imagebitmap:{premultiplyAlpha:"none"}}]]));var en=globalThis.deck,tn=n(3679),nn=n(3358),rn=n(8479),on=n(4097),an={mousedown:1,mousemove:2,mouseup:4};!function(e){var t=e.prototype.handler;e.prototype.handler=function(e){var n=this.store;e.button>0&&"pointerdown"===e.type&&(function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}(n,(function(t){return t.pointerId===e.pointerId}))||n.push(e)),t.call(this,e)}}(on.PointerEventInput),on.MouseInput.prototype.handler=function(e){var t=an[e.type];1&t&&e.button>=0&&(this.pressed=!0),2&t&&0===e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))};var sn=on.Manager,un=on,ln=(0,a.Z)((function e(t,n,r){(0,o.Z)(this,e),this.element=t,this.callback=n,this.options=(0,b.Z)({enable:!0},r)})),cn=un?[[un.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[un.Rotate,{enable:!1}],[un.Pinch,{enable:!1}],[un.Swipe,{enable:!1}],[un.Pan,{threshold:0,enable:!1}],[un.Press,{enable:!1}],[un.Tap,{event:"doubletap",taps:2,enable:!1}],[un.Tap,{event:"anytap",enable:!1}],[un.Tap,{enable:!1}]]:null,fn={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},dn={doubletap:["tap"]},hn={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},pn=["keydown","keyup"],vn=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],gn=["wheel","mousewheel"],yn={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},mn={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},bn="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",_n="undefined"!==typeof window?window:n.g,wn=("undefined"!==typeof n.g?n.g:window,"undefined"!==typeof document&&document,!1);try{var xn={get passive(){return wn=!0,!0}};_n.addEventListener("test",null,xn),_n.removeEventListener("test",null)}catch(Mr){wn=!1}var kn=-1!==bn.indexOf("firefox"),En=gn,Sn="wheel",Tn=4.000244140625,Pn=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(e,r,i){var a;return(0,o.Z)(this,n),(a=t.call(this,e,r,i)).handleEvent=function(e){if(a.options.enable){var t=e.deltaY;_n.WheelEvent&&(kn&&e.deltaMode===_n.WheelEvent.DOM_DELTA_PIXEL&&(t/=_n.devicePixelRatio),e.deltaMode===_n.WheelEvent.DOM_DELTA_LINE&&(t*=40)),0!==t&&t%Tn===0&&(t=Math.floor(t/Tn)),e.shiftKey&&t&&(t*=.25),a.callback({type:Sn,center:{x:e.clientX,y:e.clientY},delta:-t,srcEvent:e,pointerType:"mouse",target:e.target})}},a.events=(a.options.events||[]).concat(En),a.events.forEach((function(t){return e.addEventListener(t,a.handleEvent,!!wn&&{passive:!1})})),a}return(0,a.Z)(n,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===Sn&&(this.options.enable=t)}}]),n}(ln),An=vn,Cn="pointermove",Zn="pointerover",On="pointerout",Ln="pointerenter",Rn="pointerleave",Mn=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(e,r,i){var a;(0,o.Z)(this,n),(a=t.call(this,e,r,i)).handleEvent=function(e){a.handleOverEvent(e),a.handleOutEvent(e),a.handleEnterEvent(e),a.handleLeaveEvent(e),a.handleMoveEvent(e)},a.pressed=!1;var s=a.options.enable;return a.enableMoveEvent=s,a.enableLeaveEvent=s,a.enableEnterEvent=s,a.enableOutEvent=s,a.enableOverEvent=s,a.events=(a.options.events||[]).concat(An),a.events.forEach((function(t){return e.addEventListener(t,a.handleEvent)})),a}return(0,a.Z)(n,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===Cn&&(this.enableMoveEvent=t),e===Zn&&(this.enableOverEvent=t),e===On&&(this.enableOutEvent=t),e===Ln&&(this.enableEnterEvent=t),e===Rn&&(this.enableLeaveEvent=t)}},{key:"handleOverEvent",value:function(e){this.enableOverEvent&&"mouseover"===e.type&&this._emit(Zn,e)}},{key:"handleOutEvent",value:function(e){this.enableOutEvent&&"mouseout"===e.type&&this._emit(On,e)}},{key:"handleEnterEvent",value:function(e){this.enableEnterEvent&&"mouseenter"===e.type&&this._emit(Ln,e)}},{key:"handleLeaveEvent",value:function(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this._emit(Rn,e)}},{key:"handleMoveEvent",value:function(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this._emit(Cn,e);break;case"mouseup":this.pressed=!1}}},{key:"_emit",value:function(e,t){this.callback({type:e,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}]),n}(ln),In=pn,Nn="keydown",Fn="keyup",jn=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(e,r,i){var a;return(0,o.Z)(this,n),(a=t.call(this,e,r,i)).handleEvent=function(e){var t=e.target||e.srcElement;"INPUT"===t.tagName&&"text"===t.type||"TEXTAREA"===t.tagName||(a.enableDownEvent&&"keydown"===e.type&&a.callback({type:Nn,srcEvent:e,key:e.key,target:e.target}),a.enableUpEvent&&"keyup"===e.type&&a.callback({type:Fn,srcEvent:e,key:e.key,target:e.target}))},a.enableDownEvent=a.options.enable,a.enableUpEvent=a.options.enable,a.events=(a.options.events||[]).concat(In),e.tabIndex=a.options.tabIndex||0,e.style.outline="none",a.events.forEach((function(t){return e.addEventListener(t,a.handleEvent)})),a}return(0,a.Z)(n,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===Nn&&(this.enableDownEvent=t),e===Fn&&(this.enableUpEvent=t)}}]),n}(ln),Dn="contextmenu",zn=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(e,r,i){var a;return(0,o.Z)(this,n),(a=t.call(this,e,r,i)).handleEvent=function(e){a.options.enable&&a.callback({type:Dn,center:{x:e.clientX,y:e.clientY},srcEvent:e,pointerType:"mouse",target:e.target})},e.addEventListener("contextmenu",a.handleEvent),a}return(0,a.Z)(n,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(e,t){e===Dn&&(this.options.enable=t)}}]),n}(ln),Bn={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};var Un={srcElement:"root",priority:0},Vn=function(){function e(t){var n=this;(0,o.Z)(this,e),this.handleEvent=function(e){if(!n.isEmpty()){for(var t=n._normalizeEvent(e),r=e.srcEvent.target;r&&r!==t.rootElement;){if(n._emit(t,r),t.handled)return;r=r.parentNode}n._emit(t,"root")}},this.eventManager=t,this.handlers=[],this.handlersByElement=new Map,this._active=!1}return(0,a.Z)(e,[{key:"isEmpty",value:function(){return!this._active}},{key:"add",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.handlers,a=this.handlersByElement,s=Un;"string"===typeof n||n&&n.addEventListener?s=(0,b.Z)((0,b.Z)({},Un),{},{srcElement:n}):n&&(s=(0,b.Z)((0,b.Z)({},Un),n));var u=a.get(s.srcElement);u||(u=[],a.set(s.srcElement,u));var l={type:e,handler:t,srcElement:s.srcElement,priority:s.priority};r&&(l.once=!0),i&&(l.passive=!0),o.push(l),this._active=this._active||!l.passive;for(var c=u.length-1;c>=0&&!(u[c].priority>=l.priority);)c--;u.splice(c+1,0,l)}},{key:"remove",value:function(e,t){for(var n=this.handlers,r=this.handlersByElement,i=n.length-1;i>=0;i--){var o=n[i];if(o.type===e&&o.handler===t){n.splice(i,1);var a=r.get(o.srcElement);a.splice(a.indexOf(o),1),0===a.length&&r.delete(o.srcElement)}}this._active=n.some((function(e){return!e.passive}))}},{key:"_emit",value:function(e,t){var n=this.handlersByElement.get(t);if(n){for(var r=!1,i=function(){e.handled=!0},o=function(){e.handled=!0,r=!0},a=[],s=0;s<n.length;s++){var u=n[s],l=u.type,c=u.handler,f=u.once;if(c((0,b.Z)((0,b.Z)({},e),{},{type:l,stopPropagation:i,stopImmediatePropagation:o})),f&&a.push(n[s]),r)break}for(var d=0;d<a.length;d++){var h=a[d],p=h.type,v=h.handler;this.remove(p,v)}}}},{key:"_normalizeEvent",value:function(e){var t=this.eventManager.getElement();return(0,b.Z)((0,b.Z)((0,b.Z)((0,b.Z)({},e),function(e){var t=Bn[e.srcEvent.type];if(!t)return null;var n=e.srcEvent,r=n.buttons,i=n.button,o=n.which,a=!1,s=!1,u=!1;return 4===t||2===t&&!Number.isFinite(r)?(a=1===o,s=2===o,u=3===o):2===t?(a=Boolean(1&r),s=Boolean(4&r),u=Boolean(2&r)):1===t&&(a=0===i,s=1===i,u=2===i),{leftButton:a,middleButton:s,rightButton:u}}(e)),function(e,t){var n=e.center;if(!n)return null;var r=t.getBoundingClientRect(),i=r.width/t.offsetWidth||1,o=r.height/t.offsetHeight||1;return{center:n,offsetCenter:{x:(n.x-r.left-t.clientLeft)/i,y:(n.y-r.top-t.clientTop)/o}}}(e,t)),{},{preventDefault:function(){e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:t})}}]),e}(),Gn={events:null,recognizers:null,recognizerOptions:{},Manager:sn,touchAction:"none",tabIndex:0},Wn=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0;(0,o.Z)(this,e),this._onBasicInput=function(e){var n=e.srcEvent,r=hn[n.type];r&&t.manager.emit(r,e)},this._onOtherEvent=function(e){t.manager.emit(e.type,e)},this.options=(0,b.Z)((0,b.Z)({},Gn),r),this.events=new Map,this.setElement(n);var i=this.options.events;i&&this.on(i)}return(0,a.Z)(e,[{key:"getElement",value:function(){return this.element}},{key:"setElement",value:function(e){var t=this;if(this.element&&this.destroy(),this.element=e,e){var n=this.options,r=n.Manager;for(var o in this.manager=new r(e,{touchAction:n.touchAction,recognizers:n.recognizers||cn}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(fn).forEach((function(e){var n=t.manager.get(e);n&&fn[e].forEach((function(e){n.recognizeWith(e)}))})),n.recognizerOptions){var a=this.manager.get(o);if(a){var s=n.recognizerOptions[o];delete s.enable,a.set(s)}}this.wheelInput=new Pn(e,this._onOtherEvent,{enable:!1}),this.moveInput=new Mn(e,this._onOtherEvent,{enable:!1}),this.keyInput=new jn(e,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new zn(e,this._onOtherEvent,{enable:!1});var u,l=(0,i.Z)(this.events);try{for(l.s();!(u=l.n()).done;){var c=(0,M.Z)(u.value,2),f=c[0],d=c[1];d.isEmpty()||(this._toggleRecognizer(d.recognizerName,!0),this.manager.on(f,d.handleEvent))}}catch(Mr){l.e(Mr)}finally{l.f()}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(e,t,n){this._addEventHandler(e,t,n,!1)}},{key:"once",value:function(e,t,n){this._addEventHandler(e,t,n,!0)}},{key:"watch",value:function(e,t,n){this._addEventHandler(e,t,n,!1,!0)}},{key:"off",value:function(e,t){this._removeEventHandler(e,t)}},{key:"_toggleRecognizer",value:function(e,t){var n=this.manager;if(n){var r=n.get(e);if(r&&r.options.enable!==t){r.set({enable:t});var i=dn[e];i&&!this.options.recognizers&&i.forEach((function(i){var o=n.get(i);t?(o.requireFailure(e),r.dropRequireFailure(i)):o.dropRequireFailure(e)}))}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}}},{key:"_addEventHandler",value:function(e,t,n,r,i){if("string"===typeof e){var o=this.manager,a=this.events,s=mn[e]||e,u=a.get(s);u||(u=new Vn(this),a.set(s,u),u.recognizerName=yn[s]||s,o&&o.on(s,u.handleEvent)),u.add(e,t,n,r,i),u.isEmpty()||this._toggleRecognizer(u.recognizerName,!0)}else for(var l in n=t,e)this._addEventHandler(l,e[l],n,r,i)}},{key:"_removeEventHandler",value:function(e,t){if("string"===typeof e){var n=this.events,r=mn[e]||e,o=n.get(r);if(o&&(o.remove(e,t),o.isEmpty())){var a,s=o.recognizerName,u=!1,l=(0,i.Z)(n.values());try{for(l.s();!(a=l.n()).done;){var c=a.value;if(c.recognizerName===s&&!c.isEmpty()){u=!0;break}}}catch(Mr){l.e(Mr)}finally{l.f()}u||this._toggleRecognizer(s,!1)}}else for(var f in e)this._removeEventHandler(f,e[f])}}]),e}();function Hn(){}var Xn={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:Hn,onResize:Hn,onViewStateChange:Hn,onInteractionStateChange:Hn,onBeforeRender:Hn,onAfterRender:Hn,onLoad:Hn,onError:function(e){return Ae.Z.error(e.message)()},onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:function(e){return e.isDragging?"grabbing":"grab"},getTooltip:null,debug:!1,drawPickingColors:!1},Yn=function(){function e(t){var n=this;(0,o.Z)(this,e),(0,s.Z)(this,"props",void 0),(0,s.Z)(this,"width",0),(0,s.Z)(this,"height",0),(0,s.Z)(this,"userData",{}),(0,s.Z)(this,"canvas",null),(0,s.Z)(this,"viewManager",null),(0,s.Z)(this,"layerManager",null),(0,s.Z)(this,"effectManager",null),(0,s.Z)(this,"deckRenderer",null),(0,s.Z)(this,"deckPicker",null),(0,s.Z)(this,"eventManager",null),(0,s.Z)(this,"tooltip",null),(0,s.Z)(this,"metrics",void 0),(0,s.Z)(this,"animationLoop",void 0),(0,s.Z)(this,"stats",void 0),(0,s.Z)(this,"viewState",void 0),(0,s.Z)(this,"cursorState",void 0),(0,s.Z)(this,"_needsRedraw",void 0),(0,s.Z)(this,"_pickRequest",void 0),(0,s.Z)(this,"_lastPointerDownInfo",null),(0,s.Z)(this,"_metricsCounter",void 0),(0,s.Z)(this,"_onPointerMove",(function(e){var t=n._pickRequest;if("pointerleave"===e.type)t.x=-1,t.y=-1,t.radius=0;else{if(e.leftButton||e.rightButton)return;var r=e.offsetCenter;if(!r)return;t.x=r.x,t.y=r.y,t.radius=n.props.pickingRadius}n.layerManager&&(n.layerManager.context.mousePosition={x:t.x,y:t.y}),t.event=e})),(0,s.Z)(this,"_onEvent",(function(e){var t=r.FP[e.type],i=e.offsetCenter;if(t&&i&&n.layerManager){var o=n.layerManager.getLayers(),a=n.deckPicker.getLastPickedObject({x:i.x,y:i.y,layers:o,viewports:n.getViewports(i)},n._lastPointerDownInfo),s=a.layer,u=s&&(s[t.handler]||s.props[t.handler]),l=n.props[t.handler],c=!1;u&&(c=u.call(s,a,e)),!c&&l&&l(a,e)}})),(0,s.Z)(this,"_onPointerDown",(function(e){var t=e.offsetCenter,r=n._pick("pickObject","pickObject Time",{x:t.x,y:t.y,radius:n.props.pickingRadius});n._lastPointerDownInfo=r.result[0]||r.emptyInfo})),this.props=(0,b.Z)((0,b.Z)({},Xn),t),t=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},t.viewState&&t.initialViewState&&Ae.Z.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===(0,tn.Z)()&&Ae.Z.warn("IE 11 is not supported")(),this.viewState=t.initialViewState,t.gl||"undefined"!==typeof document&&(this.canvas=this._createCanvas(t)),this.animationLoop=this._createAnimationLoop(t),this.stats=new Oe.jk({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(t),t._typedArrayManagerProps&&Yt.Z.setOptions(t._typedArrayManagerProps),this.animationLoop.start()}return(0,a.Z)(e,[{key:"finalize",value:function(){var e,t,n,r,i,o,a,s;(this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,null===(e=this.layerManager)||void 0===e||e.finalize(),this.layerManager=null,null===(t=this.viewManager)||void 0===t||t.finalize(),this.viewManager=null,null===(n=this.effectManager)||void 0===n||n.finalize(),this.effectManager=null,null===(r=this.deckRenderer)||void 0===r||r.finalize(),this.deckRenderer=null,null===(i=this.deckPicker)||void 0===i||i.finalize(),this.deckPicker=null,null===(o=this.eventManager)||void 0===o||o.destroy(),this.eventManager=null,null===(a=this.tooltip)||void 0===a||a.remove(),this.tooltip=null,this.props.canvas||this.props.gl||!this.canvas)||(null===(s=this.canvas.parentElement)||void 0===s||s.removeChild(this.canvas),this.canvas=null)}},{key:"setProps",value:function(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&Ae.Z.removed("onLayerHover","onHover")(),"onLayerClick"in e&&Ae.Z.removed("onLayerClick","onClick")(),e.initialViewState&&!(0,Be.v)(this.props.initialViewState,e.initialViewState)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);var t=Object.create(this.props);Object.assign(t,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(t),this.layerManager&&(this.viewManager.setProps(t),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(t),this.effectManager.setProps(t),this.deckRenderer.setProps(t),this.deckPicker.setProps(t)),this.stats.get("setProps Time").timeEnd()}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";var t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);var n=this.viewManager.needsRedraw(e),r=this.layerManager.needsRedraw(e),i=this.effectManager.needsRedraw(e),o=this.deckRenderer.needsRedraw(e);return t=t||n||r||i||o}},{key:"redraw",value:function(e){if(this.layerManager){var t=this.needsRedraw({clearRedrawFlags:!0});(t=e||t)&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(t):this._drawLayers(t))}}},{key:"isInitialized",get:function(){return null!==this.viewManager}},{key:"getViews",value:function(){return(0,He.Z)(this.viewManager),this.viewManager.views}},{key:"getViewports",value:function(e){return(0,He.Z)(this.viewManager),this.viewManager.getViewports(e)}},{key:"pickObject",value:function(e){var t=this._pick("pickObject","pickObject Time",e).result;return t.length?t[0]:null}},{key:"pickMultipleObjects",value:function(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}},{key:"pickObjects",value:function(e){return this._pick("pickObjects","pickObjects Time",e)}},{key:"_addResources",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var n in e)this.layerManager.resourceManager.add({resourceId:n,data:e[n],forceUpdate:t})}},{key:"_removeResources",value:function(e){var t,n=(0,i.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.layerManager.resourceManager.remove(r)}}catch(Mr){n.e(Mr)}finally{n.f()}}},{key:"_pick",value:function(e,t,n){(0,He.Z)(this.deckPicker);var r=this.stats;r.get("Pick Count").incrementCount(),r.get(t).timeStart();var i=this.deckPicker[e]((0,b.Z)({layers:this.layerManager.getLayers(n),views:this.viewManager.getViews(),viewports:this.getViewports(n),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects()},n));return r.get(t).timeEnd(),i}},{key:"_createCanvas",value:function(e){var t=e.canvas;("string"===typeof t&&(t=document.getElementById(t),(0,He.Z)(t)),t)||((t=document.createElement("canvas")).id=e.id||"deckgl-overlay",(e.parent||document.body).appendChild(t));return Object.assign(t.style,e.style),t}},{key:"_setCanvasSize",value:function(e){if(this.canvas){var t=e.width,n=e.height;if(t||0===t){var r=Number.isFinite(t)?"".concat(t,"px"):t;this.canvas.style.width=r}if(n||0===n){var i,o=Number.isFinite(n)?"".concat(n,"px"):n;this.canvas.style.position=(null===(i=e.style)||void 0===i?void 0:i.position)||"absolute",this.canvas.style.height=o}}}},{key:"_updateCanvasSize",value:function(){var e=this.canvas;if(e){var t,n=e.clientWidth||e.width,r=e.clientHeight||e.height;if(n!==this.width||r!==this.height)this.width=n,this.height=r,null===(t=this.viewManager)||void 0===t||t.setProps({width:n,height:r}),this.props.onResize({width:n,height:r})}}},{key:"_createAnimationLoop",value:function(e){var t=this,n=e.width,r=e.height,i=e.gl,o=e.glOptions,a=e.debug,s=e.onError,u=e.onBeforeRender,l=e.onAfterRender,c=e.useDevicePixels;return new nn.Z({width:n,height:r,useDevicePixels:c,autoResizeViewport:!1,gl:i,onCreateContext:function(e){return(0,T.s9)((0,b.Z)((0,b.Z)((0,b.Z)({},o),e),{},{canvas:t.canvas,debug:a,onContextLost:function(){return t._onContextLost()}}))},onInitialize:function(e){return t._setGLContext(e.gl)},onRender:this._onRenderFrame.bind(this),onBeforeRender:u,onAfterRender:l,onError:s})}},{key:"_getViewState",value:function(){return this.props.viewState||this.viewState}},{key:"_getViews",value:function(){var e=this.props.views||[new bt({id:"default-view"})];return(e=Array.isArray(e)?e:[e]).length&&this.props.controller&&(e[0].props.controller=this.props.controller),e}},{key:"_onContextLost",value:function(){var e=this.props.onError;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}},{key:"_pickAndCallback",value:function(){var e=this._pickRequest;if(e.event){var t=this._pick("pickObject","pickObject Time",e),n=t.result,r=t.emptyInfo;this.cursorState.isHovering=n.length>0;var o,a=r,s=!1,u=(0,i.Z)(n);try{for(u.s();!(o=u.n()).done;){var l,c=o.value;a=c,s=(null===(l=c.layer)||void 0===l?void 0:l.onHover(c,e.event))||s}}catch(Mr){u.e(Mr)}finally{u.f()}if(!s&&this.props.onHover&&this.props.onHover(a,e.event),this.props.getTooltip&&this.tooltip){var f=this.props.getTooltip(a);this.tooltip.setTooltip(f,a.x,a.y)}e.event=null}}},{key:"_updateCursor",value:function(){var e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}},{key:"_setGLContext",value:function(e){if(!this.layerManager){this.canvas||(this.canvas=e.canvas,(0,T.yW)(e,{enable:!0,copyState:!0})),this.tooltip=new Xt(this.canvas),(0,T.dR)(e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(e);var t=new Te.T;for(var n in t.play(),this.animationLoop.attachTimeline(t),this.eventManager=new Wn(this.props.parent||e.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}}),r.FP)this.eventManager.on(n,this._onEvent);this.viewManager=new Ue({timeline:t,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});var i=this.viewManager.getViewports()[0];this.layerManager=new ze(e,{deck:this,stats:this.stats,viewport:i,timeline:t}),this.effectManager=new Rt,this.deckRenderer=new jt(e),this.deckPicker=new Wt(e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}}},{key:"_drawLayers",value:function(e,t){var n=this.layerManager.context.gl;(0,T.dR)(n,this.props.parameters),this.props.onBeforeRender({gl:n}),this.deckRenderer.renderLayers((0,b.Z)({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",redrawReason:e,effects:this.effectManager.getEffects()},t)),this.props.onAfterRender({gl:n})}},{key:"_onRenderFrame",value:function(e){this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),Ae.Z.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}},{key:"_onViewStateChange",value:function(e){var t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState=(0,b.Z)((0,b.Z)({},this.viewState),{},(0,s.Z)({},e.viewId,t)),this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}},{key:"_onInteractionStateChange",value:function(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}},{key:"_getFrameStats",value:function(){var e=this.stats;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();var t=this.animationLoop.stats;e.get("GPU Time").addTime(t.get("GPU Time").lastTiming),e.get("CPU Time").addTime(t.get("CPU Time").lastTiming)}},{key:"_getMetrics",value:function(){var e=this.metrics,t=this.stats;e.fps=t.get("frameRate").getHz(),e.setPropsTime=t.get("setProps Time").time,e.updateAttributesTime=t.get("Update Attributes").time,e.framesRedrawn=t.get("Redraw Count").count,e.pickTime=t.get("pickObject Time").time+t.get("pickMultipleObjects Time").time+t.get("pickObjects Time").time,e.pickCount=t.get("Pick Count").count,e.gpuTime=t.get("GPU Time").time,e.cpuTime=t.get("CPU Time").time,e.gpuTimePerFrame=t.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=t.get("CPU Time").getAverageTime();var n=rn.lR.get("Memory Usage");e.bufferMemory=n.get("Buffer Memory").count,e.textureMemory=n.get("Texture Memory").count,e.renderbufferMemory=n.get("Renderbuffer Memory").count,e.gpuMemory=n.get("GPU Memory").count}}]),e}();(0,s.Z)(Yn,"defaultProps",Xn),(0,s.Z)(Yn,"VERSION",en.VERSION);var Kn=n(2973),qn=n(5973),Qn=n(5237),$n=n(8679),Jn=n(8255),er=Math.PI/180,tr=180/Math.PI,nr=6370972,rr=256;function ir(){var e=4018225162502676e-20,t=Math.PI/180*rr;return{unitsPerMeter:[e,e,e],unitsPerMeter2:[0,0,0],metersPerUnit:[24886.609375,24886.609375,24886.609375],unitsPerDegree:[t,t,e],unitsPerDegree2:[0,0,0],degreesPerUnit:[1/t,1/t,24886.609375]}}var or=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,n);var i=r.latitude,a=void 0===i?0:i,u=r.longitude,l=void 0===u?0:u,c=r.zoom,f=void 0===c?0:c,d=r.nearZMultiplier,h=void 0===d?.1:d,p=r.farZMultiplier,v=void 0===p?2:p,g=r.resolution,y=void 0===g?10:g,w=r.height,x=r.altitude,k=void 0===x?1.5:x;w=w||1,k=Math.max(.75,k);var E=(new m.Z).lookAt({eye:[0,-k,0],up:[0,0,1]}),S=Math.pow(2,f);E.rotateX(a*er),E.rotateZ(-l*er),E.scale(S/w);var T=Math.atan(.5/k),P=512*S/w;return e=t.call(this,(0,b.Z)((0,b.Z)({},r),{},{height:w,viewMatrix:E,longitude:l,latitude:a,zoom:f,distanceScales:ir(),fovyRadians:2*T,focalDistance:k,near:h,far:Math.min(2,1/P+1)*k*v})),(0,s.Z)((0,_.Z)(e),"longitude",void 0),(0,s.Z)((0,_.Z)(e),"latitude",void 0),(0,s.Z)((0,_.Z)(e),"resolution",void 0),e.latitude=a,e.longitude=l,e.resolution=y,e}return(0,a.Z)(n,[{key:"projectionMode",get:function(){return r.zG.GLOBE}},{key:"getDistanceScales",value:function(){return this.distanceScales}},{key:"getBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={targetZ:e.z||0},n=this.unproject([0,this.height/2],t),r=this.unproject([this.width/2,0],t),i=this.unproject([this.width,this.height/2],t),o=this.unproject([this.width/2,this.height],t);return i[0]<this.longitude&&(i[0]+=360),n[0]>this.longitude&&(n[0]-=360),[Math.min(n[0],i[0],r[0],o[0]),Math.min(n[1],i[1],r[1],o[1]),Math.max(n[0],i[0],r[0],o[0]),Math.max(n[1],i[1],r[1],o[1])]}},{key:"unproject",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.topLeft,i=void 0===r||r,o=n.targetZ,a=(0,M.Z)(e,3),s=a[0],u=a[1],l=a[2],c=i?u:this.height-u,f=this.pixelUnprojectionMatrix;if(Number.isFinite(l))t=ar(f,[s,c,l,1]);else{var d=ar(f,[s,c,-1,1]),h=ar(f,[s,c,1,1]),p=((o||0)/nr+1)*rr,v=$n.x9($n.lu([],d,h)),g=$n.x9(d),y=$n.x9(h),m=(4*g*y-Math.pow(v-g-y,2))/16,b=4*m/v,_=Math.sqrt(g-b),w=Math.sqrt(Math.max(0,p*p-b)),x=(_-w)/Math.sqrt(v);t=$n.t7([],d,h,x)}var k=this.unprojectPosition(t),E=(0,M.Z)(k,3),S=E[0],T=E[1],P=E[2];return Number.isFinite(l)?[S,T,P]:Number.isFinite(o)?[S,T,o]:[S,T]}},{key:"projectPosition",value:function(e){var t=(0,M.Z)(e,3),n=t[0],r=t[1],i=t[2],o=void 0===i?0:i,a=n*er,s=r*er,u=Math.cos(s),l=(o/nr+1)*rr;return[Math.sin(a)*u*l,-Math.cos(a)*u*l,Math.sin(s)*l]}},{key:"unprojectPosition",value:function(e){var t=(0,M.Z)(e,3),n=t[0],r=t[1],i=t[2],o=$n.Zh(e),a=Math.asin(i/o);return[Math.atan2(n,-r)*tr,a*tr,(o/rr-1)*nr]}},{key:"projectFlat",value:function(e){return e}},{key:"unprojectFlat",value:function(e){return e}},{key:"panByPosition",value:function(e,t){var n=this.unproject(t);return{longitude:e[0]-n[0]+this.longitude,latitude:e[1]-n[1]+this.latitude}}}]),n}(Ie.Z);function ar(e,t){var n=Jn.fF([],t,e);return Jn.bA(n,n,1/n[3]),n}var sr=Math.PI/180;function ur(e){var t=e.height,n=e.focalDistance,r=e.orbitAxis,i=e.rotationX,o=e.rotationOrbit,a=e.zoom,s="Z"===r?[0,0,1]:[0,1,0],u="Z"===r?[0,-n,0]:[0,0,n],l=(new m.Z).lookAt({eye:u,up:s});l.rotateX(i*sr),"Z"===r?l.rotateZ(o*sr):l.rotateY(o*sr);var c=Math.pow(2,a)/t;return l.scale(c),l}var lr=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(e){var r;(0,o.Z)(this,n);var i=e.height,a=e.projectionMatrix,u=e.fovy,l=void 0===u?50:u,c=e.orbitAxis,f=void 0===c?"Z":c,d=e.target,h=void 0===d?[0,0,0]:d,p=e.rotationX,v=void 0===p?0:p,g=e.rotationOrbit,y=void 0===g?0:g,m=e.zoom,w=void 0===m?0:m,x=a?a[5]/2:(0,F.sj)(l);return r=t.call(this,(0,b.Z)((0,b.Z)({},e),{},{longitude:void 0,viewMatrix:ur({height:i||1,focalDistance:x,orbitAxis:f,rotationX:v,rotationOrbit:y,zoom:w}),fovy:l,focalDistance:x,position:h,zoom:w})),(0,s.Z)((0,_.Z)(r),"projectedCenter",void 0),r.projectedCenter=r.project(r.center),r}return(0,a.Z)(n,[{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,i=(0,M.Z)(e,3),o=i[0],a=i[1],s=i[2],u=void 0===s?this.projectedCenter[2]:s,l=r?a:this.height-a,c=(0,F.CT)([o,l,u],this.pixelUnprojectionMatrix),f=(0,M.Z)(c,3),d=f[0],h=f[1],p=f[2];return[d,h,p]}},{key:"panByPosition",value:function(e,t){var n=this.project(e),r=[this.width/2+n[0]-t[0],this.height/2+n[1]-t[1],this.projectedCenter[2]];return{target:this.unproject(r)}}}]),n}(Ie.Z),cr=1e-6,fr=6371e3,dr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.phi,r=void 0===n?0:n,i=t.theta,a=void 0===i?0:i,u=t.radius,l=void 0===u?1:u,c=t.bearing,f=t.pitch,d=t.altitude,h=t.radiusScale,p=void 0===h?fr:h;(0,o.Z)(this,e),(0,s.Z)(this,"phi",void 0),(0,s.Z)(this,"theta",void 0),(0,s.Z)(this,"radius",void 0),(0,s.Z)(this,"radiusScale",void 0),this.phi=r,this.theta=a,this.radius=l||d||1,this.radiusScale=p||1,void 0!==c&&(this.bearing=c),void 0!==f&&(this.pitch=f),this.check()}return(0,a.Z)(e,[{key:"toString",value:function(){return this.formatString(Ke.vc)}},{key:"formatString",value:function(e){var t=e.printTypes,n=void 0!==t&&t,r=Ke.Bw;return"".concat(n?"Spherical":"","[rho:").concat(r(this.radius),",theta:").concat(r(this.theta),",phi:").concat(r(this.phi),"]")}},{key:"equals",value:function(e){return(0,Ke.fS)(this.radius,e.radius)&&(0,Ke.fS)(this.theta,e.theta)&&(0,Ke.fS)(this.phi,e.phi)}},{key:"exactEquals",value:function(e){return this.radius===e.radius&&this.theta===e.theta&&this.phi===e.phi}},{key:"bearing",get:function(){return 180-(0,Ke.RW)(this.phi)},set:function(e){this.phi=Math.PI-(0,Ke.uR)(e)}},{key:"pitch",get:function(){return(0,Ke.RW)(this.theta)},set:function(e){this.theta=(0,Ke.uR)(e)}},{key:"longitude",get:function(){return(0,Ke.RW)(this.phi)}},{key:"latitude",get:function(){return(0,Ke.RW)(this.theta)}},{key:"lng",get:function(){return(0,Ke.RW)(this.phi)}},{key:"lat",get:function(){return(0,Ke.RW)(this.theta)}},{key:"z",get:function(){return(this.radius-1)*this.radiusScale}},{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this.check()}},{key:"clone",value:function(){return(new e).copy(this)}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this.check()}},{key:"fromLngLatZ",value:function(e){var t=(0,M.Z)(e,3),n=t[0],r=t[1],i=t[2];return this.radius=1+i/this.radiusScale,this.phi=(0,Ke.uR)(r),this.theta=(0,Ke.uR)(n),this.check()}},{key:"fromVector3",value:function(e){return this.radius=$n.kE(e),this.radius>0&&(this.theta=Math.atan2(e[0],e[1]),this.phi=Math.acos((0,Ke.uZ)(e[2]/this.radius,-1,1))),this.check()}},{key:"toVector3",value:function(){return new h.Z(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}},{key:"makeSafe",value:function(){return this.phi=Math.max(cr,Math.min(Math.PI-cr,this.phi)),this}},{key:"check",value:function(){if(!Number.isFinite(this.phi)||!Number.isFinite(this.theta)||!(this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}]),e}(),hr=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(e){var r;(0,o.Z)(this,n);var i=e.longitude,a=e.latitude,u=e.modelMatrix,l=e.bearing,c=void 0===l?0:l,f=e.pitch,d=void 0===f?0:f,h=e.up,p=void 0===h?[0,0,1]:h,v=new dr({bearing:c,pitch:-90===d?1e-4:90+d}).toVector3().normalize(),g=u?new m.Z(u).transformAsVector(v):v,y=Number.isFinite(a)?(0,F.Bf)({latitude:a}):0,w=Math.pow(2,y),x=(new m.Z).lookAt({eye:[0,0,0],center:g,up:p}).scale(w);return r=t.call(this,(0,b.Z)((0,b.Z)({},e),{},{zoom:y,viewMatrix:x})),(0,s.Z)((0,_.Z)(r),"longitude",void 0),(0,s.Z)((0,_.Z)(r),"latitude",void 0),r.latitude=a,r.longitude=i,r}return(0,a.Z)(n)}(Ie.Z),pr=n(2968),vr=n(8378),gr=n(9861),yr=20,mr=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(e){(0,o.Z)(this,n);var r=e.width,i=e.height,a=e.position,s=void 0===a?[0,0,0]:a,u=e.bearing,l=void 0===u?0:u,c=e.pitch,f=void 0===c?0:c,d=e.longitude,h=void 0===d?null:d,p=e.latitude,v=void 0===p?null:p,g=e.maxPitch,y=void 0===g?90:g,m=e.minPitch,b=void 0===m?-90:m,_=e.startRotatePos,w=e.startBearing,x=e.startPitch,k=e.startZoomPosition;return t.call(this,{width:r,height:i,position:s,bearing:l,pitch:f,longitude:h,latitude:v,maxPitch:y,minPitch:b},{startRotatePos:_,startBearing:w,startPitch:x,startZoomPosition:k})}return(0,a.Z)(n,[{key:"panStart",value:function(){return this}},{key:"pan",value:function(){return this}},{key:"panEnd",value:function(){return this}},{key:"rotateStart",value:function(e){var t=e.pos;return this._getUpdatedState({startRotatePos:t,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}},{key:"rotate",value:function(e){var t,n=e.pos,r=e.deltaAngleX,i=void 0===r?0:r,o=e.deltaAngleY,a=void 0===o?0:o,s=this.getState(),u=s.startRotatePos,l=s.startBearing,c=s.startPitch,f=this.getViewportProps(),d=f.width,h=f.height;if(!u||void 0===l||void 0===c)return this;n?t={bearing:l-180*((n[0]-u[0])/d),pitch:c-90*((n[1]-u[1])/h)}:t={bearing:l-i,pitch:c-a};return this._getUpdatedState(t)}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startRotatePos:null,startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(){return this._getUpdatedState({startZoomPosition:this.getViewportProps().position})}},{key:"zoom",value:function(e){var t=e.scale,n=this.getState().startZoomPosition;n||(n=this.getViewportProps().position);var r=this.getDirection();return this._move(r,Math.log2(t)*yr,n)}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomPosition:null})}},{key:"moveLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr,t=this.getDirection(!0);return this._move(t.rotateZ({radians:Math.PI/2}),e)}},{key:"moveRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr,t=this.getDirection(!0);return this._move(t.rotateZ({radians:-Math.PI/2}),e)}},{key:"moveUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr,t=this.getDirection(!0);return this._move(t,e)}},{key:"moveDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr,t=this.getDirection(!0);return this._move(t.negate(),e)}},{key:"rotateLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}},{key:"rotateRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}},{key:"rotateUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}},{key:"rotateDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this.zoom({scale:e})}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this.zoom({scale:1/e})}},{key:"shortestPathFrom",value:function(e){var t=e.getViewportProps(),n=(0,b.Z)({},this.getViewportProps()),r=n.bearing,i=n.longitude;return Math.abs(r-t.bearing)>180&&(n.bearing=r<0?r+360:r-360),null!==i&&null!==t.longitude&&Math.abs(i-t.longitude)>180&&(n.longitude=i<0?i+360:i-360),n}},{key:"_move",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getViewportProps().position,r=e.scale(t);return this._getUpdatedState({position:new h.Z(n).add(r)})}},{key:"getDirection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new dr({bearing:this.getViewportProps().bearing,pitch:e?90:90+this.getViewportProps().pitch}),n=t.toVector3().normalize();return n}},{key:"_getUpdatedState",value:function(e){return new n((0,b.Z)((0,b.Z)((0,b.Z)({},this.getViewportProps()),this.getState()),e))}},{key:"applyConstraints",value:function(e){var t=e.pitch,n=e.maxPitch,r=e.minPitch,i=e.longitude,o=e.bearing;return e.pitch=(0,Ke.uZ)(t,r,n),null!==i&&(i<-180||i>180)&&(e.longitude=(0,St.wQ)(i+180,360)-180),(o<-180||o>180)&&(e.bearing=(0,St.wQ)(o+180,360)-180),e}}]),n}(gt),br=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,_.Z)(e),"ControllerState",mr),(0,s.Z)((0,_.Z)(e),"transition",{transitionDuration:300,transitionInterpolator:new ot(["position","pitch","bearing"])}),e}return(0,a.Z)(n)}(vt),_r=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"ViewportType",get:function(){return hr}},{key:"ControllerType",get:function(){return br}}]),n}(Xe);(0,s.Z)(_r,"displayName","FirstPersonView");var wr=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.Z)(this,n),(e=t.call(this,r)).props.orbitAxis=r.orbitAxis||"Z",e}return(0,a.Z)(n,[{key:"ViewportType",get:function(){return lr}},{key:"ControllerType",get:function(){return Pt}}]),n}(Xe);(0,s.Z)(wr,"displayName","OrbitView");var xr=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom;e.zoom=(0,Ke.uZ)(r,n,t);var i=e.longitude,o=e.latitude;return(i<-180||i>180)&&(e.longitude=(0,St.wQ)(i+180,360)-180),e.latitude=(0,Ke.uZ)(o,-89,89),e}}]),n}(yt),kr=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,_.Z)(e),"ControllerState",xr),(0,s.Z)((0,_.Z)(e),"transition",{transitionDuration:300,transitionInterpolator:new ot(["longitude","latitude","zoom"])}),(0,s.Z)((0,_.Z)(e),"dragMode","pan"),e}return(0,a.Z)(n,[{key:"setProps",value:function(e){(0,w.Z)((0,x.Z)(n.prototype),"setProps",this).call(this,e),this.dragRotate=!1,this.touchRotate=!1}}]),n}(vt),Er=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"ViewportType",get:function(){return or}},{key:"ControllerType",get:function(){return kr}}]),n}(Xe);(0,s.Z)(Er,"displayName","GlobeView");var Sr=function(){function e(t){(0,o.Z)(this,e),(0,s.Z)(this,"opts",void 0),t&&(this.opts=t)}return(0,a.Z)(e,[{key:"equals",value:function(e){return this===e||this.constructor===e.constructor&&(0,Be.v)(this.opts,e.opts)}},{key:"getShaders",value:function(e){return null}},{key:"getSubLayerProps",value:function(e){var t=e.constructor.defaultProps,n={updateTriggers:{}};for(var r in t)if(r in this.props){var i=t[r],o=this.props[r];n[r]=o,i&&"accessor"===i.type&&(n.updateTriggers[r]=this.props.updateTriggers[r],"function"===typeof o&&(n[r]=this.getSubLayerAccessor(o)))}return n}},{key:"initializeState",value:function(e,t){}},{key:"updateState",value:function(e,t){}},{key:"draw",value:function(e,t){}},{key:"finalizeState",value:function(e,t){}}]),e}();(0,s.Z)(Sr,"defaultProps",{});var Tr=["bearing","pitch"],Pr={speed:1.2,curve:1.414},Ar=function(e){(0,k.Z)(n,e);var t=(0,E.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.Z)(this,n),e=t.call(this,{compare:["longitude","latitude","zoom","bearing","pitch"],extract:["width","height","longitude","latitude","zoom","bearing","pitch"],required:["width","height","latitude","longitude","zoom"]}),(0,s.Z)((0,_.Z)(e),"opts",void 0),e.opts=(0,b.Z)((0,b.Z)({},Pr),r),e}return(0,a.Z)(n,[{key:"interpolateProps",value:function(e,t,n){var r,o=(0,F.if)(e,t,n,this.opts),a=(0,i.Z)(Tr);try{for(a.s();!(r=a.n()).done;){var s=r.value;o[s]=(0,Ke.t7)(e[s]||0,t[s]||0,n)}}catch(Mr){a.e(Mr)}finally{a.f()}return o}},{key:"getDuration",value:function(e,t){var n=t.transitionDuration;return"auto"===n&&(n=(0,F.up)(e,t,this.opts)),n}}]),n}(nt),Cr=n(4517),Zr=n(9990),Or=n(2927),Lr=n(750),Rr=n(9601)},2973:function(e,t,n){"use strict";n.d(t,{Z:function(){return V}});var r=n(1413),i=n(7762),o=n(5671),a=n(3144),s=n(4942),u=n(885),l=n(7326),c=n(1752),f=n(1120),d=n(136),h=n(7277),p=n(3670),v=n(109),g=n(1735),y=function(){function e(t,n){(0,o.Z)(this,e),(0,s.Z)(this,"opts",void 0),(0,s.Z)(this,"source",void 0),this.opts=n,this.source=t}return(0,a.Z)(e,[{key:"value",get:function(){return this.source.value}},{key:"getValue",value:function(){var e=this.source.getBuffer(),t=this.getAccessor();if(e)return[e,t];var n=this.source.value,r=t.size,i=n;if(n&&n.length!==r){i=new Float32Array(r);for(var o=t.elementOffset||0,a=0;a<r;++a)i[a]=n[o+a]}return i}},{key:"getAccessor",value:function(){return(0,r.Z)((0,r.Z)({},this.source.getAccessor()),this.opts)}}]),e}();var m=n(6715),b=n(1276),_=n(7951);function w(e){return e.stride||e.size*e.bytesPerElement}function x(e,t){t.offset&&_.Z.removed("shaderAttribute.offset","vertexOffset, elementOffset")();var n=w(e),i=(void 0!==t.vertexOffset?t.vertexOffset:e.vertexOffset||0)*n+(t.elementOffset||0)*e.bytesPerElement+(e.offset||0);return(0,r.Z)((0,r.Z)({},t),{},{offset:i,stride:n})}var k=function(){function e(t,n,i){(0,o.Z)(this,e),(0,s.Z)(this,"gl",void 0),(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"size",void 0),(0,s.Z)(this,"settings",void 0),(0,s.Z)(this,"value",void 0),(0,s.Z)(this,"doublePrecision",void 0),(0,s.Z)(this,"_buffer",void 0),(0,s.Z)(this,"state",void 0),this.gl=t,this.id=n.id||"",this.size=n.size||1;var a,u=n.logicalType||n.type,l=5130===u,c=n.defaultValue;c=Number.isFinite(c)?[c]:c||new Array(this.size).fill(0),a=l?5126:!u&&n.isIndexed?t&&(0,p.U6)(t,v.h.ELEMENT_INDEX_UINT32)?5125:5123:u||5126;var f=function(e){switch(e){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}(u||a||5126);this.doublePrecision=l,l&&!1===n.fp64&&(f=Float32Array),this.value=null,this.settings=(0,r.Z)((0,r.Z)({},n),{},{defaultType:f,defaultValue:c,logicalType:u,type:a,size:this.size,bytesPerElement:f.BYTES_PER_ELEMENT}),this.state=(0,r.Z)((0,r.Z)({},i),{},{externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}),this._buffer=null}return(0,a.Z)(e,[{key:"isConstant",get:function(){return this.state.constant}},{key:"buffer",get:function(){if(!this._buffer){var e=this.settings,t=e.isIndexed,n=e.type;this._buffer=new g.Z(this.gl,{id:this.id,target:t?34963:34962,accessor:{type:n}})}return this._buffer}},{key:"byteOffset",get:function(){var e=this.getAccessor();return e.vertexOffset?e.vertexOffset*w(e):0}},{key:"numInstances",get:function(){return this.state.numInstances},set:function(e){this.state.numInstances=e}},{key:"delete",value:function(){this._buffer&&(this._buffer.delete(),this._buffer=null),m.Z.release(this.state.allocatedValue)}},{key:"getShaderAttributes",value:function(e,t){if(this.doublePrecision){var n={},i=this.value instanceof Float64Array,o=function(e,t){var n=x(e,t);return{high:n,low:(0,r.Z)((0,r.Z)({},n),{},{offset:n.offset+4*e.size})}}(this.getAccessor(),t||{});return n[e]=new y(this,o.high),n["".concat(e,"64Low")]=i?new y(this,o.low):new Float32Array(this.size),n}if(t){var a=x(this.getAccessor(),t);return(0,s.Z)({},e,new y(this,a))}return(0,s.Z)({},e,this)}},{key:"getBuffer",value:function(){return this.state.constant?null:this.state.externalBuffer||this._buffer}},{key:"getValue",value:function(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}},{key:"getAccessor",value:function(){return this.state.bufferAccessor}},{key:"getBounds",value:function(){if(this.state.bounds)return this.state.bounds;var e=null;if(this.state.constant&&this.value){var t=Array.from(this.value);e=[t,t]}else{var n=this.value,r=this.numInstances,i=this.size,o=r*i;if(n&&o&&n.length>=o){for(var a=new Array(i).fill(1/0),s=new Array(i).fill(-1/0),u=0;u<o;)for(var l=0;l<i;l++){var c=n[u++];c<a[l]&&(a[l]=c),c>s[l]&&(s[l]=c)}e=[a,s]}}return this.state.bounds=e,e}},{key:"setData",value:function(e){var t,n=this.state;t=ArrayBuffer.isView(e)?{value:e}:e instanceof g.Z?{buffer:e}:e;var i=(0,r.Z)((0,r.Z)({},this.settings),t);if(n.bufferAccessor=i,n.bounds=null,t.constant){var o=t.value;if(o=this._normalizeValue(o,[],0),this.settings.normalized&&(o=this.normalizeConstant(o)),!(!n.constant||!this._areValuesEqual(o,this.value)))return!1;n.externalBuffer=null,n.constant=!0,this.value=o}else if(t.buffer){var a=t.buffer;n.externalBuffer=a,n.constant=!1,this.value=t.value||null;var s=t.value instanceof Float64Array;i.type=t.type||a.accessor.type,i.bytesPerElement=a.accessor.BYTES_PER_ELEMENT*(s?2:1),i.stride=w(i)}else if(t.value){this._checkExternalBuffer(t);var u=t.value;n.externalBuffer=null,n.constant=!1,this.value=u,i.bytesPerElement=u.BYTES_PER_ELEMENT,i.stride=w(i);var l=this.buffer,c=this.byteOffset;this.doublePrecision&&u instanceof Float64Array&&(u=(0,b.TK)(u,i));var f=u.byteLength+c+2*i.stride;l.byteLength<f&&l.reallocate(f),l.setAccessor(null),l.subData({data:u,offset:c}),i.type=t.type||l.accessor.type}return!0}},{key:"updateSubBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.bounds=null;var t=this.value,n=e.startOffset,r=void 0===n?0:n,i=e.endOffset;this.buffer.subData({data:this.doublePrecision&&t instanceof Float64Array?(0,b.TK)(t,{size:this.size,startIndex:r,endIndex:i}):t.subarray(r,i),offset:r*t.BYTES_PER_ELEMENT+this.byteOffset})}},{key:"allocate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,r=n.allocatedValue,i=m.Z.allocate(r,e+1,{size:this.size,type:this.settings.defaultType,copy:t});this.value=i;var o=this.buffer,a=this.byteOffset;return o.byteLength<i.byteLength+a&&(o.reallocate(i.byteLength+a),t&&r&&o.subData({data:r instanceof Float64Array?(0,b.TK)(r,this):r,offset:a})),n.allocatedValue=i,n.constant=!1,n.externalBuffer=null,n.bufferAccessor=this.settings,!0}},{key:"_checkExternalBuffer",value:function(e){var t=e.value;if(!ArrayBuffer.isView(t))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));var n=this.settings.defaultType,r=!1;if(this.doublePrecision&&(r=t.BYTES_PER_ELEMENT<4),r)throw new Error("Attribute ".concat(this.id," does not support ").concat(t.constructor.name));t instanceof n||!this.settings.normalized||"normalized"in e||_.Z.warn("Attribute ".concat(this.id," is normalized"))()}},{key:"normalizeConstant",value:function(e){switch(this.settings.type){case 5120:return new Float32Array(e).map((function(e){return(e+128)/255*2-1}));case 5122:return new Float32Array(e).map((function(e){return(e+32768)/65535*2-1}));case 5121:return new Float32Array(e).map((function(e){return e/255}));case 5123:return new Float32Array(e).map((function(e){return e/65535}));default:return e}}},{key:"_normalizeValue",value:function(e,t,n){var r=this.settings,i=r.defaultValue,o=r.size;if(Number.isFinite(e))return t[n]=e,t;if(!e)return t[n]=i[0],t;switch(o){case 4:t[n+3]=Number.isFinite(e[3])?e[3]:i[3];case 3:t[n+2]=Number.isFinite(e[2])?e[2]:i[2];case 2:t[n+1]=Number.isFinite(e[1])?e[1]:i[1];case 1:t[n+0]=Number.isFinite(e[0])?e[0]:i[0];break;default:for(var a=o;--a>=0;)t[n+a]=Number.isFinite(e[a])?e[a]:i[a]}return t}},{key:"_areValuesEqual",value:function(e,t){if(!e||!t)return!1;for(var n=this.size,r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}}]),e}(),E=n(6291),S=n(4517),T=n(9199),P=[],A=[[0,1/0]];function C(e,t){if(e===A)return e;if(t[0]<0&&(t[0]=0),t[0]>=t[1])return e;for(var n=[],r=e.length,i=0,o=0;o<r;o++){var a=e[o];a[1]<t[0]?(n.push(a),i=o+1):a[0]>t[1]?n.push(a):t=[Math.min(a[0],t[0]),Math.max(a[1],t[1])]}return n.splice(i,0,t),n}var Z=n(3581),O=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var i;return(0,o.Z)(this,n),i=t.call(this,e,r,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:A}),(0,s.Z)((0,l.Z)(i),"constant",!1),i.settings.update=r.update||(r.accessor?i._autoUpdater:void 0),Object.seal(i.settings),Object.seal(i.state),i._validateAttributeUpdaters(),i}return(0,a.Z)(n,[{key:"startIndices",get:function(){return this.state.startIndices},set:function(e){this.state.startIndices=e}},{key:"needsUpdate",value:function(){return this.state.needsUpdate}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearChangedFlags,n=void 0!==t&&t,r=this.state.needsRedraw;return this.state.needsRedraw=r&&!n,r}},{key:"getUpdateTriggers",value:function(){var e=this.settings.accessor;return[this.id].concat("function"!==typeof e&&e||[])}},{key:"supportsTransition",value:function(){return Boolean(this.settings.transition)}},{key:"getTransitionSetting",value:function(e){if(!e||!this.supportsTransition())return null;var t=this.settings.accessor,n=this.settings.transition,r=Array.isArray(t)?e[t.find((function(t){return e[t]}))]:e[t];return(0,Z.M0)(r,n)}},{key:"setNeedsUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id,t=arguments.length>1?arguments[1]:void 0;if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),t){var n=t.startRow,r=void 0===n?0:n,i=t.endRow,o=void 0===i?1/0:i;this.state.updateRanges=C(this.state.updateRanges,[r,o])}else this.state.updateRanges=A}},{key:"clearNeedsUpdate",value:function(){this.state.needsUpdate=!1,this.state.updateRanges=P}},{key:"setNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;this.state.needsRedraw=this.state.needsRedraw||e}},{key:"allocate",value:function(e){var t=this.state,r=this.settings;return!r.noAlloc&&(!!r.update&&((0,c.Z)((0,f.Z)(n.prototype),"allocate",this).call(this,e,t.updateRanges!==A),!0))}},{key:"updateBuffer",value:function(e){var t=e.numInstances,r=e.data,o=e.props,a=e.context;if(!this.needsUpdate())return!1;var s=this.state.updateRanges,l=this.settings,d=l.update,h=l.noAlloc,p=!0;if(d){var v,g=(0,i.Z)(s);try{for(g.s();!(v=g.n()).done;){var y=(0,u.Z)(v.value,2),m=y[0],b=y[1];d.call(a,this,{data:r,startRow:m,endRow:b,props:o,numInstances:t})}}catch(P){g.e(P)}finally{g.f()}if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else{var _,w=(0,i.Z)(s);try{for(w.s();!(_=w.n()).done;){var x=(0,u.Z)(_.value,2),k=x[0],E=x[1],S=Number.isFinite(k)?this.getVertexOffset(k):0,T=Number.isFinite(E)?this.getVertexOffset(E):h||!Number.isFinite(t)?this.value.length:t*this.size;(0,c.Z)((0,f.Z)(n.prototype),"updateSubBuffer",this).call(this,{startOffset:S,endOffset:T})}}catch(P){w.e(P)}finally{w.f()}}else;this._checkAttributeArray()}else p=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),p}},{key:"setConstantValue",value:function(e){return void 0!==e&&"function"!==typeof e&&(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}},{key:"setExternalBuffer",value:function(e){var t=this.state;return e?(this.clearNeedsUpdate(),t.lastExternalBuffer===e||(t.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(t.lastExternalBuffer=null,!1)}},{key:"setBinaryValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.state,r=this.settings;if(!e)return n.binaryValue=null,n.binaryAccessor=null,!1;if(r.noAlloc)return!1;if(n.binaryValue===e)return this.clearNeedsUpdate(),!0;n.binaryValue=e,this.setNeedsRedraw();var i=r.transform||t!==this.startIndices;if(i){ArrayBuffer.isView(e)&&(e={value:e});var o=e;(0,E.Z)(ArrayBuffer.isView(o.value),"invalid ".concat(r.accessor));var a=Boolean(o.size)&&o.size!==this.size;return n.binaryAccessor=(0,S.jr)(o.value,{size:o.size||this.size,stride:o.stride,offset:o.offset,startIndices:t,nested:a}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}},{key:"getVertexOffset",value:function(e){var t=this.startIndices;return(t?t[e]:e)*this.size}},{key:"getShaderAttributes",value:function(){var e=this.settings.shaderAttributes||(0,s.Z)({},this.id,null),t={};for(var r in e)Object.assign(t,(0,c.Z)((0,f.Z)(n.prototype),"getShaderAttributes",this).call(this,r,e[r]));return t}},{key:"_autoUpdater",value:function(e,t){var n=t.data,r=t.startRow,o=t.endRow,a=t.props,s=t.numInstances;if(!e.constant){var u=e.settings,l=e.state,c=e.value,f=e.size,d=e.startIndices,h=u.accessor,p=u.transform,v=l.binaryAccessor||("function"===typeof h?h:a[h]);(0,E.Z)("function"===typeof v,'accessor "'.concat(h,'" is not a function'));var g,y=e.getVertexOffset(r),m=(0,S.jB)(n,r,o),b=m.iterable,_=m.objectInfo,w=(0,i.Z)(b);try{for(w.s();!(g=w.n()).done;){var x=g.value;_.index++;var k=v(x,_);if(p&&(k=p.call(this,k)),d){var P=(_.index<d.length-1?d[_.index+1]:s)-d[_.index];if(k&&Array.isArray(k[0])){var A,C=y,Z=(0,i.Z)(k);try{for(Z.s();!(A=Z.n()).done;){var O=A.value;e._normalizeValue(O,c,C),C+=f}}catch(L){Z.e(L)}finally{Z.f()}}else k&&k.length>f?c.set(k,y):(e._normalizeValue(k,_.target,0),(0,T.k)({target:c,source:_.target,start:y,count:P}));y+=P*f}else e._normalizeValue(k,c,y),y+=f}}catch(L){w.e(L)}finally{w.f()}}}},{key:"_validateAttributeUpdaters",value:function(){var e=this.settings;if(!(e.noAlloc||"function"===typeof e.update))throw new Error("Attribute ".concat(this.id," missing update or accessor"))}},{key:"_checkAttributeArray",value:function(){var e=this.value,t=Math.min(4,this.size);if(e&&e.length>=t){var n=!0;switch(t){case 4:n=n&&Number.isFinite(e[3]);case 3:n=n&&Number.isFinite(e[2]);case 2:n=n&&Number.isFinite(e[1]);case 1:n=n&&Number.isFinite(e[0]);break;default:n=!1}if(!n)throw new Error("Illegal attribute generated for ".concat(this.id))}}}]),n}(k),L=n(9299),R=n(9719),M=n(1055),I=function(){function e(t){var n=t.gl,r=t.attribute,i=t.timeline;(0,o.Z)(this,e),(0,s.Z)(this,"gl",void 0),(0,s.Z)(this,"type","interpolation"),(0,s.Z)(this,"attributeInTransition",void 0),(0,s.Z)(this,"settings",void 0),(0,s.Z)(this,"attribute",void 0),(0,s.Z)(this,"transition",void 0),(0,s.Z)(this,"currentStartIndices",void 0),(0,s.Z)(this,"currentLength",void 0),(0,s.Z)(this,"transform",void 0),(0,s.Z)(this,"buffers",void 0),this.gl=n,this.transition=new M.Z(i),this.attribute=r,this.attributeInTransition=new O(n,r.settings),this.currentStartIndices=r.startIndices,this.currentLength=0,this.transform=function(e,t){var n=(0,Z.w)(t.size);return new R.Z(e,{vs:N,defines:{ATTRIBUTE_TYPE:n},varyings:["vCurrent"]})}(n,r);var a={byteLength:0,usage:35050};this.buffers=[new g.Z(n,a),new g.Z(n,a)]}return(0,a.Z)(e,[{key:"inProgress",get:function(){return this.transition.inProgress}},{key:"start",value:function(e,t){if(e.duration<=0)this.transition.cancel();else{this.settings=e;var n=this.gl,o=this.buffers,a=this.attribute;(0,Z.DY)(o);var s,u={numInstances:t,attribute:a,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter},l=(0,i.Z)(o);try{for(l.s();!(s=l.n()).done;){var c=s.value;(0,Z.IV)((0,r.Z)({buffer:c},u))}}catch(f){l.e(f)}finally{l.f()}this.currentStartIndices=a.startIndices,this.currentLength=(0,Z.pi)(a,t),this.attributeInTransition.setData({buffer:o[1],value:a.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/a.size),sourceBuffers:{aFrom:o[0],aTo:(0,Z.AQ)(n,a)},feedbackBuffers:{vCurrent:o[1]}})}}},{key:"update",value:function(){var e=this.transition.update();if(e){var t=this.settings,n=t.duration,r=t.easing,i=this.transition.time/n;r&&(i=r(i)),this.transform.run({uniforms:{time:i}})}return e}},{key:"cancel",value:function(){this.transition.cancel(),this.transform.delete();var e,t=(0,i.Z)(this.buffers);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(n){t.e(n)}finally{t.f()}this.buffers.length=0}}]),e}(),N="\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n";var F=n(9507),j=n(2366),D=n(6796);var z={interpolation:I,spring:function(){function e(t){var n=t.gl,i=t.attribute,a=t.timeline;(0,o.Z)(this,e),(0,s.Z)(this,"gl",void 0),(0,s.Z)(this,"type","spring"),(0,s.Z)(this,"attributeInTransition",void 0),(0,s.Z)(this,"settings",void 0),(0,s.Z)(this,"attribute",void 0),(0,s.Z)(this,"transition",void 0),(0,s.Z)(this,"currentStartIndices",void 0),(0,s.Z)(this,"currentLength",void 0),(0,s.Z)(this,"texture",void 0),(0,s.Z)(this,"framebuffer",void 0),(0,s.Z)(this,"transform",void 0),(0,s.Z)(this,"buffers",void 0),this.gl=n,this.type="spring",this.transition=new M.Z(a),this.attribute=i,this.attributeInTransition=new O(n,(0,r.Z)((0,r.Z)({},i.settings),{},{normalized:!1})),this.currentStartIndices=i.startIndices,this.currentLength=0,this.texture=function(e){return new j.Z(e,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(n),this.framebuffer=function(e,t){return new D.Z(e,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:(0,s.Z)({},36064,t)})}(n,this.texture),this.transform=function(e,t,n){var r=(0,Z.w)(t.size);return new R.Z(e,{framebuffer:n,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:r},varyings:["vNext"]})}(n,i,this.framebuffer);var u={byteLength:0,usage:35050};this.buffers=[new g.Z(n,u),new g.Z(n,u),new g.Z(n,u)]}return(0,a.Z)(e,[{key:"inProgress",get:function(){return this.transition.inProgress}},{key:"start",value:function(e,t){var n,o=this.gl,a=this.buffers,s=this.attribute,u={numInstances:t,attribute:s,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter},l=(0,i.Z)(a);try{for(l.s();!(n=l.n()).done;){var c=n.value;(0,Z.IV)((0,r.Z)({buffer:c},u))}}catch(f){l.e(f)}finally{l.f()}this.settings=e,this.currentStartIndices=s.startIndices,this.currentLength=(0,Z.pi)(s,t),this.attributeInTransition.setData({buffer:a[1],value:s.value}),this.transition.start((0,r.Z)((0,r.Z)({},e),{},{duration:1/0})),this.transform.update({elementCount:Math.floor(this.currentLength/s.size),sourceBuffers:{aTo:(0,Z.AQ)(o,s)}})}},{key:"update",value:function(){var e=this.buffers,t=this.transform,n=this.framebuffer,r=this.transition;if(!r.update())return!1;var i=this.settings;return t.update({sourceBuffers:{aPrev:e[0],aCur:e[1]},feedbackBuffers:{vNext:e[2]}}),t.run({framebuffer:n,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:i.stiffness,damping:i.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),(0,Z.DY)(e),this.attributeInTransition.setData({buffer:e[1],value:this.attribute.value}),(0,F.z6)(n)[0]>0||r.end(),!0}},{key:"cancel",value:function(){this.transition.cancel(),this.transform.delete();var e,t=(0,i.Z)(this.buffers);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(n){t.e(n)}finally{t.f()}this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}]),e}()},B=function(){function e(t,n){var r=n.id,i=n.timeline;(0,o.Z)(this,e),(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"isSupported",void 0),(0,s.Z)(this,"gl",void 0),(0,s.Z)(this,"timeline",void 0),(0,s.Z)(this,"transitions",void 0),(0,s.Z)(this,"needsRedraw",void 0),(0,s.Z)(this,"numInstances",void 0),this.id=r,this.gl=t,this.timeline=i,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=R.Z.isSupported(t)}return(0,a.Z)(e,[{key:"finalize",value:function(){for(var e in this.transitions)this._removeTransition(e)}},{key:"update",value:function(e){var t=e.attributes,n=e.transitions,r=e.numInstances;for(var i in this.numInstances=r||1,t){var o=t[i],a=o.getTransitionSetting(n);a&&this._updateAttribute(i,o,a)}for(var s in this.transitions){var u=t[s];u&&u.getTransitionSetting(n)||this._removeTransition(s)}}},{key:"hasAttribute",value:function(e){var t=this.transitions[e];return t&&t.inProgress}},{key:"getAttributes",value:function(){var e={};for(var t in this.transitions){var n=this.transitions[t];n.inProgress&&(e[t]=n.attributeInTransition)}return e}},{key:"run",value:function(){if(!this.isSupported||0===this.numInstances)return!1;for(var e in this.transitions){this.transitions[e].update()&&(this.needsRedraw=!0)}var t=this.needsRedraw;return this.needsRedraw=!1,t}},{key:"_removeTransition",value:function(e){this.transitions[e].cancel(),delete this.transitions[e]}},{key:"_updateAttribute",value:function(e,t,n){var r=this.transitions[e],i=!r||r.type!==n.type;if(i){if(!this.isSupported)return void _.Z.warn("WebGL2 not supported by this browser. Transition for ".concat(e," is disabled."))();r&&this._removeTransition(e);var o=z[n.type];o?this.transitions[e]=new o({attribute:t,timeline:this.timeline,gl:this.gl}):(_.Z.error("unsupported transition type '".concat(n.type,"'"))(),i=!1)}(i||t.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(n,this.numInstances))}}]),e}(),U="attributeManager.invalidate",V=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.id,i=void 0===r?"attribute-manager":r,a=n.stats,u=n.timeline;(0,o.Z)(this,e),(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"gl",void 0),(0,s.Z)(this,"attributes",void 0),(0,s.Z)(this,"updateTriggers",void 0),(0,s.Z)(this,"needsRedraw",void 0),(0,s.Z)(this,"userData",void 0),(0,s.Z)(this,"stats",void 0),(0,s.Z)(this,"attributeTransitionManager",void 0),this.id=i,this.gl=t,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=a,this.attributeTransitionManager=new B(t,{id:"".concat(i,"-transitions"),timeline:u}),Object.seal(this)}return(0,a.Z)(e,[{key:"finalize",value:function(){for(var e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}},{key:"getNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,t&&this.id}},{key:"setNeedsRedraw",value:function(){this.needsRedraw=!0}},{key:"add",value:function(e){this._add(e)}},{key:"addInstanced",value:function(e){this._add(e,{instanced:1})}},{key:"remove",value:function(e){var t,n=(0,i.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;void 0!==this.attributes[r]&&(this.attributes[r].delete(),delete this.attributes[r])}}catch(o){n.e(o)}finally{n.f()}}},{key:"invalidate",value:function(e,t){var n=this._invalidateTrigger(e,t);(0,L.Z)(U,this,e,n)}},{key:"invalidateAll",value:function(e){for(var t in this.attributes)this.attributes[t].setNeedsUpdate(t,e);(0,L.Z)(U,this,"all")}},{key:"update",value:function(e){var t=e.data,n=e.numInstances,r=e.startIndices,i=void 0===r?null:r,o=e.transitions,a=e.props,s=void 0===a?{}:a,u=e.buffers,l=void 0===u?{}:u,c=e.context,f=void 0===c?{}:c,d=!1;for(var h in(0,L.Z)("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart(),this.attributes){var p=this.attributes[h],v=p.settings.accessor;p.startIndices=i,p.numInstances=n,s[h]&&_.Z.removed("props.".concat(h),"data.attributes.".concat(h))(),p.setExternalBuffer(l[h])||p.setBinaryValue("string"===typeof v?l[v]:void 0,t.startIndices)||"string"===typeof v&&!l[v]&&p.setConstantValue(s[v])||p.needsUpdate()&&(d=!0,this._updateAttribute({attribute:p,numInstances:n,data:t,props:s,context:f})),this.needsRedraw=this.needsRedraw||p.needsRedraw()}d&&(0,L.Z)("attributeManager.updateEnd",this,n),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:n,transitions:o})}},{key:"updateTransition",value:function(){var e=this.attributeTransitionManager.run();return this.needsRedraw=this.needsRedraw||e,e}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getChangedAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearChangedFlags:!1},t=this.attributes,n=this.attributeTransitionManager,i=(0,r.Z)({},n.getAttributes());for(var o in t){var a=t[o];a.needsRedraw(e)&&!n.hasAttribute(o)&&(i[o]=a)}return i}},{key:"getShaderAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e||(e=this.getAttributes());var n={};for(var r in e)t[r]||Object.assign(n,e[r].getShaderAttributes());return n}},{key:"_add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e){var r=e[n];this.attributes[n]=this._createAttribute(n,r,t)}this._mapUpdateTriggersToAttributes()}},{key:"_createAttribute",value:function(e,t,n){var i=(0,r.Z)((0,r.Z)({},t),{},{id:e,size:(t.isIndexed?1:t.size)||1,divisor:n.instanced?1:t.divisor||0});return new O(this.gl,i)}},{key:"_mapUpdateTriggersToAttributes",value:function(){var e=this,t={},n=function(n){e.attributes[n].getUpdateTriggers().forEach((function(e){t[e]||(t[e]=[]),t[e].push(n)}))};for(var r in this.attributes)n(r);this.updateTriggers=t}},{key:"_invalidateTrigger",value:function(e,t){var n=this.attributes,r=this.updateTriggers[e];return r&&r.forEach((function(e){var r=n[e];r&&r.setNeedsUpdate(r.id,t)})),r}},{key:"_updateAttribute",value:function(e){var t=e.attribute,n=e.numInstances;((0,L.Z)("attribute.updateStart",t),t.constant)?t.setConstantValue(t.value):(t.allocate(n)&&(0,L.Z)("attribute.allocate",t,n),t.updateBuffer(e)&&(this.needsRedraw=!0,(0,L.Z)("attribute.updateEnd",t,n)))}}]),e}()},3581:function(e,t,n){"use strict";n.d(t,{DY:function(){return l},pi:function(){return c},w:function(){return u},AQ:function(){return s},M0:function(){return a},IV:function(){return f}});var r=n(1413);function i(e){var t=e.source,n=e.target,r=e.start,i=void 0===r?0:r,o=e.size,a=e.getData,s=e.end||n.length,u=t.length,l=s-i;if(u>l)n.set(t.subarray(0,l),i);else if(n.set(t,i),a)for(var c=u;c<l;)for(var f=a(c,t),d=0;d<o;d++)n[i+c]=f[d]||0,c++}var o={interpolation:{duration:0,easing:function(e){return e}},spring:{stiffness:.05,damping:.5}};function a(e,t){if(!e)return null;Number.isFinite(e)&&(e={type:"interpolation",duration:e});var n=e.type||"interpolation";return(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},o[n]),t),e),{},{type:n})}function s(e,t){var n=t.getBuffer();return n?[n,{divisor:0,size:t.size,normalized:t.settings.normalized}]:t.value}function u(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(e,'"'))}}function l(e){e.push(e.shift())}function c(e,t){var n=e.doublePrecision,r=e.settings,i=e.value,o=e.size,a=n&&i instanceof Float64Array?2:1;return(r.noAlloc?i.length:t*o)*a}function f(e){var t=e.buffer,n=e.numInstances,r=e.attribute,o=e.fromLength,a=e.fromStartIndices,s=e.getData,u=void 0===s?function(e){return e}:s,l=r.doublePrecision&&r.value instanceof Float64Array?2:1,f=r.size*l,d=r.byteOffset,h=r.startIndices,p=a&&h,v=c(r,n),g=r.isConstant;if(p||!(o>=v)){var y=g?r.value:r.getBuffer().getData({srcByteOffset:d});if(r.settings.normalized&&!g){var m=u;u=function(e,t){return r.normalizeConstant(m(e,t))}}var b=g?function(e,t){return u(y,t)}:function(e,t){return u(y.subarray(e,e+f),t)},_=t.getData({length:o}),w=new Float32Array(v);!function(e){var t=e.source,n=e.target,r=e.size,o=e.getData,a=e.sourceStartIndices,s=e.targetStartIndices;if(!Array.isArray(s))return i({source:t,target:n,size:r,getData:o}),n;for(var u=0,l=0,c=o&&function(e,t){return o(e+l,t)},f=Math.min(a.length,s.length),d=1;d<f;d++){var h=a[d]*r,p=s[d]*r;i({source:t.subarray(u,h),target:n,start:l,end:p,size:r,getData:c}),u=h,l=p}l<n.length&&i({source:[],target:n,start:l,size:r,getData:c})}({source:_,target:w,sourceStartIndices:a,targetStartIndices:h,size:f,getData:b}),t.byteLength<w.byteLength+d&&t.reallocate(w.byteLength+d),t.subData({data:w,offset:d})}}},5237:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(7762),i=n(1413),o=n(5671),a=n(3144),s=n(1752),u=n(1120),l=n(136),c=n(7277),f=n(4942),d=n(5973),h=n(9299),p=n(9199),v=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"isComposite",get:function(){return!0}},{key:"isLoaded",get:function(){return(0,s.Z)((0,u.Z)(n.prototype),"isLoaded",this)&&this.getSubLayers().every((function(e){return e.isLoaded}))}},{key:"getSubLayers",value:function(){return this.internalState&&this.internalState.subLayers||[]}},{key:"initializeState",value:function(e){}},{key:"setState",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"setState",this).call(this,e),this.setNeedsUpdate()}},{key:"getPickingInfo",value:function(e){var t=e.info,n=t.object;return n&&n.__source&&n.__source.parent&&n.__source.parent.id===this.id?(t.object=n.__source.object,t.index=n.__source.index,t):t}},{key:"filterSubLayer",value:function(e){return!0}},{key:"shouldRenderSubLayer",value:function(e,t){return t&&t.length}},{key:"getSubLayerClass",value:function(e,t){var n=this.props._subLayerProps;return n&&n[e]&&n[e].type||t}},{key:"getSubLayerRow",value:function(e,t,n){return e.__source={parent:this,object:t,index:n},e}},{key:"getSubLayerAccessor",value:function(e){if("function"===typeof e){var t={index:-1,data:this.props.data,target:[]};return function(n,r){return n&&n.__source?(t.index=n.__source.index,e(n.__source.object,t)):e(n,r)}}return e}},{key:"getSubLayerProps",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,o=n.opacity,a=n.pickable,s=n.visible,u=n.parameters,l=n.getPolygonOffset,c=n.highlightedObjectIndex,f=n.autoHighlight,d=n.highlightColor,h=n.coordinateSystem,p=n.coordinateOrigin,v=n.wrapLongitude,g=n.positionFormat,y=n.modelMatrix,m=n.extensions,b=n.fetch,_=n.operation,w=n._subLayerProps,x={id:"",updateTriggers:{},opacity:o,pickable:a,visible:s,parameters:u,getPolygonOffset:l,highlightedObjectIndex:c,autoHighlight:f,highlightColor:d,coordinateSystem:h,coordinateOrigin:p,wrapLongitude:v,positionFormat:g,modelMatrix:y,extensions:m,fetch:b,operation:_},k=w&&t.id&&w[t.id],E=k&&k.updateTriggers,S=t.id||"sublayer";if(k){var T=this.constructor._propTypes,P=t.type?t.type._propTypes:{};for(var A in k){var C=P[A]||T[A];C&&"accessor"===C.type&&(k[A]=this.getSubLayerAccessor(k[A]))}}Object.assign(x,t,k),x.id="".concat(this.props.id,"-").concat(S),x.updateTriggers=(0,i.Z)((0,i.Z)({all:null===(e=this.props.updateTriggers)||void 0===e?void 0:e.all},t.updateTriggers),E);var Z,O=(0,r.Z)(m);try{for(O.s();!(Z=O.n()).done;){var L=Z.value,R=L.getSubLayerProps.call(this,L);R&&Object.assign(x,R,{updateTriggers:Object.assign(x.updateTriggers,R.updateTriggers)})}}catch(M){O.e(M)}finally{O.f()}return x}},{key:"_updateAutoHighlight",value:function(e){var t,n=(0,r.Z)(this.getSubLayers());try{for(n.s();!(t=n.n()).done;){t.value.updateAutoHighlight(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"_getAttributeManager",value:function(){return null}},{key:"_postUpdate",value:function(e,t){var n=this.internalState.subLayers,i=!n||this.needsUpdate();if(i){var o=this.renderLayers();n=(0,p.x)(o,Boolean),this.internalState.subLayers=n}(0,h.Z)("compositeLayer.renderLayers",this,i,n);var a,s=(0,r.Z)(n);try{for(s.s();!(a=s.n()).done;){a.value.parent=this}}catch(u){s.e(u)}finally{s.f()}}}]),n}(d.Z);(0,f.Z)(v,"layerName","CompositeLayer")},6128:function(e,t,n){"use strict";n.d(t,{Df:function(){return i},FP:function(){return s},iI:function(){return a},k8:function(){return u},zG:function(){return o}});var r=n(7951),i={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(i,"IDENTITY",{get:function(){return r.Z.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0}});var o={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},a={common:0,meters:1,pixels:2},s={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},u={DRAW:"draw",MASK:"mask"}},5973:function(e,t,n){"use strict";n.d(t,{Z:function(){return ve}});var r=n(7762),i=n(885),o=n(5671),a=n(3144),s=n(7326),u=n(136),l=n(7277),c=n(1413),f=n(4942),d=n(6128),h=n(2973),p=n(3581),v=n(1783),g=n(1055),y=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"value",get:function(){return this._value}},{key:"_onUpdate",value:function(){var e=this.time,t=this.settings,n=t.fromValue,r=t.toValue,i=t.duration,o=(0,t.easing)(e/i);this._value=(0,v.t7)(n,r,o)}}]),n}(g.Z),m=1e-5;function b(e,t,n,r,i){var o=t-e;return(n-t)*i+-o*r+o+t}function _(e,t){if(Array.isArray(e)){for(var n=0,r=0;r<e.length;r++){var i=e[r]-t[r];n+=i*i}return Math.sqrt(n)}return Math.abs(e-t)}var w,x=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"value",get:function(){return this._currValue}},{key:"_onUpdate",value:function(){var e=this.settings,t=e.fromValue,n=e.toValue,r=e.damping,i=e.stiffness,o=this._prevValue,a=void 0===o?t:o,s=this._currValue,u=void 0===s?t:s,l=function(e,t,n,r,i){if(Array.isArray(n)){for(var o=[],a=0;a<n.length;a++)o[a]=b(e[a],t[a],n[a],r,i);return o}return b(e,t,n,r,i)}(a,u,n,r,i),c=_(l,n),f=_(l,u);c<m&&f<m&&(l=n,this.end()),this._prevValue=u,this._currValue=l}}]),n}(g.Z),k=n(7951),E={interpolation:y,spring:x},S=function(){function e(t){(0,o.Z)(this,e),this.transitions=new Map,this.timeline=t}return(0,a.Z)(e,[{key:"active",get:function(){return this.transitions.size>0}},{key:"add",value:function(e,t,n,r){var i=this.transitions;if(i.has(e)){var o=i.get(e),a=o.value;t=void 0===a?o.settings.fromValue:a,this.remove(e)}if(r=(0,p.M0)(r)){var s=E[r.type];if(s){var u=new s(this.timeline);u.start((0,c.Z)((0,c.Z)({},r),{},{fromValue:t,toValue:n})),i.set(e,u)}else k.Z.error("unsupported transition type '".concat(r.type,"'"))()}}},{key:"remove",value:function(e){var t=this.transitions;t.has(e)&&(t.get(e).cancel(),t.delete(e))}},{key:"update",value:function(){var e,t={},n=(0,r.Z)(this.transitions);try{for(n.s();!(e=n.n()).done;){var o=(0,i.Z)(e.value,2),a=o[0],s=o[1];s.update(),t[a]=s.value,s.inProgress||this.remove(a)}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"clear",value:function(){var e,t=(0,r.Z)(this.transitions.keys());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.remove(n)}}catch(i){t.e(i)}finally{t.f()}}}]),e}(),T=n(9601),P=n(3547),A=n(2927),C=n(9299),Z=n(8767),O=n(6291),L=n(9032),R=n(750),M=n(7944),I=n(6715),N=n(4517),F=n(2366),j=(w={},(0,f.Z)(w,10241,9987),(0,f.Z)(w,10240,9729),(0,f.Z)(w,10242,33071),(0,f.Z)(w,10243,33071),w),D={};var z=n(9905),B={boolean:{validate:function(e,t){return!0},equal:function(e,t,n){return Boolean(e)===Boolean(t)}},number:{validate:function(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}},color:{validate:function(e,t){return t.optional&&!e||W(e)&&(3===e.length||4===e.length)},equal:function(e,t,n){return U(e,t)}},accessor:{validate:function(e,t){var n=H(e);return"function"===n||n===H(t.value)},equal:function(e,t,n){return"function"===typeof t||U(e,t)}},array:{validate:function(e,t){return t.optional&&!e||W(e)},equal:function(e,t,n){return n.compare?U(e,t):e===t}},object:{equal:function(e,t,n){return n.compare?(0,z.v)(e,t):e===t}},function:{validate:function(e,t){return t.optional&&!e||"function"===typeof e},equal:function(e,t,n){return!n.compare||e===t}},data:{transform:function(e,t,n){var r=n.props.dataTransform;return r&&e?r(e):e}},image:{transform:function(e,t,n){return function(e,t){var n=e.context&&e.context.gl;if(!n||!t)return null;if(t instanceof F.Z)return t;t.constructor&&"Object"!==t.constructor.name&&(t={data:t});var r=null;t.compressed&&(r=(0,f.Z)({},10241,t.data.length>1?9985:9729));var i=new F.Z(n,(0,c.Z)((0,c.Z)({},t),{},{parameters:(0,c.Z)((0,c.Z)((0,c.Z)({},j),r),e.props.textureParameters)}));return D[i.id]=!0,i}(n,e)},release:function(e){var t;(t=e)&&t instanceof F.Z&&D[t.id]&&(t.delete(),delete D[t.id])}}};function U(e,t){if(e===t)return!0;if(!W(e)||!W(t))return!1;var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function V(e,t){switch(H(t)){case"object":return G(e,t);case"array":return G(e,{type:"array",value:t,compare:!1});case"boolean":return G(e,{type:"boolean",value:t});case"number":return G(e,{type:"number",value:t});case"function":return G(e,{type:"function",value:t,compare:!0});default:return{name:e,type:"unknown",value:t}}}function G(e,t){return"type"in t?(0,c.Z)((0,c.Z)({name:e},B[t.type]),t):"value"in t?(0,c.Z)({name:e,type:H(t.value)},t):{name:e,type:"object",value:t}}function W(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function H(e){return W(e)?"array":null===e?"null":typeof e}function X(e,t){var n=Y(e.constructor),r=Object.create(n);r[P.fm]=e,r[P.fO]={},r[P.bN]={};for(var i=0;i<t.length;++i){var o=t[i];for(var a in o)r[a]=o[a]}return Object.freeze(r),r}function Y(e){var t=Q(e,"_mergedDefaultProps");return t||(function(e){if(!e.prototype)return;var t=Object.getPrototypeOf(e),n=Y(t),o=function(e){for(var t={},n={},r={},o=0,a=Object.entries(e);o<a.length;o++){var s=(0,i.Z)(a[o],2),u=s[0],l=s[1],c=null===l||void 0===l?void 0:l.deprecatedFor;if(c)r[u]=Array.isArray(c)?c:[c];else{var f=V(u,l);t[u]=f,n[u]=f.value}}return{propTypes:t,defaultProps:n,deprecatedProps:r}}(Q(e,"defaultProps")||{}),a=function(e,t,n){var r=Object.create(null);Object.assign(r,t,e);var i=function(e){var t=Q(e,"layerName")||Q(e,"componentName");t||k.Z.once(0,"".concat(e.name,".componentName not specified"))();return t||e.name}(n);return delete e.id,Object.defineProperties(r,{id:{writable:!0,value:i}}),r}(o.defaultProps,n,e),s=(0,c.Z)((0,c.Z)({},t._propTypes),o.propTypes);!function(e,t){var n={},r={};for(var i in t){var o=t[i],a=o.name,s=o.value;o.async&&(n[a]=s,r[a]=K(a))}e[P.lY]=n,e[P.fO]={},Object.defineProperties(e,r)}(a,s);var u=(0,c.Z)((0,c.Z)({},t._deprecatedProps),o.deprecatedProps);(function(e,t){var n=function(n){Object.defineProperty(e,n,{enumerable:!1,set:function(e){var i,o="".concat(this.id,": ").concat(n),a=(0,r.Z)(t[n]);try{for(a.s();!(i=a.n()).done;){var s=i.value;q(this,s)||(this[s]=e)}}catch(u){a.e(u)}finally{a.f()}k.Z.deprecated(o,t[n].join("/"))()}})};for(var i in t)n(i)})(a,u),e._mergedDefaultProps=a,e._propTypes=s,e._deprecatedProps=u}(e),e._mergedDefaultProps)}function K(e){return{enumerable:!0,set:function(t){"string"===typeof t||t instanceof Promise||(0,N.D0)(t)?this[P.fO][e]=t:this[P.bN][e]=t},get:function(){if(this[P.bN]){if(e in this[P.bN])return this[P.bN][e]||this[P.lY][e];if(e in this[P.fO]){var t=this[P.fm]&&this[P.fm].internalState;if(t&&t.hasAsyncProp(e))return t.getAsyncProp(e)||this[P.lY][e]}}return this[P.lY][e]}}}function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Q(e,t){return q(e,t)&&e[t]}var $=0,J=function(){function e(){(0,o.Z)(this,e),(0,f.Z)(this,"id",void 0),(0,f.Z)(this,"props",void 0),(0,f.Z)(this,"count",void 0);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.props=X(this,n),this.id=this.props.id,this.count=$++}return(0,a.Z)(e,[{key:"clone",value:function(e){var t=this.props,n={};for(var r in t[P.lY])r in t[P.bN]?n[r]=t[P.bN][r]:r in t[P.fO]&&(n[r]=t[P.fO][r]);return new this.constructor((0,c.Z)((0,c.Z)((0,c.Z)({},t),n),e))}}]),e}();(0,f.Z)(J,"componentName","Component"),(0,f.Z)(J,"defaultProps",{});var ee=n(1752),te=n(1120),ne=n(4165),re=n(5861),ie=n(6296),oe=Object.freeze({}),ae=function(){function e(t){(0,o.Z)(this,e),(0,f.Z)(this,"component",void 0),(0,f.Z)(this,"onAsyncPropUpdated",void 0),(0,f.Z)(this,"asyncProps",void 0),(0,f.Z)(this,"oldProps",void 0),(0,f.Z)(this,"oldAsyncProps",void 0),this.component=t,this.asyncProps={},this.onAsyncPropUpdated=function(){},this.oldProps=null,this.oldAsyncProps=null}return(0,a.Z)(e,[{key:"finalize",value:function(){for(var e in this.asyncProps){var t=this.asyncProps[e];t&&t.type&&t.type.release&&t.type.release(t.resolvedValue,t.type,this.component)}}},{key:"getOldProps",value:function(){return this.oldAsyncProps||this.oldProps||oe}},{key:"resetOldProps",value:function(){this.oldAsyncProps=null,this.oldProps=this.component.props}},{key:"hasAsyncProp",value:function(e){return e in this.asyncProps}},{key:"getAsyncProp",value:function(e){var t=this.asyncProps[e];return t&&t.resolvedValue}},{key:"isAsyncPropLoading",value:function(e){if(e){var t=this.asyncProps[e];return Boolean(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}for(var n in this.asyncProps)if(this.isAsyncPropLoading(n))return!0;return!1}},{key:"reloadAsyncProp",value:function(e,t){this._watchPromise(e,Promise.resolve(t))}},{key:"setAsyncProps",value:function(e){var t=e[P.bN]||{},n=e[P.fO]||e,r=e[P.lY]||{};for(var i in t){var o=t[i];this._createAsyncPropData(i,r[i]),this._updateAsyncProp(i,o),t[i]=this.getAsyncProp(i)}for(var a in n){var s=n[a];this._createAsyncPropData(a,r[a]),this._updateAsyncProp(a,s)}}},{key:"_fetch",value:function(e,t){return null}},{key:"_onResolve",value:function(e,t){}},{key:"_onError",value:function(e,t){}},{key:"_updateAsyncProp",value:function(e,t){this._didAsyncInputValueChange(e,t)&&("string"===typeof t&&(t=this._fetch(e,t)),t instanceof Promise?this._watchPromise(e,t):(0,N.D0)(t)?this._resolveAsyncIterable(e,t):this._setPropValue(e,t))}},{key:"_freezeAsyncOldProps",value:function(){if(!this.oldAsyncProps&&this.oldProps)for(var e in this.oldAsyncProps=Object.create(this.oldProps),this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}},{key:"_didAsyncInputValueChange",value:function(e,t){var n=this.asyncProps[e];return t!==n.resolvedValue&&t!==n.lastValue&&(n.lastValue=t,!0)}},{key:"_setPropValue",value:function(e,t){this._freezeAsyncOldProps();var n=this.asyncProps[e];n&&(t=this._postProcessValue(n,t),n.resolvedValue=t,n.pendingLoadCount++,n.resolvedLoadCount=n.pendingLoadCount)}},{key:"_setAsyncPropValue",value:function(e,t,n){var r=this.asyncProps[e];r&&n>=r.resolvedLoadCount&&void 0!==t&&(this._freezeAsyncOldProps(),r.resolvedValue=t,r.resolvedLoadCount=n,this.onAsyncPropUpdated(e,t))}},{key:"_watchPromise",value:function(e,t){var n=this,r=this.asyncProps[e];if(r){r.pendingLoadCount++;var i=r.pendingLoadCount;t.then((function(t){t=n._postProcessValue(r,t),n._setAsyncPropValue(e,t,i),n._onResolve(e,t)})).catch((function(t){n._onError(e,t)}))}}},{key:"_resolveAsyncIterable",value:function(){var e=(0,re.Z)((0,ne.Z)().mark((function e(t,n){var r,i,o,a,s,u,l,c,f,d,h;return(0,ne.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("data"===t){e.next=3;break}return this._setPropValue(t,n),e.abrupt("return");case 3:if(r=this.asyncProps[t]){e.next=6;break}return e.abrupt("return");case 6:r.pendingLoadCount++,i=r.pendingLoadCount,o=[],a=0,s=!1,u=!1,e.prev=12,c=(0,ie.Z)(n);case 14:return e.next=16,c.next();case 16:if(!(s=!(f=e.sent).done)){e.next=26;break}d=f.value,h=this.component.props.dataTransform,o=h?h(d,o):o.concat(d),Object.defineProperty(o,"__diff",{enumerable:!1,value:[{startRow:a,endRow:o.length}]}),a=o.length,this._setAsyncPropValue(t,o,i);case 23:s=!1,e.next=14;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(12),u=!0,l=e.t0;case 32:if(e.prev=32,e.prev=33,!s||null==c.return){e.next=37;break}return e.next=37,c.return();case 37:if(e.prev=37,!u){e.next=40;break}throw l;case 40:return e.finish(37);case 41:return e.finish(32);case 42:this._onResolve(t,o);case 43:case"end":return e.stop()}}),e,this,[[12,28,32,42],[33,,37,41]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_postProcessValue",value:function(e,t){var n=e.type;return n&&(n.release&&n.release(e.resolvedValue,n,this.component),n.transform)?n.transform(t,n,this.component):t}},{key:"_createAsyncPropData",value:function(e,t){if(!this.asyncProps[e]){var n=this.component&&this.component.constructor._propTypes;this.asyncProps[e]={type:n&&n[e],lastValue:null,resolvedValue:t,pendingLoadCount:0,resolvedLoadCount:0}}}}]),e}(),se=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r,i=e.attributeManager,a=e.layer;return(0,o.Z)(this,n),r=t.call(this,a),(0,f.Z)((0,s.Z)(r),"attributeManager",void 0),(0,f.Z)((0,s.Z)(r),"needsRedraw",void 0),(0,f.Z)((0,s.Z)(r),"needsUpdate",void 0),(0,f.Z)((0,s.Z)(r),"subLayers",void 0),(0,f.Z)((0,s.Z)(r),"usesPickingColorCache",void 0),(0,f.Z)((0,s.Z)(r),"changeFlags",void 0),(0,f.Z)((0,s.Z)(r),"viewport",void 0),(0,f.Z)((0,s.Z)(r),"uniformTransitions",void 0),(0,f.Z)((0,s.Z)(r),"propsInTransition",void 0),r.attributeManager=i,r.needsRedraw=!0,r.needsUpdate=!0,r.subLayers=null,r.usesPickingColorCache=!1,r}return(0,a.Z)(n,[{key:"layer",get:function(){return this.component},set:function(e){this.component=e}},{key:"_fetch",value:function(e,t){var r=this.component.props.fetch;return r?r(t,{propName:e,layer:this.layer}):(0,ee.Z)((0,te.Z)(n.prototype),"_fetch",this).call(this,e,t)}},{key:"_onResolve",value:function(e,t){var n=this.component.props.onDataLoad;"data"===e&&n&&n(t,{propName:e,layer:this.layer})}},{key:"_onError",value:function(e,t){this.layer.raiseError(t,"loading ".concat(e," of ").concat(this.layer))}}]),n}(ae),ue=n(4305),le=n(3622),ce=Math.pow(2,24)-1,fe=Object.freeze([]),de=(0,L.Z)((function(e){var t=e.oldViewport,n=e.viewport;return t.equals(n)})),he=new Uint8ClampedArray(0),pe={data:{type:"data",value:fe,async:!0},dataComparator:{type:"function",value:null,compare:!1,optional:!0},_dataDiff:{type:"function",value:function(e){return e&&e.__diff},compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},onError:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:function(e,t){var n,r=t.propName,i=t.layer,o=t.loaders,a=t.loadOptions,s=t.signal,u=i.context.resourceManager;(a=a||i.getLoadOptions(),o=o||i.props.loaders,s)&&(a=(0,c.Z)((0,c.Z)({},a),{},{fetch:(0,c.Z)((0,c.Z)({},null===(n=a)||void 0===n?void 0:n.fetch),{},{signal:s})}));var l=u.contains(e);return l||a||(u.add({resourceId:e,data:(0,le.z)(e,o),persistent:!1}),l=!0),l?u.subscribe({resourceId:e,onChange:function(e){var t;return null===(t=i.internalState)||void 0===t?void 0:t.reloadAsyncProp(r,e)},consumerId:i.id,requestId:r}):(0,le.z)(e,o,a)},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:d.k8.DRAW,onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:d.Df.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,compare:!0},getPolygonOffset:{type:"function",value:function(e){return[0,100*-e.layerIndex]},compare:!1},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}},ve=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,f.Z)((0,s.Z)(e),"internalState",null),(0,f.Z)((0,s.Z)(e),"lifecycle",P.dt.NO_STATE),(0,f.Z)((0,s.Z)(e),"context",void 0),(0,f.Z)((0,s.Z)(e),"state",void 0),(0,f.Z)((0,s.Z)(e),"parent",null),e}return(0,a.Z)(n,[{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"toString",value:function(){var e=this.constructor.layerName||this.constructor.name;return"".concat(e,"({id: '").concat(this.props.id,"'})")}},{key:"project",value:function(e){(0,O.Z)(this.internalState);var t=this.internalState.viewport||this.context.viewport,n=(0,M.T)(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),r=(0,ue.aW)(n,t.pixelProjectionMatrix),o=(0,i.Z)(r,3),a=o[0],s=o[1],u=o[2];return 2===e.length?[a,s]:[a,s,u]}},{key:"unproject",value:function(e){return(0,O.Z)(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}},{key:"projectPosition",value:function(e,t){(0,O.Z)(this.internalState);var n=this.internalState.viewport||this.context.viewport;return(0,M.D)(e,(0,c.Z)({viewport:n,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem},t))}},{key:"isComposite",get:function(){return!1}},{key:"setState",value:function(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}},{key:"setNeedsRedraw",value:function(){this.internalState&&(this.internalState.needsRedraw=!0)}},{key:"setNeedsUpdate",value:function(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}},{key:"isLoaded",get:function(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}},{key:"wrapLongitude",get:function(){return this.props.wrapLongitude}},{key:"isPickable",value:function(){return this.props.pickable&&this.props.visible}},{key:"getModels",value:function(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}},{key:"setModuleParameters",value:function(e){var t,n=(0,r.Z)(this.getModels());try{for(n.s();!(t=n.n()).done;){t.value.updateModuleSettings(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"getAttributeManager",value:function(){return this.internalState&&this.internalState.attributeManager}},{key:"getCurrentLayer",value:function(){return this.internalState&&this.internalState.layer}},{key:"getLoadOptions",value:function(){return this.props.loadOptions}},{key:"use64bitPositions",value:function(){var e=this.props.coordinateSystem;return e===d.Df.DEFAULT||e===d.Df.LNGLAT||e===d.Df.CARTESIAN}},{key:"onHover",value:function(e,t){return this.props.onHover&&this.props.onHover(e,t)||!1}},{key:"onClick",value:function(e,t){return this.props.onClick&&this.props.onClick(e,t)||!1}},{key:"nullPickingColor",value:function(){return[0,0,0]}},{key:"encodePickingColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}},{key:"decodePickingColor",value:function(e){(0,O.Z)(e instanceof Uint8Array);var t=(0,i.Z)(e,3);return t[0]+256*t[1]+65536*t[2]-1}},{key:"getNumInstances",value:function(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:(0,A.Q)(this.props.data)}},{key:"getStartIndices",value:function(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}},{key:"getBounds",value:function(){var e,t=this.getAttributeManager();if(!t)return null;var n=t.attributes,r=n.positions,i=n.instancePositions;return null===(e=r||i)||void 0===e?void 0:e.getBounds()}},{key:"getShaders",value:function(e){var t,n=(0,r.Z)(this.props.extensions);try{for(n.s();!(t=n.n()).done;){var i=t.value;e=(0,R.l)(e,i.getShaders.call(this,i))}}catch(o){n.e(o)}finally{n.f()}return e}},{key:"shouldUpdateState",value:function(e){return e.changeFlags.propsOrDataChanged}},{key:"updateState",value:function(e){var t=this.getAttributeManager(),n=e.changeFlags.dataChanged;if(n&&t)if(Array.isArray(n)){var i,o=(0,r.Z)(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;t.invalidateAll(a)}}catch(v){o.e(v)}finally{o.f()}}else t.invalidateAll();var s=e.props,u=e.oldProps,l=Number.isInteger(u.highlightedObjectIndex)||u.pickable,c=Number.isInteger(s.highlightedObjectIndex)||s.pickable;if(l!==c&&t){var f=t.attributes,d=f.pickingColors,h=f.instancePickingColors,p=d||h;p&&(c&&p.constant&&(p.constant=!1,t.invalidate(p.id)),p.value||c||(p.constant=!0,p.value=[0,0,0]))}}},{key:"finalizeState",value:function(e){var t,n=(0,r.Z)(this.getModels());try{for(n.s();!(t=n.n()).done;){t.value.delete()}}catch(o){n.e(o)}finally{n.f()}var i=this.getAttributeManager();i&&i.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}},{key:"draw",value:function(e){var t,n=(0,r.Z)(this.getModels());try{for(n.s();!(t=n.n()).done;){t.value.draw(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"getPickingInfo",value:function(e){var t=e.info,n=(e.mode,e.sourceLayer,t.index);return n>=0&&Array.isArray(this.props.data)&&(t.object=this.props.data[n]),t}},{key:"raiseError",value:function(e,t){var n,r,i,o;(t&&(e.message="".concat(t,": ").concat(e.message)),null!==(n=(r=this.props).onError)&&void 0!==n&&n.call(r,e))||(null===(i=this.context)||void 0===i||null===(o=i.onError)||void 0===o||o.call(i,e,this))}},{key:"getNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};return this._getNeedsRedraw(e)}},{key:"needsUpdate",value:function(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}},{key:"hasUniformTransition",value:function(){var e;return(null===(e=this.internalState)||void 0===e?void 0:e.uniformTransitions.active)||!1}},{key:"activateViewport",value:function(e){if(this.internalState){var t=this.internalState.viewport;this.internalState.viewport=e,t&&de({oldViewport:t,viewport:e})||(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}}},{key:"invalidateAttribute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=this.getAttributeManager();t&&("all"===e?t.invalidateAll():t.invalidate(e))}},{key:"updateAttributes",value:function(e){var t,n=(0,r.Z)(this.getModels());try{for(n.s();!(t=n.n()).done;){var i=t.value;this._setModelAttributes(i,e)}}catch(o){n.e(o)}finally{n.f()}}},{key:"_updateAttributes",value:function(){var e=this.getAttributeManager();if(e){var t=this.props,n=this.getNumInstances(),r=this.getStartIndices();e.update({data:t.data,numInstances:n,startIndices:r,props:t,transitions:t.transitions,buffers:t.data.attributes,context:this});var i=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(i)}}},{key:"_updateAttributeTransition",value:function(){var e=this.getAttributeManager();e&&e.updateTransition()}},{key:"_updateUniformTransition",value:function(){var e=this.internalState.uniformTransitions;if(e.active){var t=e.update(),n=Object.create(this.props);for(var r in t)Object.defineProperty(n,r,{value:t[r]});return n}return this.props}},{key:"calculateInstancePickingColors",value:function(e,t){var n=t.numInstances;if(!e.constant){var r=Math.floor(he.length/3);if(this.internalState.usesPickingColorCache=!0,r<n){n>ce&&k.Z.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),he=I.Z.allocate(he,n,{size:3,copy:!0,maxCount:Math.max(n,ce)});for(var i=Math.floor(he.length/3),o=[],a=r;a<i;a++)this.encodePickingColor(a,o),he[3*a+0]=o[0],he[3*a+1]=o[1],he[3*a+2]=o[2]}e.value=he.subarray(0,3*n)}}},{key:"_setModelAttributes",value:function(e,t){var n=this.getAttributeManager(),r=e.userData.excludeAttributes||{},i=n.getShaderAttributes(t,r);e.setAttributes(i)}},{key:"disablePickingIndex",value:function(e){this._disablePickingIndex(e)}},{key:"_disablePickingIndex",value:function(e){var t=this.getAttributeManager().attributes,n=t.pickingColors,r=t.instancePickingColors,i=n||r;if(i){var o=i.getVertexOffset(e),a=i.getVertexOffset(e+1);i.buffer.subData({data:new Uint8Array(a-o),offset:o})}}},{key:"restorePickingColors",value:function(){var e=this.getAttributeManager().attributes,t=e.pickingColors,n=e.instancePickingColors,r=t||n;r&&(this.internalState.usesPickingColorCache&&r.value.buffer!==he.buffer&&(r.value=he.subarray(0,r.value.length)),r.updateSubBuffer({startOffset:0}))}},{key:"_initialize",value:function(){(0,O.Z)(!this.internalState),(0,O.Z)(Number.isFinite(this.props.coordinateSystem)),(0,C.Z)("layer.initialize",this);var e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new se({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:function(){return k.Z.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e}}),this.internalState.layer=this,this.internalState.uniformTransitions=new S(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);var t,n=(0,r.Z)(this.props.extensions);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.initializeState.call(this,this.context,i)}}catch(o){n.e(o)}finally{n.f()}this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}},{key:"_transferState",value:function(e){(0,C.Z)("layer.matched",this,this===e);var t=e.state,n=e.internalState;this!==e&&(this.internalState=n,this.internalState.layer=this,this.state=t,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}},{key:"_update",value:function(){var e=this.needsUpdate();if((0,C.Z)("layer.update",this,e),e){var t=this.props,n=this.context,i=this.internalState,o=n.viewport,a=this._updateUniformTransition();i.propsInTransition=a,n.viewport=i.viewport||o,this.props=a;try{var s=this._getUpdateParams(),u=this.getModels();if(n.gl)this.updateState(s);else try{this.updateState(s)}catch(h){}var l,c=(0,r.Z)(this.props.extensions);try{for(c.s();!(l=c.n()).done;){var f=l.value;f.updateState.call(this,s,f)}}catch(p){c.e(p)}finally{c.f()}var d=this.getModels()[0]!==u[0];this._postUpdate(s,d)}finally{n.viewport=o,this.props=t,this._clearChangeFlags(),i.needsUpdate=!1,i.resetOldProps()}}}},{key:"_finalize",value:function(){(0,C.Z)("layer.finalize",this),this.finalizeState(this.context);var e,t=(0,r.Z)(this.props.extensions);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.finalizeState.call(this,n)}}catch(i){t.e(i)}finally{t.f()}}},{key:"_drawLayer",value:function(e){var t=this,n=e.moduleParameters,i=void 0===n?null:n,o=e.uniforms,a=void 0===o?{}:o,s=e.parameters,u=void 0===s?{}:s;this._updateAttributeTransition();var l=this.props,c=this.context;this.props=this.internalState.propsInTransition||l;var f=this.props.opacity;a.opacity=Math.pow(f,1/2.2);try{i&&this.setModuleParameters(i);var d=this.props.getPolygonOffset,h=d&&d(a)||[0,0];(0,Z.dR)(c.gl,{polygonOffset:h}),(0,Z.s8)(c.gl,u,(function(){var e,n={moduleParameters:i,uniforms:a,parameters:u,context:c},o=(0,r.Z)(t.props.extensions);try{for(o.s();!(e=o.n()).done;){var s=e.value;s.draw.call(t,n,s)}}catch(l){o.e(l)}finally{o.f()}t.draw(n)}))}finally{this.props=l}}},{key:"getChangeFlags",value:function(){var e;return null===(e=this.internalState)||void 0===e?void 0:e.changeFlags}},{key:"setChangeFlags",value:function(e){if(this.internalState){var t=this.internalState.changeFlags;for(var n in e)if(e[n]){var r=!1;if("dataChanged"===n){var i=e[n],o=t[n];i&&Array.isArray(o)&&(t.dataChanged=Array.isArray(i)?o.concat(i):i,r=!0)}t[n]||(t[n]=e[n],r=!0),r&&(0,C.Z)("layer.changeFlag",this,n,e)}var a=Boolean(t.dataChanged||t.updateTriggersChanged||t.propsChanged||t.extensionsChanged);t.propsOrDataChanged=a,t.somethingChanged=a||t.viewportChanged||t.stateChanged}}},{key:"_clearChangeFlags",value:function(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}},{key:"_diffProps",value:function(e,t){var n=(0,T.Yt)(e,t);if(n.updateTriggersChanged)for(var r in n.updateTriggersChanged)n.updateTriggersChanged[r]&&this.invalidateAttribute(r);if(n.transitionsChanged)for(var i in n.transitionsChanged){var o;this.internalState.uniformTransitions.add(i,t[i],e[i],null===(o=e.transitions)||void 0===o?void 0:o[i])}return this.setChangeFlags(n)}},{key:"validateProps",value:function(){(0,T.eQ)(this.props)}},{key:"updateAutoHighlight",value:function(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}},{key:"_updateAutoHighlight",value:function(e){var t={pickingSelectedColor:e.picked?e.color:null},n=this.props.highlightColor;e.picked&&"function"===typeof n&&(t.pickingHighlightColor=n(e)),this.setModuleParameters(t),this.setNeedsRedraw()}},{key:"_getAttributeManager",value:function(){var e=this.context;return new h.Z(e.gl,{id:this.props.id,stats:e.stats,timeline:e.timeline})}},{key:"_postUpdate",value:function(e,t){var n=e.props,r=e.oldProps;this.setNeedsRedraw(),this._updateAttributes();var i=this.state.model;null===i||void 0===i||i.setInstanceCount(this.getNumInstances());var o=n.autoHighlight,a=n.highlightedObjectIndex,s=n.highlightColor;if(t||r.autoHighlight!==o||r.highlightedObjectIndex!==a||r.highlightColor!==s){var u={};o||(u.pickingSelectedColor=null),Array.isArray(s)&&(u.pickingHighlightColor=s),Number.isInteger(a)&&(u.pickingSelectedColor=Number.isFinite(a)&&a>=0?this.encodePickingColor(a):null),this.setModuleParameters(u)}}},{key:"_getUpdateParams",value:function(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}},{key:"_getNeedsRedraw",value:function(e){if(!this.internalState)return!1;var t=!1;t=t||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags;var n=this.getAttributeManager(),r=!!n&&n.getNeedsRedraw(e);return t=t||r}},{key:"_onAsyncPropUpdated",value:function(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}]),n}(J);(0,f.Z)(ve,"defaultProps",pe),(0,f.Z)(ve,"layerName","Layer")},3547:function(e,t,n){"use strict";n.d(t,{bN:function(){return s},dt:function(){return r},fO:function(){return a},fm:function(){return i},lY:function(){return o}});var r={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},i=Symbol.for("component"),o=Symbol.for("asyncPropDefaults"),a=Symbol.for("asyncPropOriginal"),s=Symbol.for("asyncPropResolved")},9601:function(e,t,n){"use strict";n.d(t,{Yt:function(){return o},eQ:function(){return i},tg:function(){return s}});var r=n(3547);function i(e){var t=f(e);for(var n in t){var r=t[n],i=r.validate;if(i&&!i(e[n],r))throw new Error("Invalid prop ".concat(n,": ").concat(e[n]))}}function o(e,t){var n=s({newProps:e,oldProps:t,propTypes:f(e),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),r=function(e,t){if(null===t)return"oldProps is null, initial diff";var n=!1,r=e.dataComparator,i=e._dataDiff;r?r(e.data,t.data)||(n="Data comparator detected a change"):e.data!==t.data&&(n="A new data container was supplied");n&&i&&(n=i(e.data,t.data)||n);return n}(e,t),i=!1;return r||(i=function(e,t){if(null===t)return{all:!0};if("all"in e.updateTriggers){if(c(e,t,"all"))return{all:!0}}var n={},r=!1;for(var i in e.updateTriggers){if("all"!==i)c(e,t,i)&&(n[i]=!0,r=!0)}return!!r&&n}(e,t)),{dataChanged:r,propsChanged:n,updateTriggersChanged:i,extensionsChanged:l(e,t),transitionsChanged:a(e,t)}}function a(e,t){if(!e.transitions)return!1;var n={},r=f(e),i=!1;for(var o in e.transitions){var a=r[o],s=a&&a.type;("number"===s||"color"===s||"array"===s)&&u(e[o],t[o],a)&&(n[o]=!0,i=!0)}return!!i&&n}function s(e){var t=e.newProps,n=e.oldProps,r=e.ignoreProps,i=void 0===r?{}:r,o=e.propTypes,a=void 0===o?{}:o,s=e.triggerName,l=void 0===s?"props":s;if(n===t)return!1;if("object"!==typeof t||null===t)return"".concat(l," changed shallowly");if("object"!==typeof n||null===n)return"".concat(l," changed shallowly");for(var c=0,f=Object.keys(t);c<f.length;c++){var d=f[c];if(!(d in i)){if(!(d in n))return"".concat(l,".").concat(d," added");var h=u(t[d],n[d],a[d]);if(h)return"".concat(l,".").concat(d," ").concat(h)}}for(var p=0,v=Object.keys(n);p<v.length;p++){var g=v[p];if(!(g in i)){if(!(g in t))return"".concat(l,".").concat(g," dropped");if(!Object.hasOwnProperty.call(t,g)){var y=u(t[g],n[g],a[g]);if(y)return"".concat(l,".").concat(g," ").concat(y)}}}return!1}function u(e,t,n){var r=n&&n.equal;return r&&!r(e,t,n)?"changed deeply":r||!(r=e&&t&&e.equals)||r.call(e,t)?r||t===e?null:"changed shallowly":"changed deeply"}function l(e,t){if(null===t)return!0;var n=t.extensions,r=e.extensions;if(r===n)return!1;if(!n||!r)return!0;if(r.length!==n.length)return!0;for(var i=0;i<r.length;i++)if(!r[i].equals(n[i]))return!0;return!1}function c(e,t,n){var r=e.updateTriggers[n];r=void 0===r||null===r?{}:r;var i=t.updateTriggers[n];return s({oldProps:i=void 0===i||null===i?{}:i,newProps:r,triggerName:n})}function f(e){var t=e[r.fm],n=t&&t.constructor;return n?n._propTypes:{}}},2968:function(e,t,n){"use strict";var r=n(1413),i=n(3036);t.Z=(0,r.Z)({inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}}},i.q)},7944:function(e,t,n){"use strict";n.d(t,{D:function(){return d},T:function(){return f}});var r=n(885),i=n(6128),o=n(818),a=n(4508),s=n(8255),u=n(8679),l=n(4305);function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.projectPosition(e);if(n&&t instanceof a.Z){var o=(0,r.Z)(e,3),s=o[0],u=o[1],l=o[2],c=void 0===l?0:l,f=t.getDistanceScales([s,u]);i[2]=c*f.unitsPerMeter[2]}return i}function f(e,t){var n=t.viewport,o=t.modelMatrix,a=t.coordinateSystem,u=t.coordinateOrigin,f=t.offsetMode,d=(0,r.Z)(e,3),h=d[0],p=d[1],v=d[2],g=void 0===v?0:v;if(o){var y=s.fF([],[h,p,g,1],o),m=(0,r.Z)(y,3);h=m[0],p=m[1],g=m[2]}switch(a){case i.Df.LNGLAT:return c([h,p,g],n,f);case i.Df.LNGLAT_OFFSETS:return c([h+u[0],p+u[1],g+(u[2]||0)],n,f);case i.Df.METER_OFFSETS:return c((0,l.eG)(u,[h,p,g]),n,f);case i.Df.CARTESIAN:default:return n.isGeospatial?[h+u[0],p+u[1],g+u[2]]:n.projectPosition([h,p,g])}}function d(e,t){var n=function(e){var t=e.viewport,n=e.modelMatrix,r=e.coordinateOrigin,o=e.coordinateSystem,a=e.fromCoordinateSystem,s=e.fromCoordinateOrigin;return o===i.Df.DEFAULT&&(o=t.isGeospatial?i.Df.LNGLAT:i.Df.CARTESIAN),void 0===a&&(a=o),void 0===s&&(s=r),{viewport:t,coordinateSystem:o,coordinateOrigin:r,modelMatrix:n,fromCoordinateSystem:a,fromCoordinateOrigin:s}}(t),r=n.viewport,a=n.coordinateSystem,s=n.coordinateOrigin,l=n.modelMatrix,c=n.fromCoordinateSystem,d=n.fromCoordinateOrigin,h=(0,o.v)(r,a,s),p=h.geospatialOrigin,v=h.shaderCoordinateOrigin,g=h.offsetMode,y=f(e,{viewport:r,modelMatrix:l,coordinateSystem:c,coordinateOrigin:d,offsetMode:g});if(g){var m=r.projectPosition(p||v);u.lu(y,y,m)}return y}},253:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(5570),i="#define SMOOTH_EDGE_RADIUS 0.5",o={name:"geometry",vs:"\n".concat(i,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),fs:"\n".concat(i,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n")},a=n(6128),s=Object.keys(a.Df).map((function(e){return"const int COORDINATE_SYSTEM_".concat(e," = ").concat(a.Df[e],";")})).join(""),u=Object.keys(a.zG).map((function(e){return"const int PROJECTION_MODE_".concat(e," = ").concat(a.zG[e],";")})).join(""),l=Object.keys(a.iI).map((function(e){return"const int UNIT_".concat(e.toUpperCase()," = ").concat(a.iI[e],";")})).join(""),c="".concat(s,"\n").concat(u,"\n").concat(l,'\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0; // meters\nconst float GLOBE_RADIUS = 256.0;\n\n// returns an adjustment factor for uCommonUnitsPerMeter\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n\n    // uCommonUnitsPerMeter in low-zoom Web Mercator is non-linear\n    // Adjust by 1 / cos(latitude)\n    // If geometry.position (vertex in common space) is populated, use it\n    // Otherwise use geometry.worldPosition (anchor in world space)\n    \n    if (geometry.position.w == 0.0) {\n      float y = clamp(geometry.worldPosition.y, -89.9, 89.9);\n      return 1.0 / cos(radians(y));\n    }\n\n    // latitude from common y: 2.0 * (atan(exp(y / TILE_SIZE * 2.0 * PI - PI)) - PI / 4.0)\n    // Taylor series of 1 / cos(latitude)\n    // Max error < 0.003\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\n//\n// Scaling offsets - scales meters to "world distance"\n// Note the scalar version of project_size is for scaling the z component only\n//\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\n\n// Get rotation matrix that aligns the z axis with the given up vector\n// Find 3 unit vectors ux, uy, uz that are perpendicular to each other and uz == up\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  // Tangent on XY plane\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\n\n//\n// Projecting normal - transform deltas from current coordinate system to\n// normals in the worldspace\n//\nvec3 project_normal(vec3 vector) {\n  // Apply model matrix\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n  mat3 rotation;\n  if (project_needs_rotation(geometry.position.xyz, rotation)) {\n    n = rotation * n;\n  }\n  return n;\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\n\n//\n// Projects positions (defined by project_uCoordinateSystem) to common space (defined by project_uProjectionMode)\n//\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n\n  // Work around for a Mac+NVIDIA bug https://github.com/visgl/deck.gl/issues/4145\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size(position_world.z),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        // Too far from the projection center for offset mode to be accurate\n        // Only use high parts\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    // Subtract high part of 64 bit value. Convert remainder to float32, preserving precision.\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n\n  // Translation is already added to the high parts\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\n\n//\n// Projects from common space coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\n\n// Returns a clip space offset that corresponds to a given number of screen pixels\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  // UNIT_PIXELS\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n'),f=n(818),d={};var h={name:"project",dependencies:[r.O,o],vs:c,getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return"viewport"in e?(0,f.C)(e):{}}}},818:function(e,t,n){"use strict";n.d(t,{C:function(){return p},v:function(){return h}});var r=n(9880),i=n(8255),o=n(6128),a=n(9032),s=[0,0,0,0],u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],c=[0,0,0],f=[0,0,0],d=(0,a.Z)((function(e){var t=e.viewport,n=e.devicePixelRatio,a=e.coordinateSystem,f=e.coordinateOrigin,d=function(e,t,n){var o=e.viewMatrixUncentered,a=e.projectionMatrix,l=e.viewMatrix,c=e.viewProjectionMatrix,f=s,d=s,p=e.cameraPosition,v=h(e,t,n),g=v.geospatialOrigin,y=v.shaderCoordinateOrigin;v.offsetMode&&(d=e.projectPosition(g||y),p=[p[0]-d[0],p[1]-d[1],p[2]-d[2]],d[3]=1,f=i.fF([],d,c),l=o||l,c=r.Jp([],a,l),c=r.Jp([],c,u));return{viewMatrix:l,viewProjectionMatrix:c,projectionCenter:f,originCommon:d,cameraPosCommon:p,shaderCoordinateOrigin:y,geospatialOrigin:g}}(t,a,f),p=d.projectionCenter,v=d.viewProjectionMatrix,g=d.originCommon,y=d.cameraPosCommon,m=d.shaderCoordinateOrigin,b=d.geospatialOrigin,_=t.getDistanceScales(),w=[t.width*n,t.height*n],x=i.fF([],[0,0,-t.focalDistance,1],t.projectionMatrix)[3]||1,k={project_uCoordinateSystem:a,project_uProjectionMode:t.projectionMode,project_uCoordinateOrigin:m,project_uCommonOrigin:g.slice(0,3),project_uCenter:p,project_uPseudoMeters:Boolean(t._pseudoMeters),project_uViewportSize:w,project_uDevicePixelRatio:n,project_uFocalDistance:x,project_uCommonUnitsPerMeter:_.unitsPerMeter,project_uCommonUnitsPerWorldUnit:_.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:c,project_uScale:t.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:v,project_uModelMatrix:l,project_uCameraPosition:y};if(b){var E=t.getDistanceScales(b);switch(a){case o.Df.METER_OFFSETS:k.project_uCommonUnitsPerWorldUnit=E.unitsPerMeter,k.project_uCommonUnitsPerWorldUnit2=E.unitsPerMeter2;break;case o.Df.LNGLAT:case o.Df.LNGLAT_OFFSETS:t._pseudoMeters||(k.project_uCommonUnitsPerMeter=E.unitsPerMeter),k.project_uCommonUnitsPerWorldUnit=E.unitsPerDegree,k.project_uCommonUnitsPerWorldUnit2=E.unitsPerDegree2;break;case o.Df.CARTESIAN:k.project_uCommonUnitsPerWorldUnit=[1,1,E.unitsPerMeter[2]],k.project_uCommonUnitsPerWorldUnit2=[0,0,E.unitsPerMeter2[2]]}}return k}));function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;n.length<3&&(n=[n[0],n[1],0]);var r,i=n,a=!0;switch(r=t===o.Df.LNGLAT_OFFSETS||t===o.Df.METER_OFFSETS?n:e.isGeospatial?[Math.fround(e.longitude),Math.fround(e.latitude),0]:null,e.projectionMode){case o.zG.WEB_MERCATOR:t!==o.Df.LNGLAT&&t!==o.Df.CARTESIAN||(r=[0,0,0],a=!1);break;case o.zG.WEB_MERCATOR_AUTO_OFFSET:t===o.Df.LNGLAT?i=r:t===o.Df.CARTESIAN&&(i=[Math.fround(e.center[0]),Math.fround(e.center[1]),0],r=e.unprojectPosition(i),i[0]-=n[0],i[1]-=n[1],i[2]-=n[2]);break;case o.zG.IDENTITY:(i=e.position.map(Math.fround))[2]=i[2]||0;break;case o.zG.GLOBE:a=!1,r=null;break;default:a=!1}return{geospatialOrigin:r,shaderCoordinateOrigin:i,offsetMode:a}}function p(e){var t=e.viewport,n=e.devicePixelRatio,r=void 0===n?1:n,i=e.modelMatrix,a=void 0===i?null:i,s=e.coordinateSystem,u=void 0===s?o.Df.DEFAULT:s,c=e.coordinateOrigin,h=void 0===c?f:c,p=e.autoWrapLongitude,v=void 0!==p&&p;u===o.Df.DEFAULT&&(u=t.isGeospatial?o.Df.LNGLAT:o.Df.CARTESIAN);var g=d({viewport:t,devicePixelRatio:r,coordinateSystem:u,coordinateOrigin:h});return g.project_uWrapLongitude=v,g.project_uModelMatrix=a||l,g}},8378:function(e,t,n){"use strict";var r=n(253);t.Z={name:"project32",dependencies:[r.Z],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"}},1055:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5671),i=n(3144),o=n(4942),a=function(){function e(t){(0,r.Z)(this,e),(0,o.Z)(this,"_inProgress",void 0),(0,o.Z)(this,"_handle",void 0),(0,o.Z)(this,"_timeline",void 0),(0,o.Z)(this,"time",void 0),(0,o.Z)(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=t,this.time=0,this.settings={duration:0}}return(0,i.Z)(e,[{key:"inProgress",get:function(){return this._inProgress}},{key:"start",value:function(e){var t,n;this.cancel(),this.settings=e,this._inProgress=!0,null===(t=(n=this.settings).onStart)||void 0===t||t.call(n,this)}},{key:"end",value:function(){var e,t;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(e=(t=this.settings).onEnd)||void 0===e||e.call(t,this))}},{key:"cancel",value:function(){var e,t;this._inProgress&&(null===(e=(t=this.settings).onInterrupt)||void 0===e||e.call(t,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}},{key:"update",value:function(){var e,t;if(!this._inProgress)return!1;if(null===this._handle){var n=this._timeline,r=this.settings;this._handle=n.addChannel({delay:n.getTime(),duration:r.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(e=(t=this.settings).onUpdate)||void 0===e||e.call(t,this),this._timeline.isFinished(this._handle)&&this.end(),!0}},{key:"_onUpdate",value:function(){}}]),e}()},6291:function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"deck.gl: assertion failed.")}n.d(t,{Z:function(){return r}})},2927:function(e,t,n){"use strict";n.d(t,{Q:function(){return r}});function r(e){if(null===(t=e)||"object"!==typeof t)throw new Error("count(): argument not an object");var t;if("function"===typeof e.count)return e.count();if(Number.isFinite(e.size))return e.size;if(Number.isFinite(e.length))return e.length;if(function(e){return null!==e&&"object"===typeof e&&e.constructor===Object}(e))return Object.keys(e).length;throw new Error("count(): argument not a container")}},9905:function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(!e||!t)return!1;for(var n in e){var i=e[n],o=t[n];if(!(i===o||Array.isArray(i)&&Array.isArray(o)&&r(i,o)))return!1}return!0}n.d(t,{v:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};return Array.isArray(e)?i(e,t,[]):t(e)?[e]:[]}function i(e,t,n){for(var r=-1;++r<e.length;){var o=e[r];Array.isArray(o)?i(o,t,n):t(o)&&n.push(o)}return n}function o(e){for(var t=e.target,n=e.source,r=e.start,i=void 0===r?0:r,o=e.count,a=void 0===o?1:o,s=n.length,u=a*s,l=0,c=i;l<s;l++)t[c++]=n[l];for(;l<u;)l<u-l?(t.copyWithin(i+l,i,i+l),l*=2):(t.copyWithin(i+l,i,i+u-l),l=u);return t}n.d(t,{k:function(){return o},x:function(){return r}})},4517:function(e,t,n){"use strict";n.d(t,{D0:function(){return a},jB:function(){return o},jr:function(){return s}});var r=[],i=[];function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,o=r,a={index:-1,data:e,target:[]};return e?"function"===typeof e[Symbol.iterator]?o=e:e.length>0&&(i.length=e.length,o=i):o=r,(t>0||Number.isFinite(n))&&(o=(Array.isArray(o)?o:Array.from(o)).slice(t,n),a.index=t-1),{iterable:o,objectInfo:a}}function a(e){return e&&e[Symbol.asyncIterator]}function s(e,t){var n=t.size,r=t.stride,i=t.offset,o=t.startIndices,a=t.nested,s=e.BYTES_PER_ELEMENT,u=r?r/s:n,l=i?i/s:0,c=Math.floor((e.length-l)/u);return function(t,r){var i=r.index,s=r.target;if(!o){for(var f=i*u+l,d=0;d<n;d++)s[d]=e[f+d];return s}var h,p=o[i],v=o[i+1]||c;if(a){h=new Array(v-p);for(var g=p;g<v;g++){var y=g*u+l;s=new Array(n);for(var m=0;m<n;m++)s[m]=e[y+m];h[g-p]=s}}else if(u===n)h=e.subarray(p*n+l,v*n+l);else{h=new e.constructor((v-p)*n);for(var b=0,_=p;_<v;_++)for(var w=_*u+l,x=0;x<n;x++)h[b++]=e[w+x]}return h}}},7951:function(e,t,n){"use strict";var r=n(6368);t.Z=new r.Z({id:"deck"})},1276:function(e,t,n){"use strict";n.d(t,{Du:function(){return u},Ks:function(){return d},TK:function(){return h},Xt:function(){return s},bS:function(){return o},wQ:function(){return a}});var r=n(6715),i=n(347);function o(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function a(e,t){var n=e%t;return n<0?t+n:n}function s(e){return[e[12],e[13],e[14]]}function u(e){return{left:f(e[3]+e[0],e[7]+e[4],e[11]+e[8],e[15]+e[12]),right:f(e[3]-e[0],e[7]-e[4],e[11]-e[8],e[15]-e[12]),bottom:f(e[3]+e[1],e[7]+e[5],e[11]+e[9],e[15]+e[13]),top:f(e[3]-e[1],e[7]-e[5],e[11]-e[9],e[15]-e[13]),near:f(e[3]+e[2],e[7]+e[6],e[11]+e[10],e[15]+e[14]),far:f(e[3]-e[2],e[7]-e[6],e[11]-e[10],e[15]-e[14])}}var l,c=new i.Z;function f(e,t,n,r){c.set(e,t,n);var o=c.len();return{distance:r/o,normal:new i.Z(-e/o,-t/o,-n/o)}}function d(e){return e-Math.fround(e)}function h(e,t){var n=t.size,i=void 0===n?1:n,o=t.startIndex,a=void 0===o?0:o,s=void 0!==t.endIndex?t.endIndex:e.length,u=(s-a)/i;l=r.Z.allocate(l,u,{type:Float32Array,size:2*i});for(var c=a,f=0;c<s;){for(var h=0;h<i;h++){var p=e[c++];l[f+h]=p,l[f+h+i]=d(p)}f+=2*i}return l.subarray(0,u*i*2)}},9032:function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(Array.isArray(e)){var n=e.length;if(!t||t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}return!1}function i(e){var t,n={};return function(i){for(var o in i)if(!r(i[o],n[o])){t=e(i),n=i;break}return t}}n.d(t,{Z:function(){return i}})},750:function(e,t,n){"use strict";n.d(t,{l:function(){return i}});var r=n(1413);function i(e,t){if(!t)return e;var n=(0,r.Z)((0,r.Z)({},e),t);if("defines"in t&&(n.defines=(0,r.Z)((0,r.Z)({},e.defines),t.defines)),"modules"in t&&(n.modules=(e.modules||[]).concat(t.modules),t.modules.some((function(e){return"project64"===e.name})))){var i=n.modules.findIndex((function(e){return"project32"===e.name}));i>=0&&n.modules.splice(i,1)}if("inject"in t)if(e.inject){var o=(0,r.Z)({},e.inject);for(var a in t.inject)o[a]=(o[a]||"")+t.inject[a];n.inject=o}else n.inject=t.inject;return n}},9990:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(7762),i=n(5671),o=n(3144),a=n(4942),s=n(4517),u=n(6715),l=n(6291),c=n(1735),f=function(){function e(t){(0,i.Z)(this,e),(0,a.Z)(this,"opts",void 0),(0,a.Z)(this,"typedArrayManager",void 0),(0,a.Z)(this,"indexStarts",[0]),(0,a.Z)(this,"vertexStarts",[0]),(0,a.Z)(this,"vertexCount",0),(0,a.Z)(this,"instanceCount",0),(0,a.Z)(this,"attributes",void 0),(0,a.Z)(this,"_attributeDefs",void 0),(0,a.Z)(this,"data",void 0),(0,a.Z)(this,"getGeometry",void 0),(0,a.Z)(this,"geometryBuffer",void 0),(0,a.Z)(this,"buffers",void 0),(0,a.Z)(this,"positionSize",void 0),(0,a.Z)(this,"normalize",void 0);var n=t.attributes,r=void 0===n?{}:n;this.typedArrayManager=u.Z,this.attributes={},this._attributeDefs=r,this.opts=t,this.updateGeometry(t)}return(0,o.Z)(e,[{key:"updateGeometry",value:function(e){Object.assign(this.opts,e);var t=this.opts,n=t.data,i=t.buffers,o=void 0===i?{}:i,a=t.getGeometry,s=t.geometryBuffer,u=t.positionFormat,c=t.dataChanged,f=t.normalize,d=void 0===f||f;if(this.data=n,this.getGeometry=a,this.positionSize=s&&s.size||("XY"===u?2:3),this.buffers=o,this.normalize=d,s&&((0,l.Z)(n.startIndices),this.getGeometry=this.getGeometryFromBuffer(s),d||(o.positions=s)),this.geometryBuffer=o.positions,Array.isArray(c)){var h,p=(0,r.Z)(c);try{for(p.s();!(h=p.n()).done;){var v=h.value;this._rebuildGeometry(v)}}catch(g){p.e(g)}finally{p.f()}}else this._rebuildGeometry()}},{key:"updatePartialGeometry",value:function(e){var t=e.startRow,n=e.endRow;this._rebuildGeometry({startRow:t,endRow:n})}},{key:"getGeometryFromBuffer",value:function(e){var t=e.value||e;return ArrayBuffer.isView(t)?(0,s.jr)(t,{size:this.positionSize,offset:e.offset,stride:e.stride,startIndices:this.data.startIndices}):null}},{key:"_allocate",value:function(e,t){var n=this.attributes,r=this.buffers,i=this._attributeDefs,o=this.typedArrayManager;for(var a in i)if(a in r)o.release(n[a]),n[a]=null;else{var s=i[a];s.copy=t,n[a]=o.allocate(n[a],e,s)}}},{key:"_forEachGeometry",value:function(e,t,n){var i,o=this.data,a=this.getGeometry,u=(0,s.jB)(o,t,n),l=u.iterable,c=u.objectInfo,f=(0,r.Z)(l);try{for(f.s();!(i=f.n()).done;){var d=i.value;c.index++,e(a?a(d,c):null,c.index)}}catch(h){f.e(h)}finally{f.f()}}},{key:"_rebuildGeometry",value:function(e){var t=this;if(this.data){var n=this.indexStarts,r=this.vertexStarts,i=this.instanceCount,o=this.data,a=this.geometryBuffer,s=e||{},u=s.startRow,l=void 0===u?0:u,f=s.endRow,d=void 0===f?1/0:f,h={};if(e||(n=[0],r=[0]),this.normalize||!a)this._forEachGeometry((function(e,n){var i=e&&t.normalizeGeometry(e);h[n]=i,r[n+1]=r[n]+(i?t.getGeometrySize(i):0)}),l,d),i=r[r.length-1];else if(r=o.startIndices,i=r[o.length]||0,ArrayBuffer.isView(a))i=i||a.length/this.positionSize;else if(a instanceof c.Z){var p=a.accessor.stride||4*this.positionSize;i=i||a.byteLength/p}else if(a.buffer){var v=a.stride||4*this.positionSize;i=i||a.buffer.byteLength/v}else if(a.value){var g=a.value,y=a.stride/g.BYTES_PER_ELEMENT||this.positionSize;i=i||g.length/y}this._allocate(i,Boolean(e)),this.indexStarts=n,this.vertexStarts=r,this.instanceCount=i;var m={};this._forEachGeometry((function(e,o){var a=h[o]||e;m.vertexStart=r[o],m.indexStart=n[o];var s=o<r.length-1?r[o+1]:i;m.geometrySize=s-r[o],m.geometryIndex=o,t.updateGeometryAttributes(a,m)}),l,d),this.vertexCount=n[n.length-1]}}}]),e}()},6715:function(e,t,n){"use strict";var r=n(5671),i=n(3144),o=n(4942),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,e),(0,o.Z)(this,"_pool",[]),(0,o.Z)(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(t)}return(0,i.Z)(e,[{key:"setOptions",value:function(e){Object.assign(this.opts,e)}},{key:"allocate",value:function(e,t,n){var r=n.size,i=void 0===r?1:r,o=n.type,a=n.padding,s=void 0===a?0:a,u=n.copy,l=void 0!==u&&u,c=n.initialize,f=void 0!==c&&c,d=n.maxCount,h=o||e&&e.constructor||Float32Array,p=t*i+s;if(ArrayBuffer.isView(e)){if(p<=e.length)return e;if(p*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new h(e.buffer,0,p)}var v=1/0;d&&(v=d*i+s);var g=this._allocate(h,p,f,v);return e&&l?g.set(e):f||g.fill(0,0,4),this._release(e),g}},{key:"release",value:function(e){this._release(e)}},{key:"_allocate",value:function(e,t,n,r){var i=Math.max(Math.ceil(t*this.opts.overAlloc),1);i>r&&(i=r);var o=this._pool,a=e.BYTES_PER_ELEMENT*i,s=o.findIndex((function(e){return e.byteLength>=a}));if(s>=0){var u=new e(o.splice(s,1)[0],0,i);return n&&u.fill(0),u}return new e(i)}},{key:"_release",value:function(e){if(ArrayBuffer.isView(e)){var t=this._pool,n=e.buffer,r=n.byteLength,i=t.findIndex((function(e){return e.byteLength>=r}));i<0?t.push(n):(i>0||t.length<this.opts.poolSize)&&t.splice(i,0,n),t.length>this.opts.poolSize&&t.shift()}}}]),e}();t.Z=new a},1494:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(885),i=n(5671),o=n(3144),a=n(4942),s=n(7951),u=n(1276),l=n(6911),c=n(1783),f=n(347),d=n(9880),h=n(4305),p=n(6128),v=Math.PI/180,g=(0,u.bS)(),y=[0,0,0],m={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};var b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),(0,a.Z)(this,"id",void 0),(0,a.Z)(this,"x",void 0),(0,a.Z)(this,"y",void 0),(0,a.Z)(this,"width",void 0),(0,a.Z)(this,"height",void 0),(0,a.Z)(this,"isGeospatial",void 0),(0,a.Z)(this,"zoom",void 0),(0,a.Z)(this,"focalDistance",void 0),(0,a.Z)(this,"position",void 0),(0,a.Z)(this,"modelMatrix",void 0),(0,a.Z)(this,"distanceScales",void 0),(0,a.Z)(this,"scale",void 0),(0,a.Z)(this,"center",void 0),(0,a.Z)(this,"cameraPosition",void 0),(0,a.Z)(this,"projectionMatrix",void 0),(0,a.Z)(this,"viewMatrix",void 0),(0,a.Z)(this,"viewMatrixUncentered",void 0),(0,a.Z)(this,"viewMatrixInverse",void 0),(0,a.Z)(this,"viewProjectionMatrix",void 0),(0,a.Z)(this,"pixelProjectionMatrix",void 0),(0,a.Z)(this,"pixelUnprojectionMatrix",void 0),(0,a.Z)(this,"resolution",void 0),(0,a.Z)(this,"_frustumPlanes",{}),this.id=t.id||this.constructor.displayName||"viewport",this.x=t.x||0,this.y=t.y||0,this.width=t.width||1,this.height=t.height||1,this.zoom=t.zoom||0,this.distanceScales=t.distanceScales||m,this.focalDistance=t.focalDistance||1,this.position=t.position||y,this.modelMatrix=t.modelMatrix||null;var n=t.longitude,r=t.latitude;this.isGeospatial=Number.isFinite(r)&&Number.isFinite(n),this._initProps(t),this._initMatrices(t),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return(0,o.Z)(e,[{key:"metersPerPixel",get:function(){return this.distanceScales.metersPerUnit[2]/this.scale}},{key:"projectionMode",get:function(){return this.isGeospatial?this.zoom<12?p.zG.WEB_MERCATOR:p.zG.WEB_MERCATOR_AUTO_OFFSET:p.zG.IDENTITY}},{key:"equals",value:function(t){return t instanceof e&&(this===t||t.width===this.width&&t.height===this.height&&t.scale===this.scale&&(0,c.fS)(t.projectionMatrix,this.projectionMatrix)&&(0,c.fS)(t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,i=void 0===n||n,o=this.projectPosition(e),a=(0,h.aW)(o,this.pixelProjectionMatrix),s=(0,r.Z)(a,2),u=s[0],l=s[1],c=i?l:this.height-l;return 2===e.length?[u,c]:[u,c,a[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,i=void 0===n||n,o=t.targetZ,a=(0,r.Z)(e,3),s=a[0],u=a[1],l=a[2],c=i?u:this.height-u,f=o&&o*this.distanceScales.unitsPerMeter[2],d=(0,h.CT)([s,c,l],this.pixelUnprojectionMatrix,f),p=this.unprojectPosition(d),v=(0,r.Z)(p,3),g=v[0],y=v[1],m=v[2];return Number.isFinite(l)?[g,y,m]:Number.isFinite(o)?[g,y,o]:[g,y]}},{key:"projectPosition",value:function(e){var t=this.projectFlat(e),n=(0,r.Z)(t,2);return[n[0],n[1],(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}},{key:"unprojectPosition",value:function(e){var t=this.unprojectFlat(e),n=(0,r.Z)(t,2);return[n[0],n[1],(e[2]||0)*this.distanceScales.metersPerUnit[2]]}},{key:"projectFlat",value:function(e){if(this.isGeospatial){var t=(0,h.w5)(e);return t[1]=(0,c.uZ)(t[1],-318,830),t}return e}},{key:"unprojectFlat",value:function(e){return this.isGeospatial?(0,h.es)(e):e}},{key:"getBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={targetZ:e.z||0},n=this.unproject([0,0],t),r=this.unproject([this.width,0],t),i=this.unproject([0,this.height],t),o=this.unproject([this.width,this.height],t);return[Math.min(n[0],r[0],i[0],o[0]),Math.min(n[1],r[1],i[1],o[1]),Math.max(n[0],r[0],i[0],o[0]),Math.max(n[1],r[1],i[1],o[1])]}},{key:"getDistanceScales",value:function(e){return e?(0,h.ro)({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}},{key:"containsPixel",value:function(e){var t=e.x,n=e.y,r=e.width,i=void 0===r?1:r,o=e.height,a=void 0===o?1:o;return t<this.x+this.width&&this.x<t+i&&n<this.y+this.height&&this.y<n+a}},{key:"getFrustumPlanes",value:function(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,(0,u.Du)(this.viewProjectionMatrix)),this._frustumPlanes}},{key:"panByPosition",value:function(e,t){return null}},{key:"_initProps",value:function(e){var t=e.longitude,n=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=(0,h.Bf)({latitude:n})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||(0,h.ro)({latitude:n,longitude:t}));var r=Math.pow(2,this.zoom);this.scale=r;var i=e.position,o=e.modelMatrix,a=y;if(i&&(a=o?new l.Z(o).transformAsVector(i,[]):i),this.isGeospatial){var s=this.projectPosition([t,n,0]);this.center=new f.Z(a).scale(this.distanceScales.unitsPerMeter).add(s)}else this.center=this.projectPosition(a)}},{key:"_initMatrices",value:function(e){var t=e.viewMatrix,n=void 0===t?g:t,r=e.projectionMatrix,i=void 0===r?null:r,o=e.orthographic,a=void 0!==o&&o,h=e.fovyRadians,p=e.fovy,y=void 0===p?75:p,m=e.near,b=void 0===m?.1:m,_=e.far,w=void 0===_?1e3:_,x=e.padding,k=void 0===x?null:x,E=e.focalDistance,S=void 0===E?1:E;this.viewMatrixUncentered=n,this.viewMatrix=(new l.Z).multiplyRight(n).translate(new f.Z(this.center).negate()),this.projectionMatrix=i||function(e){var t=e.width,n=e.height,r=e.orthographic,i=e.fovyRadians,o=e.focalDistance,a=e.padding,s=e.near,u=e.far,f=t/n,d=r?(new l.Z).orthographic({fovy:i,aspect:f,focalDistance:o,near:s,far:u}):(new l.Z).perspective({fovy:i,aspect:f,near:s,far:u});if(a){var h=a.left,p=void 0===h?0:h,v=a.right,g=void 0===v?0:v,y=a.top,m=void 0===y?0:y,b=a.bottom,_=void 0===b?0:b,w=(0,c.uZ)((p+t-g)/2,0,t)-t/2,x=(0,c.uZ)((m+n-_)/2,0,n)-n/2;d[8]-=2*w/t,d[9]+=2*x/n}return d}({width:this.width,height:this.height,orthographic:a,fovyRadians:h||y*v,focalDistance:S,padding:k,near:b,far:w});var T=(0,u.bS)();d.Jp(T,T,this.projectionMatrix),d.Jp(T,T,this.viewMatrix),this.viewProjectionMatrix=T,this.viewMatrixInverse=d.U_([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=(0,u.Xt)(this.viewMatrixInverse);var P=(0,u.bS)(),A=(0,u.bS)();d.bA(P,P,[this.width/2,-this.height/2,1]),d.Iu(P,P,[1,-1,0]),d.Jp(A,P,this.viewProjectionMatrix),this.pixelProjectionMatrix=A,this.pixelUnprojectionMatrix=d.U_((0,u.bS)(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||s.Z.warn("Pixel project matrix not invertible")()}}]),e}();(0,a.Z)(b,"displayName","Viewport")},4508:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(885),i=n(1413),o=n(5671),a=n(3144),s=n(7326),u=n(1752),l=n(1120),c=n(136),f=n(7277),d=n(4942),h=n(1494),p=n(4305),v=n(9874),g=n(6911),y=Math.PI/180;function m(e){return 512/4003e4/Math.cos(e*y)}var b=function(e){(0,c.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,n);var a,u=r.latitude,l=void 0===u?0:u,c=r.longitude,f=void 0===c?0:c,h=r.zoom,v=void 0===h?0:h,y=r.pitch,m=void 0===y?0:y,b=r.bearing,_=void 0===b?0:b,w=r.nearZMultiplier,x=void 0===w?.1:w,k=r.farZMultiplier,E=void 0===k?1.01:k,S=r.orthographic,T=void 0!==S&&S,P=r.projectionMatrix,A=r.repeat,C=void 0!==A&&A,Z=r.worldOffset,O=void 0===Z?0:Z,L=r.legacyMeterSizes,R=void 0!==L&&L,M=r.width,I=r.height,N=r.altitude,F=void 0===N?1.5:N,j=Math.pow(2,v);M=M||1,I=I||1;var D=null;P?(F=P[5]/2,a=(0,p.Lu)(F)):(r.fovy?(a=r.fovy,F=(0,p.sj)(a)):a=(0,p.Lu)(F),D=(0,p.wl)({width:M,height:I,pitch:m,fovy:a,nearZMultiplier:x,farZMultiplier:E}));var z=(0,p.lf)({height:I,pitch:m,bearing:_,scale:j,altitude:F});if(O){var B=(new g.Z).translate([512*O,0,0]);z=B.multiplyLeft(z)}return e=t.call(this,(0,i.Z)((0,i.Z)((0,i.Z)({},r),{},{width:M,height:I,viewMatrix:z,longitude:f,latitude:l,zoom:v},D),{},{fovy:a,focalDistance:F})),(0,d.Z)((0,s.Z)(e),"longitude",void 0),(0,d.Z)((0,s.Z)(e),"latitude",void 0),(0,d.Z)((0,s.Z)(e),"pitch",void 0),(0,d.Z)((0,s.Z)(e),"bearing",void 0),(0,d.Z)((0,s.Z)(e),"altitude",void 0),(0,d.Z)((0,s.Z)(e),"fovy",void 0),(0,d.Z)((0,s.Z)(e),"orthographic",void 0),(0,d.Z)((0,s.Z)(e),"_subViewports",void 0),(0,d.Z)((0,s.Z)(e),"_pseudoMeters",void 0),e.latitude=l,e.longitude=f,e.zoom=v,e.pitch=m,e.bearing=_,e.altitude=F,e.fovy=a,e.orthographic=T,e._subViewports=C?[]:null,e._pseudoMeters=R,Object.freeze((0,s.Z)(e)),e}return(0,a.Z)(n,[{key:"subViewports",get:function(){if(this._subViewports&&!this._subViewports.length)for(var e=this.getBounds(),t=Math.floor((e[0]+180)/360),r=Math.ceil((e[2]-180)/360),o=t;o<=r;o++){var a=o?new n((0,i.Z)((0,i.Z)({},this),{},{worldOffset:o})):this;this._subViewports.push(a)}return this._subViewports}},{key:"projectPosition",value:function(e){if(this._pseudoMeters)return(0,u.Z)((0,l.Z)(n.prototype),"projectPosition",this).call(this,e);var t=this.projectFlat(e),i=(0,r.Z)(t,2);return[i[0],i[1],(e[2]||0)*m(e[1])]}},{key:"unprojectPosition",value:function(e){if(this._pseudoMeters)return(0,u.Z)((0,l.Z)(n.prototype),"unprojectPosition",this).call(this,e);var t=this.unprojectFlat(e),i=(0,r.Z)(t,2),o=i[0],a=i[1];return[o,a,(e[2]||0)/m(a)]}},{key:"addMetersToLngLat",value:function(e,t){return(0,p.eG)(e,t)}},{key:"panByPosition",value:function(e,t){var n=(0,p.CT)(t,this.pixelUnprojectionMatrix),i=this.projectFlat(e),o=v.IH([],i,v.tk([],n)),a=v.IH([],this.center,o),s=this.unprojectFlat(a),u=(0,r.Z)(s,2);return{longitude:u[0],latitude:u[1]}}},{key:"getBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,p.zX)(this,e.z||0);return[Math.min(t[0][0],t[1][0],t[2][0],t[3][0]),Math.min(t[0][1],t[1][1],t[2][1],t[3][1]),Math.max(t[0][0],t[1][0],t[2][0],t[3][0]),Math.max(t[0][1],t[1][1],t[2][1],t[3][1])]}},{key:"fitBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,o=this.height,a=(0,p.Xg)((0,i.Z)({width:r,height:o,bounds:e},t)),s=a.longitude,u=a.latitude,l=a.zoom;return new n({width:r,height:o,longitude:s,latitude:u,zoom:l})}}]),n}(h.Z);(0,d.Z)(b,"displayName","WebMercatorViewport")},2277:function(e,t,n){"use strict";n.r(t),n.d(t,{ArcLayer:function(){return _},BitmapLayer:function(){return Z},ColumnLayer:function(){return Ie},GeoJsonLayer:function(){return rn},GridCellLayer:function(){return Fe},IconLayer:function(){return Y},LineLayer:function(){return q},PathLayer:function(){return We},PointCloudLayer:function(){return te},PolygonLayer:function(){return gt},ScatterplotLayer:function(){return ie},SolidPolygonLayer:function(){return dt},TextLayer:function(){return Vt},_MultiIconLayer:function(){return _t},_TextBackgroundLayer:function(){return jt}});var r=n(1413),i=n(5671),o=n(3144),a=n(7326),s=n(1752),u=n(1120),l=n(136),c=n(7277),f=n(4942),d=n(8378),h=n(2968),p=n(6128),v=n(5973),g=n(6501),y=n(643),m=[0,0,0,255],b={getSourcePosition:{type:"accessor",value:function(e){return e.sourcePosition}},getTargetPosition:{type:"accessor",value:function(e){return e.targetPosition}},getSourceColor:{type:"accessor",value:m},getTargetColor:{type:"accessor",value:m},getWidth:{type:"accessor",value:1},getHeight:{type:"accessor",value:1},getTilt:{type:"accessor",value:0},greatCircle:!1,widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}},_=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,f.Z)((0,a.Z)(e),"state",void 0),e}return(0,o.Z)(n,[{key:"getShaders",value:function(){return(0,s.Z)((0,u.Z)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME arc-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec4 instanceSourceColors;\nattribute vec4 instanceTargetColors;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceSourcePositions64Low;\nattribute vec3 instanceTargetPositions;\nattribute vec3 instanceTargetPositions64Low;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\nattribute float instanceHeights;\nattribute float instanceTilts;\n\nuniform bool greatCircle;\nuniform bool useShortestPath;\nuniform float numSegments;\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform int widthUnits;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvarying float isValid;\n\nfloat paraboloid(float distance, float sourceZ, float targetZ, float ratio) {\n  // d: distance on the xy plane\n  // r: ratio of the current point\n  // p: ratio of the peak of the arc\n  // h: height multiplier\n  // z = f(r) = sqrt(r * (p * 2 - r)) * d * h\n  // f(0) = 0\n  // f(1) = dz\n\n  float deltaZ = targetZ - sourceZ;\n  float dh = distance * instanceHeights;\n  if (dh == 0.0) {\n    return sourceZ + deltaZ * ratio;\n  }\n  float unitZ = deltaZ / dh;\n  float p2 = unitZ * unitZ + 1.0;\n\n  // sqrt does not deal with negative values, manually flip source and target if delta.z < 0\n  float dir = step(deltaZ, 0.0);\n  float z0 = mix(sourceZ, targetZ, dir);\n  float r = mix(ratio, 1.0 - ratio, dir);\n  return sqrt(r * (p2 - r)) * dh + z0;\n}\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  return dir_screenspace * offset_direction * width / 2.0;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\n\nvec3 interpolateFlat(vec3 source, vec3 target, float segmentRatio) {\n  float distance = length(source.xy - target.xy);\n  float z = paraboloid(distance, source.z, target.z, segmentRatio);\n\n  float tiltAngle = radians(instanceTilts);\n  vec2 tiltDirection = normalize(target.xy - source.xy);\n  vec2 tilt = vec2(-tiltDirection.y, tiltDirection.x) * z * sin(tiltAngle);\n\n  return vec3(\n    mix(source.xy, target.xy, segmentRatio) + tilt,\n    z * cos(tiltAngle)\n  );\n}\n\n/* Great circle interpolation\n * http://www.movable-type.co.uk/scripts/latlong.html\n */\nfloat getAngularDist (vec2 source, vec2 target) {\n  vec2 sourceRadians = radians(source);\n  vec2 targetRadians = radians(target);\n  vec2 sin_half_delta = sin((sourceRadians - targetRadians) / 2.0);\n  vec2 shd_sq = sin_half_delta * sin_half_delta;\n\n  float a = shd_sq.y + cos(sourceRadians.y) * cos(targetRadians.y) * shd_sq.x;\n  return 2.0 * asin(sqrt(a));\n}\n\nvec3 interpolateGreatCircle(vec3 source, vec3 target, vec3 source3D, vec3 target3D, float angularDist, float t) {\n  vec2 lngLat;\n\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  if(abs(angularDist - PI) < 0.001) {\n    lngLat = (1.0 - t) * source.xy + t * target.xy;\n  } else {\n    float a = sin((1.0 - t) * angularDist);\n    float b = sin(t * angularDist);\n    vec3 p = source3D.yxz * a + target3D.yxz * b;\n    lngLat = degrees(vec2(atan(p.y, -p.x), atan(p.z, length(p.xy))));\n  }\n\n  float z = paraboloid(angularDist * EARTH_RADIUS, source.z, target.z, t);\n\n  return vec3(lngLat, z);\n}\n\n/* END GREAT CIRCLE */\n\nvoid main(void) {\n  geometry.worldPosition = instanceSourcePositions;\n  geometry.worldPositionAlt = instanceTargetPositions;\n\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float prevSegmentRatio = getSegmentRatio(max(0.0, segmentIndex - 1.0));\n  float nextSegmentRatio = getSegmentRatio(min(numSegments - 1.0, segmentIndex + 1.0));\n\n  // if it's the first point, use next - current as direction\n  // otherwise use current - prev\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  isValid = 1.0;\n\n  uv = vec2(segmentRatio, positions.y);\n  geometry.uv = uv;\n  geometry.pickingColor = instancePickingColors;\n\n  vec4 curr;\n  vec4 next;\n  vec3 source;\n  vec3 target;\n\n  if ((greatCircle || project_uProjectionMode == PROJECTION_MODE_GLOBE) && project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n    source = project_globe_(vec3(instanceSourcePositions.xy, 0.0));\n    target = project_globe_(vec3(instanceTargetPositions.xy, 0.0));\n    float angularDist = getAngularDist(instanceSourcePositions.xy, instanceTargetPositions.xy);\n\n    vec3 prevPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, prevSegmentRatio);\n    vec3 currPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, segmentRatio);\n    vec3 nextPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, nextSegmentRatio);\n\n    if (abs(currPos.x - prevPos.x) > 180.0) {\n      indexDir = -1.0;\n      isValid = 0.0;\n    } else if (abs(currPos.x - nextPos.x) > 180.0) {\n      indexDir = 1.0;\n      isValid = 0.0;\n    }\n    nextPos = indexDir < 0.0 ? prevPos : nextPos;\n    nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\n\n    if (isValid == 0.0) {\n      // split at the 180th meridian\n      nextPos.x += nextPos.x > 0.0 ? -360.0 : 360.0;\n      float t = ((currPos.x > 0.0 ? 180.0 : -180.0) - currPos.x) / (nextPos.x - currPos.x);\n      currPos = mix(currPos, nextPos, t);\n      segmentRatio = mix(segmentRatio, nextSegmentRatio, t);\n    }\n\n    vec3 currPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, segmentRatio);\n    vec3 nextPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, nextSegmentRatio);\n  \n    curr = project_position_to_clipspace(currPos, currPos64Low, vec3(0.0), geometry.position);\n    next = project_position_to_clipspace(nextPos, nextPos64Low, vec3(0.0));\n  \n  } else {\n    vec3 source_world = instanceSourcePositions;\n    vec3 target_world = instanceTargetPositions;\n    if (useShortestPath) {\n      source_world.x = mod(source_world.x + 180., 360.0) - 180.;\n      target_world.x = mod(target_world.x + 180., 360.0) - 180.;\n\n      float deltaLng = target_world.x - source_world.x;\n      if (deltaLng > 180.) target_world.x -= 360.;\n      if (deltaLng < -180.) source_world.x -= 360.;\n    }\n    source = project_position(source_world, instanceSourcePositions64Low);\n    target = project_position(target_world, instanceTargetPositions64Low);\n\n    // common x at longitude=-180\n    float antiMeridianX = 0.0;\n\n    if (useShortestPath) {\n      if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n        antiMeridianX = -(project_uCoordinateOrigin.x + 180.) / 360. * TILE_SIZE;\n      }\n      float thresholdRatio = (antiMeridianX - source.x) / (target.x - source.x);\n\n      if (prevSegmentRatio <= thresholdRatio && nextSegmentRatio > thresholdRatio) {\n        isValid = 0.0;\n        indexDir = sign(segmentRatio - thresholdRatio);\n        segmentRatio = thresholdRatio;\n      }\n    }\n\n    nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\n    vec3 currPos = interpolateFlat(source, target, segmentRatio);\n    vec3 nextPos = interpolateFlat(source, target, nextSegmentRatio);\n\n    if (useShortestPath) {\n      if (nextPos.x < antiMeridianX) {\n        currPos.x += TILE_SIZE;\n        nextPos.x += TILE_SIZE;\n      }\n    }\n\n    curr = project_common_position_to_clipspace(vec4(currPos, 1.0));\n    next = project_common_position_to_clipspace(vec4(nextPos, 1.0));\n    geometry.position = vec4(currPos, 1.0);\n  }\n\n  // Multiply out width and clamp to limits\n  // mercator pixels are interpreted as screen pixels\n  float widthPixels = clamp(\n    project_size_to_pixel(instanceWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels\n  );\n\n  // extrude\n  vec3 offset = vec3(\n    getExtrusionOffset((next.xy - curr.xy) * indexDir, positions.y, widthPixels),\n    0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  gl_Position = curr + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio);\n  vColor = vec4(color.rgb, color.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME arc-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvarying float isValid;\n\nvoid main(void) {\n  if (isValid == 0.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  geometry.uv = uv;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[d.Z,h.Z]})}},{key:"wrapLongitude",get:function(){return!1}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceSourceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getSourceColor",defaultValue:m},instanceTargetColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getTargetColor",defaultValue:m},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1},instanceHeights:{size:1,transition:!0,accessor:"getHeight",defaultValue:1},instanceTilts:{size:1,transition:!0,accessor:"getTilt",defaultValue:0}})}},{key:"updateState",value:function(e){if((0,s.Z)((0,u.Z)(n.prototype),"updateState",this).call(this,e),e.changeFlags.extensionsChanged){var t,r=this.context.gl;null===(t=this.state.model)||void 0===t||t.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.widthUnits,i=n.widthScale,o=n.widthMinPixels,a=n.widthMaxPixels,s=n.greatCircle,u=n.wrapLongitude;this.state.model.setUniforms(t).setUniforms({greatCircle:s,widthUnits:p.iI[r],widthScale:i,widthMinPixels:o,widthMaxPixels:a,useShortestPath:u}).draw()}},{key:"_getModel",value:function(e){for(var t=[],n=0;n<50;n++)t=t.concat([n,1,0,n,-1,0]);var i=new g.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new y.Z({drawMode:5,attributes:{positions:new Float32Array(t)}}),isInstanced:!0}));return i.setUniforms({numSegments:50}),i}}]),n}(v.Z);(0,f.Z)(_,"layerName","ArcLayer"),(0,f.Z)(_,"defaultProps",b);var w=n(885),x=n(4305),k=n(1783),E=new Uint16Array([0,2,1,0,3,2]),S=new Float32Array([0,1,0,0,1,0,1,1]);function T(e,t){if(!t)return function(e){for(var t=new Float64Array(12),n=0;n<e.length;n++)t[3*n+0]=e[n][0],t[3*n+1]=e[n][1],t[3*n+2]=e[n][2]||0;return{vertexCount:6,positions:t,indices:E,texCoords:S}}(e);for(var n=Math.max(Math.abs(e[0][0]-e[3][0]),Math.abs(e[1][0]-e[2][0])),r=Math.max(Math.abs(e[1][1]-e[0][1]),Math.abs(e[2][1]-e[3][1])),i=Math.ceil(n/t)+1,o=Math.ceil(r/t)+1,a=(i-1)*(o-1)*6,s=new Uint32Array(a),u=new Float32Array(i*o*2),l=new Float64Array(i*o*3),c=0,f=0,d=0;d<i;d++)for(var h=d/(i-1),p=0;p<o;p++){var v=p/(o-1),g=P(e,h,v);l[3*c+0]=g[0],l[3*c+1]=g[1],l[3*c+2]=g[2]||0,u[2*c+0]=h,u[2*c+1]=1-v,d>0&&p>0&&(s[f++]=c-o,s[f++]=c-o-1,s[f++]=c-1,s[f++]=c-o,s[f++]=c-1,s[f++]=c),c++}return{vertexCount:a,positions:l,indices:s,texCoords:u}}function P(e,t,n){return(0,k.t7)((0,k.t7)(e[0],e[1],n),(0,k.t7)(e[3],e[2],n),t)}var A="\n#define SHADER_NAME bitmap-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D bitmapTexture;\n\nvarying vec2 vTexCoord;\nvarying vec2 vTexPos;\n\nuniform float desaturate;\nuniform vec4 transparentColor;\nuniform vec3 tintColor;\nuniform float opacity;\n\nuniform float coordinateConversion;\nuniform vec4 bounds;\n\n/* projection utils */\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / PI / 2.0;\n\n// from degrees to Web Mercator\nvec2 lnglat_to_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\n// from Web Mercator to degrees\nvec2 mercator_to_lnglat(vec2 xy) {\n  xy /= WORLD_SCALE;\n  return degrees(vec2(\n    xy.x - PI,\n    atan(exp(xy.y - PI)) * 2.0 - PI * 0.5\n  ));\n}\n/* End projection utils */\n\n// apply desaturation\nvec3 color_desaturate(vec3 color) {\n  float luminance = (color.r + color.g + color.b) * 0.333333333;\n  return mix(color, vec3(luminance), desaturate);\n}\n\n// apply tint\nvec3 color_tint(vec3 color) {\n  return color * tintColor;\n}\n\n// blend with background color\nvec4 apply_opacity(vec3 color, float alpha) {\n  return mix(transparentColor, vec4(color, 1.0), alpha);\n}\n\nvec2 getUV(vec2 pos) {\n  return vec2(\n    (pos.x - bounds[0]) / (bounds[2] - bounds[0]),\n    (pos.y - bounds[3]) / (bounds[1] - bounds[3])\n  );\n}\n\n".concat("\nvec3 packUVsIntoRGB(vec2 uv) {\n  // Extract the top 8 bits. We want values to be truncated down so we can add a fraction\n  vec2 uv8bit = floor(uv * 256.);\n\n  // Calculate the normalized remainders of u and v parts that do not fit into 8 bits\n  // Scale and clamp to 0-1 range\n  vec2 uvFraction = fract(uv * 256.);\n  vec2 uvFraction4bit = floor(uvFraction * 16.);\n\n  // Remainder can be encoded in blue channel, encode as 4 bits for pixel coordinates\n  float fractions = uvFraction4bit.x + uvFraction4bit.y * 16.;\n\n  return vec3(uv8bit, fractions) / 255.;\n}\n","\n\nvoid main(void) {\n  vec2 uv = vTexCoord;\n  if (coordinateConversion < -0.5) {\n    vec2 lnglat = mercator_to_lnglat(vTexPos);\n    uv = getUV(lnglat);\n  } else if (coordinateConversion > 0.5) {\n    vec2 commonPos = lnglat_to_mercator(vTexPos);\n    uv = getUV(commonPos);\n  }\n  vec4 bitmapColor = texture2D(bitmapTexture, uv);\n\n  gl_FragColor = apply_opacity(color_tint(color_desaturate(bitmapColor.rgb)), bitmapColor.a * opacity);\n\n  geometry.uv = uv;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n\n  if (picking_uActive) {\n    // Since instance information is not used, we can use picking color for pixel index\n    gl_FragColor.rgb = packUVsIntoRGB(uv);\n  }\n}\n"),C={image:{type:"image",value:null,async:!0},bounds:{type:"array",value:[1,0,0,1],compare:!0},_imageCoordinateSystem:p.Df.DEFAULT,desaturate:{type:"number",min:0,max:1,value:0},transparentColor:{type:"color",value:[0,0,0,0]},tintColor:{type:"color",value:[255,255,255]}},Z=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,f.Z)((0,a.Z)(e),"state",void 0),e}return(0,o.Z)(n,[{key:"getShaders",value:function(){return(0,s.Z)((0,u.Z)(n.prototype),"getShaders",this).call(this,{vs:"\n#define SHADER_NAME bitmap-layer-vertex-shader\n\nattribute vec2 texCoords;\nattribute vec3 positions;\nattribute vec3 positions64Low;\n\nvarying vec2 vTexCoord;\nvarying vec2 vTexPos;\n\nuniform float coordinateConversion;\n\nconst vec3 pickingColor = vec3(1.0, 0.0, 0.0);\n\nvoid main(void) {\n  geometry.worldPosition = positions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = pickingColor;\n\n  gl_Position = project_position_to_clipspace(positions, positions64Low, vec3(0.0), geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTexCoord = texCoords;\n\n  if (coordinateConversion < -0.5) {\n    vTexPos = geometry.position.xy + project_uCommonOrigin.xy;\n  } else if (coordinateConversion > 0.5) {\n    vTexPos = geometry.worldPosition.xy;\n  }\n\n  vec4 color = vec4(0.0);\n  DECKGL_FILTER_COLOR(color, geometry);\n}\n",fs:A,modules:[d.Z,h.Z]})}},{key:"initializeState",value:function(){var e=this,t=this.getAttributeManager();t.remove(["instancePickingColors"]);var n=!0;t.add({indices:{size:1,isIndexed:!0,update:function(t){return t.value=e.state.mesh.indices},noAlloc:n},positions:{size:3,type:5130,fp64:this.use64bitPositions(),update:function(t){return t.value=e.state.mesh.positions},noAlloc:n},texCoords:{size:2,update:function(t){return t.value=e.state.mesh.texCoords},noAlloc:n}})}},{key:"updateState",value:function(e){var t=e.props,n=e.oldProps,i=e.changeFlags,o=this.getAttributeManager();if(i.extensionsChanged){var a,s=this.context.gl;null===(a=this.state.model)||void 0===a||a.delete(),this.state.model=this._getModel(s),o.invalidateAll()}if(t.bounds!==n.bounds){var u=this.state.mesh,l=this._createMesh();for(var c in this.state.model.setVertexCount(l.vertexCount),l)u&&u[c]!==l[c]&&o.invalidate(c);this.setState((0,r.Z)({mesh:l},this._getCoordinateUniforms()))}else t._imageCoordinateSystem!==n._imageCoordinateSystem&&this.setState(this._getCoordinateUniforms())}},{key:"getPickingInfo",value:function(e){var t=this.props.image,n=e.info;if(!n.color||!t)return n.bitmap=null,n;var r=t.width,i=t.height;n.index=0;var o=function(e){var t=(0,w.Z)(e,3),n=t[0],r=t[1],i=t[2];return[(n+(15&i)/16)/256,(r+(240&i)/256)/256]}(n.color),a=[Math.floor(o[0]*r),Math.floor(o[1]*i)];return n.bitmap={size:{width:r,height:i},uv:o,pixel:a},n}},{key:"disablePickingIndex",value:function(){this.setState({disablePicking:!0})}},{key:"restorePickingColors",value:function(){this.setState({disablePicking:!1})}},{key:"_updateAutoHighlight",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"_updateAutoHighlight",this).call(this,(0,r.Z)((0,r.Z)({},e),{},{color:this.encodePickingColor(0)}))}},{key:"_createMesh",value:function(){var e=this.props.bounds,t=e;return O(e)&&(t=[[e[0],e[1]],[e[0],e[3]],[e[2],e[3]],[e[2],e[1]]]),T(t,this.context.viewport.resolution)}},{key:"_getModel",value:function(e){return e?new g.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new y.Z({drawMode:4,vertexCount:6}),isInstanced:!1})):null}},{key:"draw",value:function(e){var t=e.uniforms,n=e.moduleParameters,r=this.state,i=r.model,o=r.coordinateConversion,a=r.bounds,s=r.disablePicking,u=this.props,l=u.image,c=u.desaturate,f=u.transparentColor,d=u.tintColor;n.pickingActive&&s||l&&i&&i.setUniforms(t).setUniforms({bitmapTexture:l,desaturate:c,transparentColor:f.map((function(e){return e/255})),tintColor:d.slice(0,3).map((function(e){return e/255})),coordinateConversion:o,bounds:a}).draw()}},{key:"_getCoordinateUniforms",value:function(){var e=p.Df.LNGLAT,t=p.Df.CARTESIAN,n=p.Df.DEFAULT,r=this.props._imageCoordinateSystem;if(r!==n){var i=this.props.bounds;if(!O(i))throw new Error("_imageCoordinateSystem only supports rectangular bounds");var o=this.context.viewport.resolution?e:t;if((r=r===e?e:t)===e&&o===t)return{coordinateConversion:-1,bounds:i};if(r===t&&o===e){var a=(0,x.w5)([i[0],i[1]]),s=(0,x.w5)([i[2],i[3]]);return{coordinateConversion:1,bounds:[a[0],a[1],s[0],s[1]]}}}return{coordinateConversion:0,bounds:[0,0,0,0]}}}]),n}(v.Z);function O(e){return Number.isFinite(e[0])}(0,f.Z)(Z,"layerName","BitmapLayer"),(0,f.Z)(Z,"defaultProps",C);var L,R=n(7951),M=n(7762),I=n(8542),N=n(9507),F=n(2366),j=n(2603),D=n(3622),z=n(4517),B=function(){},U=(L={},(0,f.Z)(L,10241,9987),(0,f.Z)(L,10240,9729),(0,f.Z)(L,10242,33071),(0,f.Z)(L,10243,33071),L);function V(e){return e&&(e.id||e.url)}function G(e,t,n){for(var i=0;i<t.length;i++){var o=t[i],a=o.icon,s=o.xOffset;e[V(a)]=(0,r.Z)((0,r.Z)({},a),{},{x:s,y:n})}}var W=function(){function e(t,n){var r=n.onUpdate,o=void 0===r?B:r,a=n.onError,s=void 0===a?B:a;(0,i.Z)(this,e),(0,f.Z)(this,"gl",void 0),(0,f.Z)(this,"onUpdate",void 0),(0,f.Z)(this,"onError",void 0),(0,f.Z)(this,"_loadOptions",null),(0,f.Z)(this,"_texture",null),(0,f.Z)(this,"_externalTexture",null),(0,f.Z)(this,"_mapping",{}),(0,f.Z)(this,"_textureParameters",null),(0,f.Z)(this,"_pendingCount",0),(0,f.Z)(this,"_autoPacking",!1),(0,f.Z)(this,"_xOffset",0),(0,f.Z)(this,"_yOffset",0),(0,f.Z)(this,"_rowHeight",0),(0,f.Z)(this,"_buffer",4),(0,f.Z)(this,"_canvasWidth",1024),(0,f.Z)(this,"_canvasHeight",0),(0,f.Z)(this,"_canvas",null),this.gl=t,this.onUpdate=o,this.onError=s}return(0,o.Z)(e,[{key:"finalize",value:function(){var e;null===(e=this._texture)||void 0===e||e.delete()}},{key:"getTexture",value:function(){return this._texture||this._externalTexture}},{key:"getIconMapping",value:function(e){var t=this._autoPacking?V(e):e;return this._mapping[t]||{}}},{key:"setProps",value:function(e){var t,n=e.loadOptions,r=e.autoPacking,i=e.iconAtlas,o=e.iconMapping,a=e.textureParameters;(n&&(this._loadOptions=n),void 0!==r&&(this._autoPacking=r),o&&(this._mapping=o),i)&&(null===(t=this._texture)||void 0===t||t.delete(),this._texture=null,this._externalTexture=i);a&&(this._textureParameters=a)}},{key:"isLoaded",get:function(){return 0===this._pendingCount}},{key:"packIcons",value:function(e,t){if(this._autoPacking&&"undefined"!==typeof document){var n=Object.values(function(e,t,n){if(!e||!t)return null;n=n||{};var i,o={},a=(0,z.jB)(e),s=a.iterable,u=a.objectInfo,l=(0,M.Z)(s);try{for(l.s();!(i=l.n()).done;){var c=i.value;u.index++;var f=t(c,u),d=V(f);if(!f)throw new Error("Icon is missing.");if(!f.url)throw new Error("Icon url is missing.");o[d]||n[d]&&f.url===n[d].url||(o[d]=(0,r.Z)((0,r.Z)({},f),{},{source:c,sourceIndex:u.index}))}}catch(h){l.e(h)}finally{l.f()}return o}(e,t,this._mapping)||{});if(n.length>0){var i=function(e){for(var t,n=e.icons,r=e.buffer,i=e.mapping,o=void 0===i?{}:i,a=e.xOffset,s=void 0===a?0:a,u=e.yOffset,l=void 0===u?0:u,c=e.rowHeight,f=void 0===c?0:c,d=e.canvasWidth,h=[],p=0;p<n.length;p++){var v=n[p];if(!o[V(v)]){var g=v.height,y=v.width;s+y+r>d&&(G(o,h,l),s=0,l=f+l+r,f=0,h=[]),h.push({icon:v,xOffset:s}),s=s+y+r,f=Math.max(f,g)}}return h.length>0&&G(o,h,l),{mapping:o,rowHeight:f,xOffset:s,yOffset:l,canvasWidth:d,canvasHeight:(t=f+l+r,Math.pow(2,Math.ceil(Math.log2(t))))}}({icons:n,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset}),o=i.mapping,a=i.xOffset,s=i.yOffset,u=i.rowHeight,l=i.canvasHeight;this._rowHeight=u,this._mapping=o,this._xOffset=a,this._yOffset=s,this._canvasHeight=l,this._texture||(this._texture=new F.Z(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:this._textureParameters||U})),this._texture.height!==this._canvasHeight&&(this._texture=function(e,t,n){var r=e.width,i=e.height,o=(0,I.h)(e,{width:t,height:n});return(0,N.Lv)(e,o,{targetY:0,width:r,height:i}),e.delete(),o}(this._texture,this._canvasWidth,this._canvasHeight)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(n)}}}},{key:"_loadIcons",value:function(e){var t,n=this,r=this._canvas.getContext("2d"),i=(0,M.Z)(e);try{var o=function(){var e=t.value;n._pendingCount++,(0,D.z)(e.url,j.S,n._loadOptions).then((function(t){var i=V(e),o=n._mapping[i],a=o.x,s=o.y,u=o.width,l=o.height,c=function(e,t,n,r){return n===t.width&&r===t.height?t:(e.canvas.height=r,e.canvas.width=n,e.clearRect(0,0,e.canvas.width,e.canvas.height),e.drawImage(t,0,0,t.width,t.height,0,0,n,r),e.canvas)}(r,t,u,l);n._texture.setSubImageData({data:c,x:a,y:s,width:u,height:l}),n._texture.generateMipmap(),n.onUpdate()})).catch((function(t){n.onError({url:e.url,source:e.source,sourceIndex:e.sourceIndex,loadOptions:n._loadOptions,error:t})})).finally((function(){n._pendingCount--}))};for(i.s();!(t=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}}]),e}(),H=[0,0,0,255],X={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:function(e){return e.position}},getIcon:{type:"accessor",value:function(e){return e.icon}},getColor:{type:"accessor",value:H},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,compare:!1,optional:!0}},Y=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,f.Z)((0,a.Z)(e),"state",void 0),e}return(0,o.Z)(n,[{key:"getShaders",value:function(){return(0,s.Z)((0,u.Z)(n.prototype),"getShaders",this).call(this,{vs:'#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\nuniform int sizeUnits;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  // convert size in meters to pixels, then scaled and clamp\n \n  // project meters to pixels and clamp to limits \n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), \n    sizeMinPixels, sizeMaxPixels\n  );\n\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n',fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // if colorMode == 0, use pixel color from the texture\n  // if colorMode == 1 or rendering picking buffer, use texture as transparency mask\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  // Take the global opacity and the alpha from vColor into account for the alpha component\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[d.Z,h.Z]})}},{key:"initializeState",value:function(){this.state={iconManager:new W(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:H},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}},{key:"updateState",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"updateState",this).call(this,e);var t=e.props,r=e.oldProps,i=e.changeFlags,o=this.getAttributeManager(),a=t.iconAtlas,l=t.iconMapping,c=t.data,f=t.getIcon,d=t.textureParameters,h=this.state.iconManager,p=a||this.internalState.isAsyncPropLoading("iconAtlas");if(h.setProps({loadOptions:t.loadOptions,autoPacking:!p,iconAtlas:a,iconMapping:p?l:null,textureParameters:d}),p?r.iconMapping!==t.iconMapping&&o.invalidate("getIcon"):(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getIcon))&&h.packIcons(c,f),i.extensionsChanged){var v,g=this.context.gl;null===(v=this.state.model)||void 0===v||v.delete(),this.state.model=this._getModel(g),o.invalidateAll()}}},{key:"isLoaded",get:function(){return(0,s.Z)((0,u.Z)(n.prototype),"isLoaded",this)&&this.state.iconManager.isLoaded}},{key:"finalizeState",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"finalizeState",this).call(this,e),this.state.iconManager.finalize()}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.sizeScale,i=n.sizeMinPixels,o=n.sizeMaxPixels,a=n.sizeUnits,s=n.billboard,u=n.alphaCutoff,l=this.state.iconManager.getTexture();l&&this.state.model.setUniforms(t).setUniforms({iconsTexture:l,iconsTextureDim:[l.width,l.height],sizeUnits:p.iI[a],sizeScale:r,sizeMinPixels:i,sizeMaxPixels:o,billboard:s,alphaCutoff:u}).draw()}},{key:"_getModel",value:function(e){return new g.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new y.Z({drawMode:6,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0}))}},{key:"_onUpdate",value:function(){this.setNeedsRedraw()}},{key:"_onError",value:function(e){var t,n=null===(t=this.getCurrentLayer())||void 0===t?void 0:t.props.onIconError;n?n(e):R.Z.error(e.error.message)()}},{key:"getInstanceOffset",value:function(e){var t=this.state.iconManager.getIconMapping(e),n=t.width,r=t.height,i=t.anchorX,o=void 0===i?n/2:i,a=t.anchorY;return[n/2-o,r/2-(void 0===a?r/2:a)]}},{key:"getInstanceColorMode",value:function(e){return this.state.iconManager.getIconMapping(e).mask?1:0}},{key:"getInstanceIconFrame",value:function(e){var t=this.state.iconManager.getIconMapping(e);return[t.x,t.y,t.width,t.height]}}]),n}(v.Z);(0,f.Z)(Y,"defaultProps",X),(0,f.Z)(Y,"layerName","IconLayer");var K={getSourcePosition:{type:"accessor",value:function(e){return e.sourcePosition}},getTargetPosition:{type:"accessor",value:function(e){return e.targetPosition}},getColor:{type:"accessor",value:[0,0,0,255]},getWidth:{type:"accessor",value:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}},q=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"getShaders",value:function(){return(0,s.Z)((0,u.Z)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME line-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceTargetPositions;\nattribute vec3 instanceSourcePositions64Low;\nattribute vec3 instanceTargetPositions64Low;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\n\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float useShortestPath;\nuniform int widthUnits;\n\nvarying vec4 vColor;\nvarying vec2 uv;\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  return dir_screenspace * offset_direction * width / 2.0;\n}\n\nvec3 splitLine(vec3 a, vec3 b, float x) {\n  float t = (x - a.x) / (b.x - a.x);\n  return vec3(x, mix(a.yz, b.yz, t));\n}\n\nvoid main(void) {\n  geometry.worldPosition = instanceSourcePositions;\n  geometry.worldPositionAlt = instanceTargetPositions;\n\n  vec3 source_world = instanceSourcePositions;\n  vec3 target_world = instanceTargetPositions;\n  vec3 source_world_64low = instanceSourcePositions64Low;\n  vec3 target_world_64low = instanceTargetPositions64Low;\n\n  if (useShortestPath > 0.5 || useShortestPath < -0.5) {\n    source_world.x = mod(source_world.x + 180., 360.0) - 180.;\n    target_world.x = mod(target_world.x + 180., 360.0) - 180.;\n    float deltaLng = target_world.x - source_world.x;\n\n    if (deltaLng * useShortestPath > 180.) {\n      source_world.x += 360. * useShortestPath;\n      source_world = splitLine(source_world, target_world, 180. * useShortestPath);\n      source_world_64low = vec3(0.0);\n    } else if (deltaLng * useShortestPath < -180.) {\n      target_world.x += 360. * useShortestPath;\n      target_world = splitLine(source_world, target_world, 180. * useShortestPath);\n      target_world_64low = vec3(0.0);\n    } else if (useShortestPath < 0.) {\n      // Line is not split, abort\n      gl_Position = vec4(0.);\n      return;\n    }\n  }\n\n  // Position\n  vec4 source_commonspace;\n  vec4 target_commonspace;\n  vec4 source = project_position_to_clipspace(source_world, source_world_64low, vec3(0.), source_commonspace);\n  vec4 target = project_position_to_clipspace(target_world, target_world_64low, vec3(0.), target_commonspace);\n  \n  // linear interpolation of source & target to pick right coord\n  float segmentIndex = positions.x;\n  vec4 p = mix(source, target, segmentIndex);\n  geometry.position = mix(source_commonspace, target_commonspace, segmentIndex);\n  uv = positions.xy;\n  geometry.uv = uv;\n  geometry.pickingColor = instancePickingColors;\n\n  // Multiply out width and clamp to limits\n  float widthPixels = clamp(\n    project_size_to_pixel(instanceWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels\n  );\n\n  // extrude\n  vec3 offset = vec3(\n    getExtrusionOffset(target.xy - source.xy, positions.y, widthPixels),\n    0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  gl_Position = p + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Color\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME line-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[d.Z,h.Z]})}},{key:"wrapLongitude",get:function(){return!1}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1}})}},{key:"updateState",value:function(e){if((0,s.Z)((0,u.Z)(n.prototype),"updateState",this).call(this,e),e.changeFlags.extensionsChanged){var t,r=this.context.gl;null===(t=this.state.model)||void 0===t||t.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.widthUnits,i=n.widthScale,o=n.widthMinPixels,a=n.widthMaxPixels,s=n.wrapLongitude;this.state.model.setUniforms(t).setUniforms({widthUnits:p.iI[r],widthScale:i,widthMinPixels:o,widthMaxPixels:a,useShortestPath:s?1:0}).draw(),s&&this.state.model.setUniforms({useShortestPath:-1}).draw()}},{key:"_getModel",value:function(e){return new g.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new y.Z({drawMode:5,attributes:{positions:new Float32Array([0,-1,0,0,1,0,1,-1,0,1,1,0])}}),isInstanced:!0}))}}]),n}(v.Z);(0,f.Z)(q,"layerName","LineLayer"),(0,f.Z)(q,"defaultProps",K);var Q=n(9861),$=[0,0,0,255],J=[0,0,1],ee={sizeUnits:"pixels",pointSize:{type:"number",min:0,value:10},getPosition:{type:"accessor",value:function(e){return e.position}},getNormal:{type:"accessor",value:J},getColor:{type:"accessor",value:$},material:!0,radiusPixels:{deprecatedFor:"pointSize"}};var te=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"getShaders",value:function(){return(0,s.Z)((0,u.Z)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME point-cloud-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceNormals;\nattribute vec4 instanceColors;\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusPixels;\nuniform int sizeUnits;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.normal = project_normal(instanceNormals);\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  // Find the center of the point and add the current vertex\n  vec3 offset = vec3(positions.xy * project_size_to_pixel(radiusPixels, sizeUnits), 0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.), geometry.position);\n  gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply lighting\n  vec3 lightColor = lighting_getLightColor(instanceColors.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\n\n  // Apply opacity to instance color, or return instance picking color\n  vColor = vec4(lightColor, instanceColors.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME point-cloud-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[d.Z,Q.N,h.Z]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceNormals:{size:3,transition:!0,accessor:"getNormal",defaultValue:J},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:$}})}},{key:"updateState",value:function(e){var t=e.changeFlags,r=e.props;if((0,s.Z)((0,u.Z)(n.prototype),"updateState",this).call(this,e),t.extensionsChanged){var i,o=this.context.gl;null===(i=this.state.model)||void 0===i||i.delete(),this.state.model=this._getModel(o),this.getAttributeManager().invalidateAll()}t.dataChanged&&function(e){var t=e.header,n=e.attributes;t&&n&&(e.length=t.vertexCount,n.POSITION&&(n.instancePositions=n.POSITION),n.NORMAL&&(n.instanceNormals=n.NORMAL),n.COLOR_0&&(n.instanceColors=n.COLOR_0))}(r.data)}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.pointSize,i=n.sizeUnits;this.state.model.setUniforms(t).setUniforms({sizeUnits:p.iI[i],radiusPixels:r}).draw()}},{key:"_getModel",value:function(e){for(var t=[],n=0;n<3;n++){var i=n/3*Math.PI*2;t.push(2*Math.cos(i),2*Math.sin(i),0)}return new g.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new y.Z({drawMode:4,attributes:{positions:new Float32Array(t)}}),isInstanced:!0}))}}]),n}(v.Z);(0,f.Z)(te,"layerName","PointCloudLayer"),(0,f.Z)(te,"defaultProps",ee);var ne=[0,0,0,255],re={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:function(e){return e.position}},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:ne},getLineColor:{type:"accessor",value:ne},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}},ie=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"getShaders",value:function(){return(0,s.Z)((0,u.Z)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\nuniform bool antialiasing;\nuniform bool billboard;\nuniform int radiusUnits;\nuniform int lineWidthUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n\n  // Multiply out radius and clamp to limits\n  outerRadiusPixels = clamp(\n    project_size_to_pixel(radiusScale * instanceRadius, radiusUnits),\n    radiusMinPixels, radiusMaxPixels\n  );\n  \n  // Multiply out line width and clamp to limits\n  float lineWidthPixels = clamp(\n    project_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),\n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n\n  // outer radius needs to offset by half stroke width\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\n\n  // Expand geometry to accomodate edge smoothing\n  float edgePadding = antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = edgePadding * positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\n  \n  if (billboard) {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = edgePadding * positions * outerRadiusPixels;\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\n  }\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME scatterplot-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool filled;\nuniform float stroked;\nuniform bool antialiasing;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\n  float inCircle = antialiasing ? \n    smoothedge(distToCenter, outerRadiusPixels) : \n    step(distToCenter, outerRadiusPixels);\n\n  if (inCircle == 0.0) {\n    discard;\n  }\n\n  if (stroked > 0.5) {\n    float isLine = antialiasing ? \n      smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :\n      step(innerUnitRadius * outerRadiusPixels, distToCenter);\n\n    if (filled) {\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\n    } else {\n      if (isLine == 0.0) {\n        discard;\n      }\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n    }\n  } else if (filled) {\n    gl_FragColor = vFillColor;\n  } else {\n    discard;\n  }\n\n  gl_FragColor.a *= inCircle;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[d.Z,h.Z]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}},{key:"updateState",value:function(e){if((0,s.Z)((0,u.Z)(n.prototype),"updateState",this).call(this,e),e.changeFlags.extensionsChanged){var t,r=this.context.gl;null===(t=this.state.model)||void 0===t||t.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.radiusUnits,i=n.radiusScale,o=n.radiusMinPixels,a=n.radiusMaxPixels,s=n.stroked,u=n.filled,l=n.billboard,c=n.antialiasing,f=n.lineWidthUnits,d=n.lineWidthScale,h=n.lineWidthMinPixels,v=n.lineWidthMaxPixels;this.state.model.setUniforms(t).setUniforms({stroked:s?1:0,filled:u,billboard:l,antialiasing:c,radiusUnits:p.iI[r],radiusScale:i,radiusMinPixels:o,radiusMaxPixels:a,lineWidthUnits:p.iI[f],lineWidthScale:d,lineWidthMinPixels:h,lineWidthMaxPixels:v}).draw()}},{key:"_getModel",value:function(e){return new g.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new y.Z({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0])}}}),isInstanced:!0}))}}]),n}(v.Z);(0,f.Z)(ie,"defaultProps",re),(0,f.Z)(ie,"layerName","ScatterplotLayer");var oe=n(8767),ae=n(3670),se=n(109),ue=n(1813),le=1,ce=-1;function fe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=de(e,n);return r!==t&&(pe(e,n),!0)}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Math.sign(he(e,t))}function he(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.start,r=void 0===n?0:n,i=t.end,o=void 0===i?e.length:i,a=t.size||2,s=0,u=r,l=o-a;u<o;u+=a)s+=(e[u]-e[l])*(e[u+1]+e[l+1]),l=u;return s/2}function pe(e,t){for(var n=t.start,r=void 0===n?0:n,i=t.end,o=void 0===i?e.length:i,a=t.size,s=void 0===a?2:a,u=(o-r)/s,l=Math.floor(u/2),c=0;c<l;++c)for(var f=r+c*s,d=r+(u-1-c)*s,h=0;h<s;++h){var p=e[f+h];e[f+h]=e[d+h],e[d+h]=p}}function ve(e,t,n,r){var i,o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(8&n)i=(r[3]-e[1])/(t[1]-e[1]),o=3;else if(4&n)i=(r[1]-e[1])/(t[1]-e[1]),o=1;else if(2&n)i=(r[2]-e[0])/(t[0]-e[0]),o=2;else{if(!(1&n))return null;i=(r[0]-e[0])/(t[0]-e[0]),o=0}for(var s=0;s<e.length;s++)a[s]=(1&o)===s?r[o]:i*(t[s]-e[s])+e[s];return a}function ge(e,t){var n=0;return e[0]<t[0]?n|=1:e[0]>t[2]&&(n|=2),e[1]<t[1]?n|=4:e[1]>t[3]&&(n|=8),n}function ye(e,t){var n=t.length,r=e.length;if(r>0){for(var i=!0,o=0;o<n;o++)if(e[r-n+o]!==t[o]){i=!1;break}if(i)return!1}for(var a=0;a<n;a++)e[r+a]=t[a];return!0}function me(e,t){for(var n=t.length,r=0;r<n;r++)e[r]=t[r]}function be(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=r+t*n,a=0;a<n;a++)i[a]=e[o+a];return i}function _e(e,t){var n,r,i=t||{},o=i.size,a=void 0===o?2:o,s=i.broken,u=void 0!==s&&s,l=i.gridResolution,c=void 0===l?10:l,f=i.gridOffset,d=void 0===f?[0,0]:f,h=i.startIndex,p=void 0===h?0:h,v=i.endIndex,g=((void 0===v?e.length:v)-p)/a,y=[],m=[y],b=be(e,0,a,p),_=Ee(b,c,d,[]),w=[];ye(y,b);for(var x=1;x<g;x++){for(r=ge(n=be(e,x,a,p,n),_);r;){ve(b,n,r,_,w);var k=ge(w,_);k&&(ve(b,w,k,_,w),r=k),ye(y,w),me(b,w),Se(_,c,r),u&&y.length>a&&(y=[],m.push(y),ye(y,b)),r=ge(n,_)}ye(y,n),me(b,n)}return u?m:m[0]}function we(e,t){for(var n=0;n<t.length;n++)e.push(t[n]);return e}function xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;if(!e.length)return[];for(var r=n||{},i=r.size,o=void 0===i?2:i,a=r.gridResolution,s=void 0===a?10:a,u=r.gridOffset,l=void 0===u?[0,0]:u,c=r.edgeTypes,f=void 0!==c&&c,d=[],h=[{pos:e,types:f?new Array(e.length/o).fill(1):null,holes:t||[]}],p=[[],[]],v=[];h.length;){var g=h.shift(),y=g.pos,m=g.types,b=g.holes;Te(y,o,b[0]||y.length,p),v=Ee(p[0],s,l,v);var _=ge(p[1],v);if(_){var w=ke(y,m,o,0,b[0]||y.length,v,_),x={pos:w[0].pos,types:w[0].types,holes:[]},k={pos:w[1].pos,types:w[1].types,holes:[]};h.push(x,k);for(var E=0;E<b.length;E++)(w=ke(y,m,o,b[E],b[E+1]||y.length,v,_))[0]&&(x.holes.push(x.pos.length),x.pos=we(x.pos,w[0].pos),f&&(x.types=we(x.types,w[0].types))),w[1]&&(k.holes.push(k.pos.length),k.pos=we(k.pos,w[1].pos),f&&(k.types=we(k.types,w[1].types)))}else{var S={positions:y};f&&(S.edgeTypes=m),b.length&&(S.holeIndices=b),d.push(S)}}return d}function ke(e,t,n,r,i,o,a){for(var s,u,l,c=(i-r)/n,f=[],d=[],h=[],p=[],v=[],g=be(e,c-1,n,r),y=Math.sign(8&a?g[1]-o[3]:g[0]-o[2]),m=t&&t[c-1],b=0,_=0,w=0;w<c;w++)s=be(e,w,n,r,s),u=Math.sign(8&a?s[1]-o[3]:s[0]-o[2]),l=t&&t[r/n+w],u&&y&&y!==u&&(ve(g,s,a,o,v),ye(f,v)&&h.push(m),ye(d,v)&&p.push(m)),u<=0?(ye(f,s)&&h.push(l),b-=u):h.length&&(h[h.length-1]=0),u>=0?(ye(d,s)&&p.push(l),_+=u):p.length&&(p[p.length-1]=0),me(g,s),y=u,m=l;return[b?{pos:f,types:t&&h}:null,_?{pos:d,types:t&&p}:null]}function Ee(e,t,n,r){var i=Math.floor((e[0]-n[0])/t)*t+n[0],o=Math.floor((e[1]-n[1])/t)*t+n[1];return r[0]=i,r[1]=o,r[2]=i+t,r[3]=o+t,r}function Se(e,t,n){8&n?(e[1]+=t,e[3]+=t):4&n?(e[1]-=t,e[3]-=t):2&n?(e[0]+=t,e[2]+=t):1&n&&(e[0]-=t,e[2]-=t)}function Te(e,t,n,r){for(var i=1/0,o=-1/0,a=1/0,s=-1/0,u=0;u<n;u+=t){var l=e[u],c=e[u+1];i=l<i?l:i,o=l>o?l:o,a=c<a?c:a,s=c>s?c:s}return r[0][0]=i,r[0][1]=a,r[1][0]=o,r[1][1]=s,r}var Pe=85.051129;function Ae(e,t,n,r){for(var i=-1,o=-1,a=n+1;a<r;a+=t){var s=Math.abs(e[a]);s>i&&(i=s,o=a-1)}return o}function Ce(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pe,o=e[n],a=e[r-t];if(Math.abs(o-a)>180){var s=be(e,0,t,n);s[0]+=360*Math.round((a-o)/360),ye(e,s),s[1]=Math.sign(s[1])*i,ye(e,s),s[0]=o,ye(e,s)}}function Ze(e,t,n,r){for(var i,o=e[0],a=n;a<r;a+=t){var s=(i=e[a])-o;(s>180||s<-180)&&(i-=360*Math.round(s/360)),e[a]=o=i}}function Oe(e,t){for(var n,r=e.length/t,i=0;i<r&&((n=e[i*t])+180)%360===0;i++);var o=360*-Math.round(n/360);if(0!==o)for(var a=0;a<r;a++)e[a*t]+=o}var Le=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){(0,i.Z)(this,n);var o=e.id,a=void 0===o?(0,ue.hQ)("column-geometry"):o,s=function(e){var t=e.radius,n=e.height,r=void 0===n?1:n,i=e.nradial,o=void 0===i?10:i,a=e.vertices;a&&(R.Z.assert(a.length>=o),a=a.flatMap((function(e){return[e[0],e[1]]})),fe(a,ce));var s=r>0,u=o+1,l=s?3*u+1:o,c=2*Math.PI/o,f=new Uint16Array(s?3*o*2:0),d=new Float32Array(3*l),h=new Float32Array(3*l),p=0;if(s){for(var v=0;v<u;v++)for(var g=v*c,y=v%o,m=Math.sin(g),b=Math.cos(g),_=0;_<2;_++)d[p+0]=a?a[2*y]:b*t,d[p+1]=a?a[2*y+1]:m*t,d[p+2]=(.5-_)*r,h[p+0]=a?a[2*y]:b,h[p+1]=a?a[2*y+1]:m,p+=3;d[p+0]=d[p-3],d[p+1]=d[p-2],d[p+2]=d[p-1],p+=3}for(var w=s?0:1;w<u;w++){var x=Math.floor(w/2)*Math.sign(.5-w%2),k=x*c,E=(x+o)%o,S=Math.sin(k),T=Math.cos(k);d[p+0]=a?a[2*E]:T*t,d[p+1]=a?a[2*E+1]:S*t,d[p+2]=r/2,h[p+2]=1,p+=3}if(s)for(var P=0,A=0;A<o;A++)f[P++]=2*A+0,f[P++]=2*A+2,f[P++]=2*A+0,f[P++]=2*A+1,f[P++]=2*A+1,f[P++]=2*A+3;return{indices:f,attributes:{POSITION:{size:3,value:d},NORMAL:{size:3,value:h}}}}(e),u=s.indices,l=s.attributes;return t.call(this,(0,r.Z)((0,r.Z)({},e),{},{id:a,indices:u,attributes:l}))}return(0,o.Z)(n)}(y.Z);var Re=[0,0,0,255],Me={diskResolution:{type:"number",min:4,value:20},vertices:null,radius:{type:"number",min:0,value:1e3},angle:{type:"number",value:0},offset:{type:"array",value:[0,0]},coverage:{type:"number",min:0,max:1,value:1},elevationScale:{type:"number",min:0,value:1},radiusUnits:"meters",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,extruded:!0,wireframe:!1,filled:!0,stroked:!1,getPosition:{type:"accessor",value:function(e){return e.position}},getFillColor:{type:"accessor",value:Re},getLineColor:{type:"accessor",value:Re},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0,getColor:{deprecatedFor:["getFillColor","getLineColor"]}},Ie=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"getShaders",value:function(){var e=this.context.gl,t=!(0,oe.D0)(e),r={},i=this.props.flatShading&&(0,ae.U6)(e,se.h.GLSL_DERIVATIVES);return i&&(r.FLAT_SHADING=1),(0,s.Z)((0,u.Z)(n.prototype),"getShaders",this).call(this,{vs:"#version 300 es\n\n#define SHADER_NAME column-layer-vertex-shader\n\nin vec3 positions;\nin vec3 normals;\n\nin vec3 instancePositions;\nin float instanceElevations;\nin vec3 instancePositions64Low;\nin vec4 instanceFillColors;\nin vec4 instanceLineColors;\nin float instanceStrokeWidths;\n\nin vec3 instancePickingColors;\n\n// Custom uniforms\nuniform float opacity;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform bool extruded;\nuniform bool stroked;\nuniform bool isStroke;\nuniform float coverage;\nuniform float elevationScale;\nuniform float edgeDistance;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform int radiusUnits;\nuniform int widthUnits;\n\n// Result\nout vec4 vColor;\n#ifdef FLAT_SHADING\nout vec4 position_commonspace;\n#endif\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n\n  vec4 color = isStroke ? instanceLineColors : instanceFillColors;\n  // rotate primitive position and normal\n  mat2 rotationMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n\n  // calculate elevation, if 3d not enabled set to 0\n  // cylindar gemoetry height are between -1.0 to 1.0, transform it to between 0, 1\n  float elevation = 0.0;\n  // calculate stroke offset\n  float strokeOffsetRatio = 1.0;\n\n  if (extruded) {\n    elevation = instanceElevations * (positions.z + 1.0) / 2.0 * elevationScale;\n  } else if (stroked) {\n    float widthPixels = clamp(\n      project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n      widthMinPixels, widthMaxPixels) / 2.0;\n    float halfOffset = project_pixel_size(widthPixels) / project_size(edgeDistance * coverage * radius);\n    if (isStroke) {\n      strokeOffsetRatio -= sign(positions.z) * halfOffset;\n    } else {\n      strokeOffsetRatio -= halfOffset;\n    }\n  }\n\n  // if alpha == 0.0 or z < 0.0, do not render element\n  float shouldRender = float(color.a > 0.0 && instanceElevations >= 0.0);\n  float dotRadius = radius * coverage * shouldRender;\n\n  geometry.pickingColor = instancePickingColors;\n\n  // project center of column\n  vec3 centroidPosition = vec3(instancePositions.xy, instancePositions.z + elevation);\n  vec3 centroidPosition64Low = instancePositions64Low;\n  vec2 offset = (rotationMatrix * positions.xy * strokeOffsetRatio + offset) * dotRadius;\n  if (radiusUnits == UNIT_METERS) {\n    offset = project_size(offset);\n  }\n  vec3 pos = vec3(offset, 0.);\n  DECKGL_FILTER_SIZE(pos, geometry);\n\n  gl_Position = project_position_to_clipspace(centroidPosition, centroidPosition64Low, pos, geometry.position);\n  geometry.normal = project_normal(vec3(rotationMatrix * normals.xy, normals.z));\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Light calculations\n  if (extruded && !isStroke) {\n#ifdef FLAT_SHADING\n    position_commonspace = geometry.position;\n    vColor = vec4(color.rgb, color.a * opacity);\n#else\n    vec3 lightColor = lighting_getLightColor(color.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\n    vColor = vec4(lightColor, color.a * opacity);\n#endif\n  } else {\n    vColor = vec4(color.rgb, color.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME column-layer-fragment-shader\n\nprecision highp float;\n\nuniform vec3 project_uCameraPosition;\nuniform bool extruded;\nuniform bool isStroke;\n\nout vec4 fragColor;\n\nin vec4 vColor;\n#ifdef FLAT_SHADING\nin vec4 position_commonspace;\n#endif\n\nvoid main(void) {\n  fragColor = vColor;\n#ifdef FLAT_SHADING\n  if (extruded && !isStroke && !picking_uActive) {\n    vec3 normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n    fragColor.rgb = lighting_getLightColor(vColor.rgb, project_uCameraPosition, position_commonspace.xyz, normal);\n  }\n#endif\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",defines:r,transpileToGLSL100:t,modules:[d.Z,i?Q.s:Q.N,h.Z]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceElevations:{size:1,transition:!0,accessor:"getElevation"},instanceFillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getFillColor",defaultValue:Re},instanceLineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getLineColor",defaultValue:Re},instanceStrokeWidths:{size:1,accessor:"getLineWidth",transition:!0}})}},{key:"updateState",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"updateState",this).call(this,e);var t=e.props,r=e.oldProps,i=e.changeFlags.extensionsChanged||t.flatShading!==r.flatShading;if(i){var o,a=this.context.gl;null===(o=this.state.model)||void 0===o||o.delete(),this.state.model=this._getModel(a),this.getAttributeManager().invalidateAll()}(i||t.diskResolution!==r.diskResolution||t.vertices!==r.vertices||(t.extruded||t.stroked)!==(r.extruded||r.stroked))&&this._updateGeometry(t)}},{key:"getGeometry",value:function(e,t,n){var r=new Le({radius:1,height:n?2:0,vertices:t,nradial:e}),i=0;if(t)for(var o=0;o<e;o++){var a=t[o];i+=Math.sqrt(a[0]*a[0]+a[1]*a[1])/e}else i=1;return this.setState({edgeDistance:Math.cos(Math.PI/e)*i}),r}},{key:"_getModel",value:function(e){return new g.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders()),{},{id:this.props.id,isInstanced:!0}))}},{key:"_updateGeometry",value:function(e){var t=e.diskResolution,n=e.vertices,r=e.extruded,i=e.stroked,o=this.getGeometry(t,n,r||i);this.setState({fillVertexCount:o.attributes.POSITION.value.length/3,wireframeVertexCount:o.indices.value.length}),this.state.model.setProps({geometry:o})}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.lineWidthUnits,i=n.lineWidthScale,o=n.lineWidthMinPixels,a=n.lineWidthMaxPixels,s=n.radiusUnits,u=n.elevationScale,l=n.extruded,c=n.filled,f=n.stroked,d=n.wireframe,h=n.offset,v=n.coverage,g=n.radius,y=n.angle,m=this.state,b=m.model,_=m.fillVertexCount,w=m.wireframeVertexCount,x=m.edgeDistance;b.setUniforms(t).setUniforms({radius:g,angle:y/180*Math.PI,offset:h,extruded:l,stroked:f,coverage:v,elevationScale:u,edgeDistance:x,radiusUnits:p.iI[s],widthUnits:p.iI[r],widthScale:i,widthMinPixels:o,widthMaxPixels:a}),l&&d&&(b.setProps({isIndexed:!0}),b.setVertexCount(w).setDrawMode(1).setUniforms({isStroke:!0}).draw()),c&&(b.setProps({isIndexed:!1}),b.setVertexCount(_).setDrawMode(5).setUniforms({isStroke:!1}).draw()),!l&&f&&(b.setProps({isIndexed:!1}),b.setVertexCount(2*_/3).setDrawMode(5).setUniforms({isStroke:!0}).draw())}}]),n}(v.Z);(0,f.Z)(Ie,"layerName","ColumnLayer"),(0,f.Z)(Ie,"defaultProps",Me);var Ne=n(6139),Fe=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"getGeometry",value:function(e){return new Ne.Z}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.elevationScale,i=n.extruded,o=n.offset,a=n.coverage,s=n.cellSize,u=n.angle,l=n.radiusUnits;this.state.model.setUniforms(t).setUniforms({radius:s/2,radiusUnits:p.iI[l],angle:u,offset:o,extruded:i,coverage:a,elevationScale:r,edgeDistance:1,isWireframe:!1}).draw()}}]),n}(Ie);(0,f.Z)(Fe,"layerName","GridCellLayer"),(0,f.Z)(Fe,"defaultProps",{cellSize:{type:"number",min:0,value:1e3},offset:{type:"array",value:[1,1]}});var je=n(9990);function De(e,t,n,r){var i;if(Array.isArray(e[0])){var o=e.length*t;i=new Array(o);for(var a=0;a<e.length;a++)for(var s=0;s<t;s++)i[a*t+s]=e[a][s]||0}else i=e;return n?_e(i,{size:t,gridResolution:n}):r?function(e,t){var n=t||{},r=n.size,i=void 0===r?2:r,o=n.startIndex,a=void 0===o?0:o,s=n.endIndex,u=void 0===s?e.length:s,l=n.normalize,c=void 0===l||l,f=e.slice(a,u);Ze(f,i,0,u-a);var d=_e(f,{size:i,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(c){var h,p=(0,M.Z)(d);try{for(p.s();!(h=p.n()).done;)Oe(h.value,i)}catch(v){p.e(v)}finally{p.f()}}return d}(i,{size:t}):i}var ze=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){return(0,i.Z)(this,n),t.call(this,(0,r.Z)((0,r.Z)({},e),{},{attributes:{positions:{size:3,padding:18,initialize:!0,type:e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}}))}return(0,o.Z)(n,[{key:"get",value:function(e){return this.attributes[e]}},{key:"getGeometryFromBuffer",value:function(e){return this.normalize?(0,s.Z)((0,u.Z)(n.prototype),"getGeometryFromBuffer",this).call(this,e):null}},{key:"normalizeGeometry",value:function(e){return this.normalize?De(e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):e}},{key:"getGeometrySize",value:function(e){if(Be(e)){var t,n=0,r=(0,M.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=this.getGeometrySize(i)}}catch(a){r.e(a)}finally{r.f()}return n}var o=this.getPathLength(e);return o<2?0:this.isClosed(e)?o<3?0:o+2:o}},{key:"updateGeometryAttributes",value:function(e,t){if(0!==t.geometrySize)if(e&&Be(e)){var n,r=(0,M.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.getGeometrySize(i);t.geometrySize=o,this.updateGeometryAttributes(i,t),t.vertexStart+=o}}catch(a){r.e(a)}finally{r.f()}}else this._updateSegmentTypes(e,t),this._updatePositions(e,t)}},{key:"_updateSegmentTypes",value:function(e,t){var n=this.attributes.segmentTypes,r=!!e&&this.isClosed(e),i=t.vertexStart,o=t.geometrySize;n.fill(0,i,i+o),r?(n[i]=4,n[i+o-2]=4):(n[i]+=1,n[i+o-2]+=2),n[i+o-1]=4}},{key:"_updatePositions",value:function(e,t){var n=this.attributes.positions;if(n&&e)for(var r=t.vertexStart,i=t.geometrySize,o=new Array(3),a=r,s=0;s<i;a++,s++)this.getPointOnPath(e,s,o),n[3*a]=o[0],n[3*a+1]=o[1],n[3*a+2]=o[2]}},{key:"getPathLength",value:function(e){return e.length/this.positionSize}},{key:"getPointOnPath",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this.positionSize;t*r>=e.length&&(t+=1-e.length/r);var i=t*r;return n[0]=e[i],n[1]=e[i+1],n[2]=3===r&&e[i+2]||0,n}},{key:"isClosed",value:function(e){if(!this.normalize)return Boolean(this.opts.loop);var t=this.positionSize,n=e.length-t;return e[0]===e[n]&&e[1]===e[n+1]&&(2===t||e[2]===e[n+2])}}]),n}(je.Z);function Be(e){return Array.isArray(e[0])}var Ue=[0,0,0,255],Ve={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:function(e){return e.path}},getColor:{type:"accessor",value:Ue},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},Ge={enter:function(e,t){return t.length?t.subarray(t.length-e.length):e}},We=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,f.Z)((0,a.Z)(e),"state",void 0),e}return(0,o.Z)(n,[{key:"getShaders",value:function(){return(0,s.Z)((0,u.Z)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute float instanceTypes;\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftPositions;\nattribute vec3 instanceRightPositions;\nattribute vec3 instanceLeftPositions64Low;\nattribute vec3 instanceStartPositions64Low;\nattribute vec3 instanceEndPositions64Low;\nattribute vec3 instanceRightPositions64Low;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float capType;\nuniform float miterLimit;\nuniform bool billboard;\nuniform int widthUnits;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\n// calculate line join positions\nvec3 lineJoin(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  vec2 width\n) {\n  bool isEnd = positions.x > 0.0;\n  // side of the segment - -1: left, 0: center, 1: right\n  float sideOfPath = positions.y;\n  float isJoint = float(sideOfPath == 0.0);\n\n  vec3 deltaA3 = (currPoint - prevPoint);\n  vec3 deltaB3 = (nextPoint - currPoint);\n\n  mat3 rotationMatrix;\n  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\n  if (needsRotation) {\n    deltaA3 = deltaA3 * rotationMatrix;\n    deltaB3 = deltaB3 * rotationMatrix;\n  }\n  vec2 deltaA = deltaA3.xy / width;\n  vec2 deltaB = deltaB3.xy / width;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = dirA + dirB;\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // direction of the segment\n  vec2 dir = isEnd ? dirA : dirB;\n  // direction of the extrusion\n  vec2 perp = isEnd ? perpA : perpB;\n  // length of the segment\n  float L = isEnd ? lenA : lenB;\n\n  // A = angle of the corner\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n\n  // -1: right, 1: left\n  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n  float cornerPosition = sideOfPath * turnDirection;\n\n  float miterSize = 1.0 / max(sinHalfA, EPSILON);\n  // trim if inside corner extends further than the line segment\n  miterSize = mix(\n    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\n    miterSize,\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n    * (sideOfPath + isJoint * turnDirection);\n\n  // special treatment for start cap and end cap\n  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\n  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\n  bool isCap = isStartCap || isEndCap;\n\n  // extend out a triangle to envelope the round cap\n  if (isCap) {\n    offsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);\n    vJointType = capType;\n  } else {\n    vJointType = jointType;\n  }\n\n  // Generate variables for fragment shader\n  vPathLength = L;\n  vCornerOffset = offsetVec;\n  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);\n  vMiterLength = isCap ? isJoint : vMiterLength;\n\n  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\n  vPathPosition = vec2(\n    dot(offsetFromStartOfPath, perp),\n    dot(offsetFromStartOfPath, dir)\n  );\n  geometry.uv = vPathPosition;\n\n  float isValid = step(instanceTypes, 3.5);\n  vec3 offset = vec3(offsetVec * width * isValid, 0.0);\n\n  if (needsRotation) {\n    offset = rotationMatrix * offset;\n  }\n  return currPoint + offset;\n}\n\n// In clipspace extrusion, if a line extends behind the camera, clip it to avoid visual artifacts\nvoid clipLine(inout vec4 position, vec4 refPosition) {\n  if (position.w < EPSILON) {\n    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\n    position = refPosition + (position - refPosition) * r;\n  }\n}\n\nvoid main() {\n  geometry.pickingColor = instancePickingColors;\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\n  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\n\n  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\n  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\n\n  geometry.worldPosition = currPosition;\n  vec2 widthPixels = vec2(clamp(\n    project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels) / 2.0);\n  vec3 width;\n\n  if (billboard) {\n    // Extrude in clipspace\n    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\n    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\n    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\n\n    clipLine(prevPositionScreen, currPositionScreen);\n    clipLine(nextPositionScreen, currPositionScreen);\n    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\n\n    width = vec3(widthPixels, 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 pos = lineJoin(\n      prevPositionScreen.xyz / prevPositionScreen.w,\n      currPositionScreen.xyz / currPositionScreen.w,\n      nextPositionScreen.xyz / nextPositionScreen.w,\n      project_pixel_size_to_clipspace(width.xy)\n    );\n\n    gl_Position = vec4(pos * currPositionScreen.w, currPositionScreen.w);\n  } else {\n    // Extrude in commonspace\n    prevPosition = project_position(prevPosition, prevPosition64Low);\n    currPosition = project_position(currPosition, currPosition64Low);\n    nextPosition = project_position(nextPosition, nextPosition64Low);\n\n    width = vec3(project_pixel_size(widthPixels), 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec4 pos = vec4(\n      lineJoin(prevPosition, currPosition, nextPosition, width.xy),\n      1.0);\n    geometry.position = pos;\n    gl_Position = project_common_position_to_clipspace(pos);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME path-layer-fragment-shader\n\nprecision highp float;\n\nuniform float miterLimit;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\n/*\n * vPathPosition represents the relative coordinates of the current fragment on the path segment.\n * vPathPosition.x - position along the width of the path, between [-1, 1]. 0 is the center line.\n * vPathPosition.y - position along the length of the path, between [0, L / width].\n */\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nvoid main(void) {\n  geometry.uv = vPathPosition;\n\n  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\n    // if joint is rounded, test distance from the corner\n    if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {\n      discard;\n    }\n    // trim miter\n    if (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {\n      discard;\n    }\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[d.Z,h.Z]})}},{key:"wrapLongitude",get:function(){return!1}},{key:"initializeState",value:function(){var e=this;this.getAttributeManager().addInstanced({positions:{size:3,vertexOffset:1,type:5130,fp64:this.use64bitPositions(),transition:Ge,accessor:"getPath",update:this.calculatePositions,noAlloc:true,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:5121,update:this.calculateSegmentTypes,noAlloc:true},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:Ge,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,accessor:"getColor",transition:Ge,defaultValue:Ue},instancePickingColors:{size:3,type:5121,accessor:function(t,n){var r=n.index,i=n.target;return e.encodePickingColor(t&&t.__source?t.__source.index:r,i)}}}),this.setState({pathTesselator:new ze({fp64:this.use64bitPositions()})})}},{key:"updateState",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"updateState",this).call(this,e);var t=e.props,r=e.changeFlags,i=this.getAttributeManager();if(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getPath)){var o=this.state.pathTesselator,a=t.data.attributes||{};o.updateGeometry({data:t.data,geometryBuffer:a.getPath,buffers:a,normalize:!t._pathType,loop:"loop"===t._pathType,getGeometry:t.getPath,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:r.dataChanged}),this.setState({numInstances:o.instanceCount,startIndices:o.vertexStarts}),r.dataChanged||i.invalidateAll()}if(r.extensionsChanged){var l,c=this.context.gl;null===(l=this.state.model)||void 0===l||l.delete(),this.state.model=this._getModel(c),i.invalidateAll()}}},{key:"getPickingInfo",value:function(e){var t=(0,s.Z)((0,u.Z)(n.prototype),"getPickingInfo",this).call(this,e),r=t.index,i=this.props.data;return i[0]&&i[0].__source&&(t.object=i.find((function(e){return e.__source.index===r}))),t}},{key:"disablePickingIndex",value:function(e){var t=this.props.data;if(t[0]&&t[0].__source)for(var n=0;n<t.length;n++)t[n].__source.index===e&&this._disablePickingIndex(n);else this._disablePickingIndex(e)}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.jointRounded,i=n.capRounded,o=n.billboard,a=n.miterLimit,s=n.widthUnits,u=n.widthScale,l=n.widthMinPixels,c=n.widthMaxPixels;this.state.model.setUniforms(t).setUniforms({jointType:Number(r),capType:Number(i),billboard:o,widthUnits:p.iI[s],widthScale:u,miterLimit:a,widthMinPixels:l,widthMaxPixels:c}).draw()}},{key:"_getModel",value:function(e){return new g.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new y.Z({drawMode:4,attributes:{indices:new Uint16Array([0,1,2,1,4,2,1,3,4,3,5,4]),positions:{value:new Float32Array([0,0,0,-1,0,1,1,-1,1,1,1,0]),size:2}}}),isInstanced:!0}))}},{key:"calculatePositions",value:function(e){var t=this.state.pathTesselator;e.startIndices=t.vertexStarts,e.value=t.get("positions")}},{key:"calculateSegmentTypes",value:function(e){var t=this.state.pathTesselator;e.startIndices=t.vertexStarts,e.value=t.get("segmentTypes")}}]),n}(v.Z);(0,f.Z)(We,"defaultProps",Ve),(0,f.Z)(We,"layerName","PathLayer");var He=n(5237),Xe=n(7089),Ye=n.n(Xe),Ke=le,qe=ce,Qe={isClosed:!0};function $e(e){return"positions"in e?e.positions:e}function Je(e){return"holeIndices"in e?e.holeIndices:null}function et(e,t,n,r){for(var i=0;i<t;i++)if(e[n+i]!==e[r-t+i])return!1;return!0}function tt(e,t,n,r,i){for(var o=t,a=n.length,s=0;s<a;s++)for(var u=0;u<r;u++)e[o++]=n[s][u]||0;if(!function(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}(n))for(var l=0;l<r;l++)e[o++]=n[0][l]||0;return Qe.start=t,Qe.end=o,Qe.size=r,fe(e,i,Qe),o}function nt(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,s=(o=o||n.length)-i;if(s<=0)return t;for(var u=t,l=0;l<s;l++)e[u++]=n[i+l];if(!et(n,r,i,o))for(var c=0;c<r;c++)e[u++]=n[i+c];return Qe.start=t,Qe.end=u,Qe.size=r,fe(e,a,Qe),u}function rt(e,t){!function(e){if(e=e&&e.positions||e,!Array.isArray(e)&&!ArrayBuffer.isView(e))throw new Error("invalid polygon")}(e);var n=[],r=[];if("positions"in e){var i=e,o=i.positions,a=i.holeIndices;if(a){for(var s=0,u=0;u<=a.length;u++)s=nt(n,s,o,t,a[u-1],a[u],0===u?Ke:qe),r.push(s);return r.pop(),{positions:n,holeIndices:r}}e=o}if(!function(e){return Array.isArray(e[0])}(e))return nt(n,0,e,t,0,n.length,Ke),n;if(!function(e){return e.length>=1&&e[0].length>=2&&Number.isFinite(e[0][0])}(e)){var l,c=0,f=(0,M.Z)(e.entries());try{for(f.s();!(l=f.n()).done;){var d=(0,w.Z)(l.value,2),h=d[0];c=tt(n,c,d[1],t,0===h?Ke:qe),r.push(c)}}catch(p){f.e(p)}finally{f.f()}return r.pop(),{positions:n,holeIndices:r}}return tt(n,0,e,t,Ke),n}var it=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){(0,i.Z)(this,n);var o=e.fp64,a=e.IndexType,s=void 0===a?Uint32Array:a;return t.call(this,(0,r.Z)((0,r.Z)({},e),{},{attributes:{positions:{size:3,type:o?Float64Array:Float32Array},vertexValid:{type:Uint8ClampedArray,size:1},indices:{type:s,size:1}}}))}return(0,o.Z)(n,[{key:"get",value:function(e){var t=this.attributes;return"indices"===e?t.indices&&t.indices.subarray(0,this.vertexCount):t[e]}},{key:"updateGeometry",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"updateGeometry",this).call(this,e);var t=this.buffers.indices;if(t)this.vertexCount=(t.value||t).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}},{key:"normalizeGeometry",value:function(e){if(this.normalize){var t=rt(e,this.positionSize);return this.opts.resolution?xe($e(t),Je(t),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=n||{},i=r.size,o=void 0===i?2:i,a=r.normalize,s=void 0===a||a,u=r.edgeTypes,l=void 0!==u&&u;t=t||[];for(var c=[],f=[],d=0,h=0,p=0;p<=t.length;p++){for(var v=t[p]||e.length,g=h,y=Ae(e,o,d,v),m=y;m<v;m++)c[h++]=e[m];for(var b=d;b<y;b++)c[h++]=e[b];Ze(c,o,g,h),Ce(c,o,g,h,null===n||void 0===n?void 0:n.maxLatitude),d=v,f[p]=h}f.pop();var _=xe(c,f,{size:o,gridResolution:360,gridOffset:[-180,-180],edgeTypes:l});if(s){var w,x=(0,M.Z)(_);try{for(x.s();!(w=x.n()).done;){Oe(w.value.positions,o)}}catch(k){x.e(k)}finally{x.f()}}return _}($e(t),Je(t),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):t}return e}},{key:"getGeometrySize",value:function(e){if(ot(e)){var t,n=0,r=(0,M.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=this.getGeometrySize(i)}}catch(o){r.e(o)}finally{r.f()}return n}return $e(e).length/this.positionSize}},{key:"getGeometryFromBuffer",value:function(e){return this.normalize||!this.buffers.indices?(0,s.Z)((0,u.Z)(n.prototype),"getGeometryFromBuffer",this).call(this,e):null}},{key:"updateGeometryAttributes",value:function(e,t){if(e&&ot(e)){var n,r=(0,M.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.getGeometrySize(i);t.geometrySize=o,this.updateGeometryAttributes(i,t),t.vertexStart+=o,t.indexStart=this.indexStarts[t.geometryIndex+1]}}catch(a){r.e(a)}finally{r.f()}}else this._updateIndices(e,t),this._updatePositions(e,t),this._updateVertexValid(e,t)}},{key:"_updateIndices",value:function(e,t){var n=t.geometryIndex,r=t.vertexStart,i=t.indexStart,o=this.attributes,a=this.indexStarts,s=this.typedArrayManager,u=o.indices;if(u&&e){var l=i,c=function(e,t,n){var r=Je(e);r&&(r=r.map((function(e){return e/t})));var i=$e(e);if(n){var o=i.length;i=i.slice();for(var a=[],s=0;s<o;s+=t){a[0]=i[s],a[1]=i[s+1];var u=n(a);i[s]=u[0],i[s+1]=u[1]}}return Ye()(i,r,t)}(e,this.positionSize,this.opts.preproject);u=s.allocate(u,i+c.length,{copy:!0});for(var f=0;f<c.length;f++)u[l++]=c[f]+r;a[n+1]=i+c.length,o.indices=u}}},{key:"_updatePositions",value:function(e,t){var n=t.vertexStart,r=t.geometrySize,i=this.attributes.positions,o=this.positionSize;if(i&&e)for(var a=$e(e),s=n,u=0;u<r;s++,u++){var l=a[u*o],c=a[u*o+1],f=o>2?a[u*o+2]:0;i[3*s]=l,i[3*s+1]=c,i[3*s+2]=f}}},{key:"_updateVertexValid",value:function(e,t){var n=t.vertexStart,r=t.geometrySize,i=this.positionSize,o=this.attributes.vertexValid,a=e&&Je(e);if(e&&e.edgeTypes?o.set(e.edgeTypes,n):o.fill(1,n,n+r),a)for(var s=0;s<a.length;s++)o[n+a[s]/i-1]=0;o[n+r-1]=0}}]),n}(je.Z);function ot(e){return Array.isArray(e)&&e.length>0&&!Number.isFinite(e[0])}var at="\nattribute vec2 vertexPositions;\nattribute float vertexValid;\n\nuniform bool extruded;\nuniform bool isWireframe;\nuniform float elevationScale;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nstruct PolygonProps {\n  vec4 fillColors;\n  vec4 lineColors;\n  vec3 positions;\n  vec3 nextPositions;\n  vec3 pickingColors;\n  vec3 positions64Low;\n  vec3 nextPositions64Low;\n  float elevations;\n};\n\nvec3 project_offset_normal(vec3 vector) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    // normals generated by the polygon tesselator are in lnglat offsets instead of meters\n    return normalize(vector * project_uCommonUnitsPerWorldUnit);\n  }\n  return project_normal(vector);\n}\n\nvoid calculatePosition(PolygonProps props) {\n#ifdef IS_SIDE_VERTEX\n  if(vertexValid < 0.5){\n    gl_Position = vec4(0.);\n    return;\n  }\n#endif\n\n  vec3 pos;\n  vec3 pos64Low;\n  vec3 normal;\n  vec4 colors = isWireframe ? props.lineColors : props.fillColors;\n\n  geometry.worldPosition = props.positions;\n  geometry.worldPositionAlt = props.nextPositions;\n  geometry.pickingColor = props.pickingColors;\n\n#ifdef IS_SIDE_VERTEX\n  pos = mix(props.positions, props.nextPositions, vertexPositions.x);\n  pos64Low = mix(props.positions64Low, props.nextPositions64Low, vertexPositions.x);\n#else\n  pos = props.positions;\n  pos64Low = props.positions64Low;\n#endif\n\n  if (extruded) {\n    pos.z += props.elevations * vertexPositions.y * elevationScale;\n  }\n  gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  if (extruded) {\n  #ifdef IS_SIDE_VERTEX\n    normal = vec3(\n      props.positions.y - props.nextPositions.y + (props.positions64Low.y - props.nextPositions64Low.y),\n      props.nextPositions.x - props.positions.x + (props.nextPositions64Low.x - props.positions64Low.x),\n      0.0);\n    normal = project_offset_normal(normal);\n  #else\n    normal = project_normal(vec3(0.0, 0.0, 1.0));\n  #endif\n    geometry.normal = normal;\n    vec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, normal);\n    vColor = vec4(lightColor, colors.a * opacity);\n  } else {\n    vColor = vec4(colors.rgb, colors.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",st="#define SHADER_NAME solid-polygon-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 positions64Low;\nattribute float elevations;\nattribute vec4 fillColors;\nattribute vec4 lineColors;\nattribute vec3 pickingColors;\n\n".concat(at,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  props.positions = positions;\n  props.positions64Low = positions64Low;\n  props.elevations = elevations;\n  props.fillColors = fillColors;\n  props.lineColors = lineColors;\n  props.pickingColors = pickingColors;\n\n  calculatePosition(props);\n}\n"),ut="#define SHADER_NAME solid-polygon-layer-vertex-shader-side\n#define IS_SIDE_VERTEX\n\n\nattribute vec3 instancePositions;\nattribute vec3 nextPositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 nextPositions64Low;\nattribute float instanceElevations;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\n".concat(at,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  #if RING_WINDING_ORDER_CW == 1\n    props.positions = instancePositions;\n    props.positions64Low = instancePositions64Low;\n    props.nextPositions = nextPositions;\n    props.nextPositions64Low = nextPositions64Low;\n  #else\n    props.positions = nextPositions;\n    props.positions64Low = nextPositions64Low;\n    props.nextPositions = instancePositions;\n    props.nextPositions64Low = instancePositions64Low;\n  #endif\n  props.elevations = instanceElevations;\n  props.fillColors = instanceFillColors;\n  props.lineColors = instanceLineColors;\n  props.pickingColors = instancePickingColors;\n\n  calculatePosition(props);\n}\n"),lt=[0,0,0,255],ct={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:function(e){return e.polygon}},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:lt},getLineColor:{type:"accessor",value:lt},material:!0},ft={enter:function(e,t){return t.length?t.subarray(t.length-e.length):e}},dt=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,f.Z)((0,a.Z)(e),"state",void 0),e}return(0,o.Z)(n,[{key:"getShaders",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"getShaders",this).call(this,{vs:"top"===e?st:ut,fs:"#define SHADER_NAME solid-polygon-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",defines:{RING_WINDING_ORDER_CW:this.props._normalize||"CCW"!==this.props._windingOrder?1:0},modules:[d.Z,Q.N,h.Z]})}},{key:"wrapLongitude",get:function(){return!1}},{key:"initializeState",value:function(){var e=this,t=this.context,n=t.gl,r=t.viewport,i=this.props.coordinateSystem;r.isGeospatial&&i===p.Df.DEFAULT&&(i=p.Df.LNGLAT),this.setState({numInstances:0,polygonTesselator:new it({preproject:i===p.Df.LNGLAT&&r.projectFlat.bind(r),fp64:this.use64bitPositions(),IndexType:!n||(0,ae.ag)(n,se.h.ELEMENT_INDEX_UINT32)?Uint32Array:Uint16Array})});var o=this.getAttributeManager(),a=!0;o.remove(["instancePickingColors"]),o.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:a},positions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:ft,accessor:"getPolygon",update:this.calculatePositions,noAlloc:a,shaderAttributes:{positions:{vertexOffset:0,divisor:0},instancePositions:{vertexOffset:0,divisor:1},nextPositions:{vertexOffset:1,divisor:1}}},vertexValid:{size:1,divisor:1,type:5121,update:this.calculateVertexValid,noAlloc:a},elevations:{size:1,transition:ft,accessor:"getElevation",shaderAttributes:{elevations:{divisor:0},instanceElevations:{divisor:1}}},fillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:ft,accessor:"getFillColor",defaultValue:lt,shaderAttributes:{fillColors:{divisor:0},instanceFillColors:{divisor:1}}},lineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:ft,accessor:"getLineColor",defaultValue:lt,shaderAttributes:{lineColors:{divisor:0},instanceLineColors:{divisor:1}}},pickingColors:{size:3,type:5121,accessor:function(t,n){var r=n.index,i=n.target;return e.encodePickingColor(t&&t.__source?t.__source.index:r,i)},shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}},{key:"getPickingInfo",value:function(e){var t=(0,s.Z)((0,u.Z)(n.prototype),"getPickingInfo",this).call(this,e),r=t.index,i=this.props.data;return i[0]&&i[0].__source&&(t.object=i.find((function(e){return e.__source.index===r}))),t}},{key:"disablePickingIndex",value:function(e){var t=this.props.data;if(t[0]&&t[0].__source)for(var n=0;n<t.length;n++)t[n].__source.index===e&&this._disablePickingIndex(n);else this._disablePickingIndex(e)}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,i=n.extruded,o=n.filled,a=n.wireframe,s=n.elevationScale,u=this.state,l=u.topModel,c=u.sideModel,f=u.polygonTesselator,d=(0,r.Z)((0,r.Z)({},t),{},{extruded:Boolean(i),elevationScale:s});c&&(c.setInstanceCount(f.instanceCount-1),c.setUniforms(d),a&&(c.setDrawMode(3),c.setUniforms({isWireframe:!0}).draw()),o&&(c.setDrawMode(6),c.setUniforms({isWireframe:!1}).draw())),l&&(l.setVertexCount(f.vertexCount),l.setUniforms(d).draw())}},{key:"updateState",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"updateState",this).call(this,e),this.updateGeometry(e);var t,r=e.props,i=e.oldProps,o=e.changeFlags,a=this.getAttributeManager();(o.extensionsChanged||r.filled!==i.filled||r.extruded!==i.extruded)&&(null===(t=this.state.models)||void 0===t||t.forEach((function(e){return e.delete()})),this.setState(this._getModels(this.context.gl)),a.invalidateAll())}},{key:"updateGeometry",value:function(e){var t=e.props,n=(e.oldProps,e.changeFlags);if(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPolygon)){var r=this.state.polygonTesselator,i=t.data.attributes||{};r.updateGeometry({data:t.data,normalize:t._normalize,geometryBuffer:i.getPolygon,buffers:i,getGeometry:t.getPolygon,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:n.dataChanged}),this.setState({numInstances:r.instanceCount,startIndices:r.vertexStarts}),n.dataChanged||this.getAttributeManager().invalidateAll()}}},{key:"_getModels",value:function(e){var t,n,i=this.props,o=i.id,a=i.filled,s=i.extruded;if(a){var u=this.getShaders("top");u.defines.NON_INSTANCED_MODEL=1,t=new g.Z(e,(0,r.Z)((0,r.Z)({},u),{},{id:"".concat(o,"-top"),drawMode:4,attributes:{vertexPositions:new Float32Array([0,1])},uniforms:{isWireframe:!1,isSideVertex:!1},vertexCount:0,isIndexed:!0}))}return s&&((n=new g.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders("side")),{},{id:"".concat(o,"-side"),geometry:new y.Z({drawMode:1,vertexCount:4,attributes:{vertexPositions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),instanceCount:0,isInstanced:1}))).userData.excludeAttributes={indices:!0}),{models:[n,t].filter(Boolean),topModel:t,sideModel:n}}},{key:"calculateIndices",value:function(e){var t=this.state.polygonTesselator;e.startIndices=t.indexStarts,e.value=t.get("indices")}},{key:"calculatePositions",value:function(e){var t=this.state.polygonTesselator;e.startIndices=t.vertexStarts,e.value=t.get("positions")}},{key:"calculateVertexValid",value:function(e){e.value=this.state.polygonTesselator.get("vertexValid")}}]),n}(v.Z);function ht(e){for(var t=e.data,n=e.getIndex,r=e.dataRange,i=e.replace,o=r.startRow,a=void 0===o?0:o,s=r.endRow,u=void 0===s?1/0:s,l=t.length,c=l,f=l,d=0;d<l;d++){var h=n(t[d]);if(c>d&&h>=a&&(c=d),h>=u){f=d;break}}for(var p=c,v=f-c!==i.length?t.slice(f):void 0,g=0;g<i.length;g++)t[p++]=i[g];if(v){for(var y=0;y<v.length;y++)t[p++]=v[y];t.length=p}return{startRow:c,endRow:c+i.length}}(0,f.Z)(dt,"defaultProps",ct),(0,f.Z)(dt,"layerName","SolidPolygonLayer");var pt=[0,0,0,255],vt={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,_normalize:!0,_windingOrder:"CW",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,getPolygon:{type:"accessor",value:function(e){return e.polygon}},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:pt},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0},gt=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"initializeState",value:function(){this.state={paths:[]},this.props.getLineDashArray&&R.Z.removed("getLineDashArray","PathStyleExtension")()}},{key:"updateState",value:function(e){var t=this,n=e.changeFlags,r=n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPolygon);if(r&&Array.isArray(n.dataChanged)){var i=this.state.paths.slice(),o=n.dataChanged.map((function(e){return ht({data:i,getIndex:function(e){return e.__source.index},dataRange:e,replace:t._getPaths(e)})}));this.setState({paths:i,pathsDiff:o})}else r&&this.setState({paths:this._getPaths(),pathsDiff:null})}},{key:"_getPaths",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,r=n.data,i=n.getPolygon,o=n.positionFormat,a=n._normalize,s=[],u="XY"===o?2:3,l=t.startRow,c=t.endRow,f=(0,z.jB)(r,l,c),d=f.iterable,h=f.objectInfo,p=(0,M.Z)(d);try{for(p.s();!(e=p.n()).done;){var v=e.value;h.index++;var g=i(v,h);a&&(g=rt(g,u));var y=g,m=y.holeIndices,b=g.positions||g;if(m)for(var _=0;_<=m.length;_++){var w=b.slice(m[_-1]||0,m[_]||b.length);s.push(this.getSubLayerRow({path:w},v,h.index))}else s.push(this.getSubLayerRow({path:b},v,h.index))}}catch(x){p.e(x)}finally{p.f()}return s}},{key:"renderLayers",value:function(){var e=this.props,t=e.data,n=e._dataDiff,r=e.stroked,i=e.filled,o=e.extruded,a=e.wireframe,s=e._normalize,u=e._windingOrder,l=e.elevationScale,c=e.transitions,f=e.positionFormat,d=this.props,h=d.lineWidthUnits,p=d.lineWidthScale,v=d.lineWidthMinPixels,g=d.lineWidthMaxPixels,y=d.lineJointRounded,m=d.lineMiterLimit,b=d.lineDashJustified,_=this.props,w=_.getFillColor,x=_.getLineColor,k=_.getLineWidth,E=_.getLineDashArray,S=_.getElevation,T=_.getPolygon,P=_.updateTriggers,A=_.material,C=this.state,Z=C.paths,O=C.pathsDiff,L=this.getSubLayerClass("fill",dt),R=this.getSubLayerClass("stroke",We),M=this.shouldRenderSubLayer("fill",Z)&&new L({_dataDiff:n,extruded:o,elevationScale:l,filled:i,wireframe:a,_normalize:s,_windingOrder:u,getElevation:S,getFillColor:w,getLineColor:o&&a?x:pt,material:A,transitions:c},this.getSubLayerProps({id:"fill",updateTriggers:P&&{getPolygon:P.getPolygon,getElevation:P.getElevation,getFillColor:P.getFillColor,lineColors:o&&a,getLineColor:P.getLineColor}}),{data:t,positionFormat:f,getPolygon:T});return[!o&&M,!o&&r&&this.shouldRenderSubLayer("stroke",Z)&&new R({_dataDiff:O&&function(){return O},widthUnits:h,widthScale:p,widthMinPixels:v,widthMaxPixels:g,jointRounded:y,miterLimit:m,dashJustified:b,_pathType:"loop",transitions:c&&{getWidth:c.getLineWidth,getColor:c.getLineColor,getPath:c.getPolygon},getColor:this.getSubLayerAccessor(x),getWidth:this.getSubLayerAccessor(k),getDashArray:this.getSubLayerAccessor(E)},this.getSubLayerProps({id:"stroke",updateTriggers:P&&{getWidth:P.getLineWidth,getColor:P.getLineColor,getDashArray:P.getLineDashArray}}),{data:Z,positionFormat:f,getPath:function(e){return e.path}}),o&&M]}}]),n}(He.Z);(0,f.Z)(gt,"layerName","PolygonLayer"),(0,f.Z)(gt,"defaultProps",vt);var yt=n(4925);function mt(e,t){if(!e)return null;var n="startIndices"in e?e.startIndices[t]:t,i=e.featureIds.value[n];return-1!==n?function(e,t,n){var i={properties:(0,r.Z)({},e.properties[t])};for(var o in e.numericProps)i.properties[o]=e.numericProps[o].value[n];return i}(e,i,n):null}var bt=[],_t=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,f.Z)((0,a.Z)(e),"state",void 0),e}return(0,o.Z)(n,[{key:"getShaders",value:function(){return(0,r.Z)((0,r.Z)({},(0,s.Z)((0,u.Z)(n.prototype),"getShaders",this).call(this)),{},{fs:"#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float gamma;\nuniform bool sdf;\nuniform float alphaCutoff;\nuniform float buffer;\nuniform float outlineBuffer;\nuniform vec4 outlineColor;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  if (!picking_uActive) {\n    float alpha = texture2D(iconsTexture, vTextureCoords).a;\n    vec4 color = vColor;\n\n    // if enable sdf (signed distance fields)\n    if (sdf) {\n      float distance = alpha;\n      alpha = smoothstep(buffer - gamma, buffer + gamma, distance);\n\n      if (outlineBuffer > 0.0) {\n        float inFill = alpha;\n        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);\n        color = mix(outlineColor, vColor, inFill);\n        alpha = inBorder;\n      }\n    }\n\n    // Take the global opacity and the alpha from color into account for the alpha component\n    float a = alpha * color.a;\n    \n    if (a < alphaCutoff) {\n      discard;\n    }\n\n    gl_FragColor = vec4(color.rgb, a * opacity);\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n"})}},{key:"initializeState",value:function(){var e=this;(0,s.Z)((0,u.Z)(n.prototype),"initializeState",this).call(this),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:function(t,n){var r=n.index,i=n.target;return e.encodePickingColor(r,i)}}})}},{key:"updateState",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"updateState",this).call(this,e);var t=e.props,r=e.oldProps,i=t.outlineColor;i!==r.outlineColor&&((i=i.map((function(e){return e/255})))[3]=Number.isFinite(i[3])?i[3]:1,this.setState({outlineColor:i})),!t.sdf&&t.outlineWidth&&R.Z.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}},{key:"draw",value:function(e){var t=this.props,i=t.sdf,o=t.smoothing,a=t.outlineWidth,l=this.state.outlineColor;e.uniforms=(0,r.Z)((0,r.Z)({},e.uniforms),{},{buffer:.75,outlineBuffer:a?Math.max(o,.75*(1-a)):-1,gamma:o,sdf:Boolean(i),outlineColor:l}),(0,s.Z)((0,u.Z)(n.prototype),"draw",this).call(this,e)}},{key:"getInstanceOffset",value:function(e){var t=this;return e?Array.from(e).flatMap((function(e){return(0,s.Z)((0,u.Z)(n.prototype),"getInstanceOffset",t).call(t,e)})):bt}},{key:"getInstanceColorMode",value:function(e){return 1}},{key:"getInstanceIconFrame",value:function(e){var t=this;return e?Array.from(e).flatMap((function(e){return(0,s.Z)((0,u.Z)(n.prototype),"getInstanceIconFrame",t).call(t,e)})):bt}}]),n}(Y);(0,f.Z)(_t,"defaultProps",{getIconOffsets:{type:"accessor",value:function(e){return e.offsets}},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}}),(0,f.Z)(_t,"layerName","MultiIconLayer");var wt=n(259),xt=n.n(wt),kt=[];function Et(e,t,n,r){for(var i=0,o=t;o<n;o++){var a;i+=(null===(a=r[e[o]])||void 0===a?void 0:a.width)||0}return i}function St(e,t,n,r,i,o){for(var a=t,s=0,u=t;u<n;u++){var l=Et(e,u,u+1,i);s+l>r&&(a<u&&o.push(u),a=u,s=0),s+=l}return s}function Tt(e,t,n,r,i,o){for(var a=t,s=t,u=t,l=0,c=t;c<n;c++)if(" "===e[c]?u=c+1:" "!==e[c+1]&&c+1!==n||(u=c+1),u>s){var f=Et(e,s,u,i);l+f>r&&(a<s&&(o.push(s),a=s,l=0),f>r&&(f=St(e,s,u,r,i,o),a=o[o.length-1])),s=u,l+=f}return l}function Pt(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;void 0===o&&(o=e.length);var a=[];return"break-all"===t?St(e,i,o,n,r,a):Tt(e,i,o,n,r,a),a}function At(e,t,n,r,i,o){for(var a=0,s=0,u=t;u<n;u++){var l=e[u],c=r[l];c?(s||(s=c.height),i[u]=a+c.width/2,a+=c.width):(R.Z.warn("Missing character: ".concat(l," (").concat(l.codePointAt(0),")"))(),i[u]=a,a+=32)}o[0]=a,o[1]=s}function Ct(e,t,n,r,i){for(var o=Array.from(e),a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),c=("break-word"===n||"break-all"===n)&&isFinite(r)&&r>0,f=[0,0],d=[0,0],h=0,p=0,v=0,g=0;g<=a;g++){var y=o[g];if("\n"!==y&&g!==a||(v=g),v>p){for(var m=c?Pt(o,n,r,i,p,v):kt,b=0;b<=m.length;b++){var _=0===b?p:m[b-1],w=b<m.length?m[b]:v;At(o,_,w,i,s,d);for(var x=_;x<w;x++)u[x]=h+d[1]/2,l[x]=d[0];h+=d[1]*t,f[0]=Math.max(f[0],d[0])}p=v}"\n"===y&&(s[p]=0,u[p]=0,l[p]=0,p++)}return f[1]=h,{x:s,y:u,rowWidth:l,size:f}}var Zt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;(0,i.Z)(this,e),(0,f.Z)(this,"limit",void 0),(0,f.Z)(this,"_cache",{}),(0,f.Z)(this,"_order",[]),this.limit=t}return(0,o.Z)(e,[{key:"get",value:function(e){var t=this._cache[e];return t&&(this._deleteOrder(e),this._appendOrder(e)),t}},{key:"set",value:function(e,t){this._cache[e]?(this.delete(e),this._cache[e]=t,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[e]=t,this._appendOrder(e))}},{key:"delete",value:function(e){this._cache[e]&&(delete this._cache[e],this._deleteOrder(e))}},{key:"_deleteOrder",value:function(e){var t=this._order.indexOf(e);t>=0&&this._order.splice(t,1)}},{key:"_appendOrder",value:function(e){this._order.push(e)}}]),e}();var Ot={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:function(){for(var e=[],t=32;t<128;t++)e.push(String.fromCharCode(t));return e}(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1},Lt=new Zt(3);function Rt(e,t){var n;n="string"===typeof t?new Set(Array.from(t)):new Set(t);var r=Lt.get(e);if(!r)return n;for(var i in r.mapping)n.has(i)&&n.delete(i);return n}function Mt(e,t){for(var n=0;n<e.length;n++)t.data[4*n+3]=e[n]}function It(e,t,n,r){e.font="".concat(r," ").concat(n,"px ").concat(t),e.fillStyle="#000",e.textBaseline="alphabetic",e.textAlign="left"}var Nt=function(){function e(){(0,i.Z)(this,e),(0,f.Z)(this,"props",(0,r.Z)({},Ot)),(0,f.Z)(this,"_key",void 0),(0,f.Z)(this,"_atlas",void 0)}return(0,o.Z)(e,[{key:"texture",get:function(){return this._atlas}},{key:"mapping",get:function(){return this._atlas&&this._atlas.mapping}},{key:"scale",get:function(){return 1.2}},{key:"setProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.props,e);var t=this._key;this._key=this._getKey();var n=Rt(this._key,this.props.characterSet),r=Lt.get(this._key);if(r&&0===n.size)this._key!==t&&(this._atlas=r);else{var i=this._generateFontAtlas(this._key,n,r);this._atlas=i,Lt.set(this._key,i)}}},{key:"_generateFontAtlas",value:function(e,t,n){var i=this.props,o=i.fontFamily,a=i.fontWeight,s=i.fontSize,u=i.buffer,l=i.sdf,c=i.radius,f=i.cutoff,d=n&&n.data;d||((d=document.createElement("canvas")).width=1024);var h=d.getContext("2d");It(h,o,s,a);var p=function(e){var t,n=e.characterSet,r=e.getFontWidth,i=e.fontHeight,o=e.buffer,a=e.maxCanvasWidth,s=e.mapping,u=void 0===s?{}:s,l=e.xOffset,c=void 0===l?0:l,f=e.yOffset,d=void 0===f?0:f,h=0,p=c,v=(0,M.Z)(n);try{for(v.s();!(t=v.n()).done;){var g=t.value;if(!u[g]){var y=r(g);p+y+2*o>a&&(p=0,h++),u[g]={x:p+o,y:d+h*(i+2*o)+o,width:y,height:i},p+=y+2*o}}}catch(_){v.e(_)}finally{v.f()}var m,b=i+2*o;return{mapping:u,xOffset:p,yOffset:d+h*b,canvasHeight:(m=d+(h+1)*b,Math.pow(2,Math.ceil(Math.log2(m))))}}((0,r.Z)({getFontWidth:function(e){return h.measureText(e).width},fontHeight:1.2*s,buffer:u,characterSet:t,maxCanvasWidth:1024},n&&{mapping:n.mapping,xOffset:n.xOffset,yOffset:n.yOffset})),v=p.mapping,g=p.canvasHeight,y=p.xOffset,m=p.yOffset;if(d.height!==g){var b=h.getImageData(0,0,d.width,d.height);d.height=g,h.putImageData(b,0,0)}if(It(h,o,s,a),l){var _,w=new(xt())(s,u,c,f,o,a),x=h.getImageData(0,0,w.size,w.size),k=(0,M.Z)(t);try{for(k.s();!(_=k.n()).done;){var E=_.value;Mt(w.draw(E),x),h.putImageData(x,v[E].x-u,v[E].y+u)}}catch(A){k.e(A)}finally{k.f()}}else{var S,T=(0,M.Z)(t);try{for(T.s();!(S=T.n()).done;){var P=S.value;h.fillText(P,v[P].x,v[P].y+.9*s)}}catch(A){T.e(A)}finally{T.f()}}return{xOffset:y,yOffset:m,mapping:v,data:d,width:d.width,height:d.height}}},{key:"_getKey",value:function(){var e=this.props,t=e.fontFamily,n=e.fontWeight,r=e.fontSize,i=e.buffer,o=e.sdf,a=e.radius,s=e.cutoff;return o?"".concat(t," ").concat(n," ").concat(r," ").concat(i," ").concat(a," ").concat(s):"".concat(t," ").concat(n," ").concat(r," ").concat(i)}}]),e}(),Ft={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:function(e){return e.position}},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}},jt=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,f.Z)((0,a.Z)(e),"state",void 0),e}return(0,o.Z)(n,[{key:"getShaders",value:function(){return(0,s.Z)((0,u.Z)(n.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME text-background-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec4 instanceRects;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec2 instancePixelOffsets;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform bool billboard;\nuniform float opacity;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform vec4 padding;\nuniform int sizeUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = radians(angle);\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n  vLineWidth = instanceLineWidths;\n\n  // convert size in meters to pixels, then scaled and clamp\n\n  // project meters to pixels and clamp to limits\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\n    sizeMinPixels, sizeMaxPixels\n  );\n\n  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;\n\n  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\n  pixelOffset += instancePixelOffsets;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME text-background-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec2 pixelPosition = uv * dimensions;\n  if (stroked) {\n    float distToEdge = min(\n      min(pixelPosition.x, dimensions.x - pixelPosition.x),\n      min(pixelPosition.y, dimensions.y - pixelPosition.y)\n    );\n    float isBorder = smoothedge(distToEdge, vLineWidth);\n    gl_FragColor = mix(vFillColor, vLineColor, isBorder);\n  } else {\n    gl_FragColor = vFillColor;\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[d.Z,h.Z]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}},{key:"updateState",value:function(e){if((0,s.Z)((0,u.Z)(n.prototype),"updateState",this).call(this,e),e.changeFlags.extensionsChanged){var t,r=this.context.gl;null===(t=this.state.model)||void 0===t||t.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.billboard,i=n.sizeScale,o=n.sizeUnits,a=n.sizeMinPixels,s=n.sizeMaxPixels,u=n.getLineWidth,l=this.props.padding;l.length<4&&(l=[l[0],l[1],l[0],l[1]]),this.state.model.setUniforms(t).setUniforms({billboard:r,stroked:Boolean(u),padding:l,sizeUnits:p.iI[o],sizeScale:i,sizeMinPixels:a,sizeMaxPixels:s}).draw()}},{key:"_getModel",value:function(e){return new g.Z(e,(0,r.Z)((0,r.Z)({},this.getShaders()),{},{id:this.props.id,geometry:new y.Z({drawMode:6,vertexCount:4,attributes:{positions:{size:2,value:new Float32Array([0,0,1,0,1,1,0,1])}}}),isInstanced:!0}))}}]),n}(v.Z);(0,f.Z)(jt,"defaultProps",Ft),(0,f.Z)(jt,"layerName","TextBackgroundLayer");var Dt={start:1,middle:0,end:-1},zt={top:1,center:0,bottom:-1},Bt=[0,0,0,255],Ut={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:Bt},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:Ot.characterSet},fontFamily:Ot.fontFamily,fontWeight:Ot.fontWeight,lineHeight:1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:Bt},fontSettings:{},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:function(e){return e.text}},getPosition:{type:"accessor",value:function(e){return e.position}},getColor:{type:"accessor",value:Bt},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}},Vt=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,f.Z)((0,a.Z)(e),"state",void 0),(0,f.Z)((0,a.Z)(e),"getBoundingRect",(function(t,n){var r=e.state.fontAtlasManager.mapping,i=e.state.getText,o=e.props,a=o.wordBreak,s=o.maxWidth,u=o.lineHeight,l=o.getTextAnchor,c=o.getAlignmentBaseline,f=Ct(i(t,n)||"",u,a,s,r),d=(0,w.Z)(f.size,2),h=d[0],p=d[1];return[(Dt["function"===typeof l?l(t,n):l]-1)*h/2,(zt["function"===typeof c?c(t,n):c]-1)*p/2,h,p]})),(0,f.Z)((0,a.Z)(e),"getIconOffsets",(function(t,n){for(var r=e.state.fontAtlasManager.mapping,i=e.state.getText,o=e.props,a=o.wordBreak,s=o.maxWidth,u=o.lineHeight,l=o.getTextAnchor,c=o.getAlignmentBaseline,f=Ct(i(t,n)||"",u,a,s,r),d=f.x,h=f.y,p=f.rowWidth,v=(0,w.Z)(f.size,2),g=v[0],y=v[1],m=Dt["function"===typeof l?l(t,n):l],b=zt["function"===typeof c?c(t,n):c],_=d.length,x=new Array(2*_),k=0,E=0;E<_;E++){var S=(1-m)*(g-p[E])/2;x[k++]=(m-1)*g/2+S+d[E],x[k++]=(b-1)*y/2+h[E]}return x})),e}return(0,o.Z)(n,[{key:"initializeState",value:function(){this.state={styleVersion:0,fontAtlasManager:new Nt}}},{key:"updateState",value:function(e){var t=e.props,n=e.oldProps,r=e.changeFlags;(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getText))&&this._updateText(),(this._updateFontAtlas()||t.lineHeight!==n.lineHeight||t.wordBreak!==n.wordBreak||t.maxWidth!==n.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}},{key:"getPickingInfo",value:function(e){var t=e.info;return t.object=t.index>=0?this.props.data[t.index]:null,t}},{key:"_updateFontAtlas",value:function(){var e=this.props,t=e.fontSettings,n=e.fontFamily,i=e.fontWeight,o=this.state,a=o.fontAtlasManager,s=o.characterSet,u=(0,r.Z)((0,r.Z)({},t),{},{characterSet:s,fontFamily:n,fontWeight:i});if(!a.mapping)return a.setProps(u),!0;for(var l in u)if(u[l]!==a.props[l])return a.setProps(u),!0;return!1}},{key:"_updateText",value:function(){var e,t,n=this.props,i=n.data,o=n.characterSet,a=null===(e=i.attributes)||void 0===e?void 0:e.getText,s=this.props.getText,u=i.startIndices,l="auto"===o&&new Set;if(a&&u){var c=function(e){var t=e.value,n=e.length,r=e.stride,i=e.offset,o=e.startIndices,a=e.characterSet,s=t.BYTES_PER_ELEMENT,u=r?r/s:1,l=i?i/s:0,c=o[n]||Math.ceil((t.length-l)/u),f=a&&new Set,d=new Array(n),h=t;if(u>1||l>0){h=new(0,t.constructor)(c);for(var p=0;p<c;p++)h[p]=t[p*u+l]}for(var v=0;v<n;v++){var g=o[v],y=o[v+1]||c,m=h.subarray(g,y);d[v]=String.fromCodePoint.apply(null,m),f&&m.forEach(f.add,f)}if(f){var b,_=(0,M.Z)(f);try{for(_.s();!(b=_.n()).done;){var w=b.value;a.add(String.fromCodePoint(w))}}catch(x){_.e(x)}finally{_.f()}}return{texts:d,characterCount:c}}((0,r.Z)((0,r.Z)({},ArrayBuffer.isView(a)?{value:a}:a),{},{length:i.length,startIndices:u,characterSet:l})),f=c.texts;t=c.characterCount,s=function(e,t){var n=t.index;return f[n]}}else{var d=(0,z.jB)(i),h=d.iterable,p=d.objectInfo;u=[0],t=0;var v,g=(0,M.Z)(h);try{for(g.s();!(v=g.n()).done;){var y=v.value;p.index++;var m=Array.from(s(y,p)||"");l&&m.forEach(l.add,l),t+=m.length,u.push(t)}}catch(b){g.e(b)}finally{g.f()}}this.setState({getText:s,startIndices:u,numInstances:t,characterSet:l||o})}},{key:"renderLayers",value:function(){var e=this.state,t=e.startIndices,n=e.numInstances,r=e.getText,i=e.fontAtlasManager,o=i.scale,a=i.texture,s=i.mapping,u=e.styleVersion,l=this.props,c=l.data,f=l._dataDiff,d=l.getPosition,h=l.getColor,p=l.getSize,v=l.getAngle,g=l.getPixelOffset,y=l.getBackgroundColor,m=l.getBorderColor,b=l.getBorderWidth,_=l.backgroundPadding,w=l.background,x=l.billboard,k=l.fontSettings,E=l.outlineWidth,S=l.outlineColor,T=l.sizeScale,P=l.sizeUnits,A=l.sizeMinPixels,C=l.sizeMaxPixels,Z=l.transitions,O=l.updateTriggers,L=this.getSubLayerClass("characters",_t),R=this.getSubLayerClass("background",jt);return[w&&new R({getFillColor:y,getLineColor:m,getLineWidth:b,padding:_,getPosition:d,getSize:p,getAngle:v,getPixelOffset:g,billboard:x,sizeScale:T/this.state.fontAtlasManager.props.fontSize,sizeUnits:P,sizeMinPixels:A,sizeMaxPixels:C,transitions:Z&&{getPosition:Z.getPosition,getAngle:Z.getAngle,getSize:Z.getSize,getFillColor:Z.getBackgroundColor,getLineColor:Z.getBorderColor,getLineWidth:Z.getBorderWidth,getPixelOffset:Z.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:O.getPosition,getAngle:O.getAngle,getSize:O.getSize,getFillColor:O.getBackgroundColor,getLineColor:O.getBorderColor,getLineWidth:O.getBorderWidth,getPixelOffset:O.getPixelOffset,getBoundingRect:{getText:O.getText,getTextAnchor:O.getTextAnchor,getAlignmentBaseline:O.getAlignmentBaseline,styleVersion:u}}}),{data:c.attributes&&c.attributes.background?{length:c.length,attributes:c.attributes.background}:c,_dataDiff:f,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new L({sdf:k.sdf,smoothing:Number.isFinite(k.smoothing)?k.smoothing:Ot.smoothing,outlineWidth:E,outlineColor:S,iconAtlas:a,iconMapping:s,getPosition:d,getColor:h,getSize:p,getAngle:v,getPixelOffset:g,billboard:x,sizeScale:T*o,sizeUnits:P,sizeMinPixels:A*o,sizeMaxPixels:C*o,transitions:Z&&{getPosition:Z.getPosition,getAngle:Z.getAngle,getColor:Z.getColor,getSize:Z.getSize,getPixelOffset:Z.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{getIcon:O.getText,getPosition:O.getPosition,getAngle:O.getAngle,getColor:O.getColor,getSize:O.getSize,getPixelOffset:O.getPixelOffset,getIconOffsets:{getText:O.getText,getTextAnchor:O.getTextAnchor,getAlignmentBaseline:O.getAlignmentBaseline,styleVersion:u}}}),{data:c,_dataDiff:f,startIndices:t,numInstances:n,getIconOffsets:this.getIconOffsets,getIcon:r})]}}],[{key:"fontAtlasCacheLimit",set:function(e){!function(e){R.Z.assert(Number.isFinite(e)&&e>=3,"Invalid cache limit"),Lt=new Zt(e)}(e)}}]),n}(He.Z);(0,f.Z)(Vt,"defaultProps",Ut),(0,f.Z)(Vt,"layerName","TextLayer");var Gt={circle:{type:ie,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:Y,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:Vt,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},Wt={type:We,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},Ht={type:dt,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function Xt(e){var t=e.type,n=e.props,r={};for(var i in n)r[i]=t.defaultProps[n[i]];return r}function Yt(e,t){var n=e.props,r=n.transitions,i=n.updateTriggers,o={updateTriggers:{},transitions:r&&{getPosition:r.geometry}};for(var a in t){var s=t[a],u=e.props[a];a.startsWith("get")&&(u=e.getSubLayerAccessor(u),o.updateTriggers[s]=i[a],r&&(o.transitions[s]=r[a])),o[s]=u}return o}function Kt(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},i=n.startRow,o=void 0===i?0:i,a=n.endRow,s=void 0===a?e.length:a,u=o;u<s;u++){var l=e[u];R.Z.assert(l&&l.geometry,"GeoJSON does not have geometry");var c=l.geometry;if("GeometryCollection"===c.type){R.Z.assert(Array.isArray(c.geometries),"GeoJSON does not have geometries array");for(var f=c.geometries,d=0;d<f.length;d++){var h=f[d];qt(h,r,t,l,u)}}else qt(c,r,t,l,u)}return r}function qt(e,t,n,r,i){var o=e.type,a=e.coordinates,s=t.pointFeatures,u=t.lineFeatures,l=t.polygonFeatures,c=t.polygonOutlineFeatures;if(function(e,t){var n=Qt[e];R.Z.assert(n,"Unknown GeoJSON type ".concat(e));for(;t&&--n>0;)t=t[0];return t&&Number.isFinite(t[0])}(o,a))switch(o){case"Point":s.push(n({geometry:e},r,i));break;case"MultiPoint":a.forEach((function(e){s.push(n({geometry:{type:"Point",coordinates:e}},r,i))}));break;case"LineString":u.push(n({geometry:e},r,i));break;case"MultiLineString":a.forEach((function(e){u.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}));break;case"Polygon":l.push(n({geometry:e},r,i)),a.forEach((function(e){c.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}));break;case"MultiPolygon":a.forEach((function(e){l.push(n({geometry:{type:"Polygon",coordinates:e}},r,i)),e.forEach((function(e){c.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}))}))}else R.Z.warn("".concat(o," coordinates are malformed"))()}var Qt={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function $t(e){return e.geometry.coordinates}function Jt(e,t){var n={points:{},lines:{},polygons:{},polygonsOutline:{}},i=e.points,o=e.lines,a=e.polygons,s=function(e,t){var n={points:null,lines:null,polygons:null};for(var r in n){var i=e[r].globalFeatureIds.value;n[r]=new Uint8ClampedArray(3*i.length);for(var o=[],a=0;a<i.length;a++)t(i[a],o),n[r][3*a+0]=o[0],n[r][3*a+1]=o[1],n[r][3*a+2]=o[2]}return n}(e,t);return n.points.data={length:i.positions.value.length/i.positions.size,attributes:(0,r.Z)((0,r.Z)({},i.attributes),{},{getPosition:i.positions,instancePickingColors:{size:3,value:s.points}}),properties:i.properties,numericProps:i.numericProps,featureIds:i.featureIds},n.lines.data={length:o.pathIndices.value.length-1,startIndices:o.pathIndices.value,attributes:(0,r.Z)((0,r.Z)({},o.attributes),{},{getPath:o.positions,instancePickingColors:{size:3,value:s.lines}}),properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},n.lines._pathType="open",n.polygons.data={length:a.polygonIndices.value.length-1,startIndices:a.polygonIndices.value,attributes:(0,r.Z)((0,r.Z)({},a.attributes),{},{getPolygon:a.positions,pickingColors:{size:3,value:s.polygons}}),properties:a.properties,numericProps:a.numericProps,featureIds:a.featureIds},n.polygons._normalize=!1,a.triangles&&(n.polygons.data.attributes.indices=a.triangles.value),n.polygonsOutline.data={length:a.primitivePolygonIndices.value.length-1,startIndices:a.primitivePolygonIndices.value,attributes:(0,r.Z)((0,r.Z)({},a.attributes),{},{getPath:a.positions,instancePickingColors:{size:3,value:s.polygons}}),properties:a.properties,numericProps:a.numericProps,featureIds:a.featureIds},n.polygonsOutline._pathType="open",n}var en=["instancePickingColors"],tn=["points","linestrings","polygons"],nn=(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},Xt(Gt.circle)),Xt(Gt.icon)),Xt(Gt.text)),Xt(Wt)),Xt(Ht)),{},{stroked:!0,filled:!0,extruded:!1,wireframe:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:function(e){return e.properties.icon}},getText:{type:"accessor",value:function(e){return e.properties.text}},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}}),rn=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"initializeState",value:function(){this.state={layerProps:{},features:{}}}},{key:"updateState",value:function(e){var t=e.props,n=e.changeFlags;if(n.dataChanged){var r=this.props.data,i=r&&"points"in r&&"polygons"in r&&"lines"in r;this.setState({binary:i}),i?this._updateStateBinary({props:t,changeFlags:n}):this._updateStateJSON({props:t,changeFlags:n})}}},{key:"_updateStateBinary",value:function(e){var t=e.props,n=(e.changeFlags,Jt(t.data,this.encodePickingColor));this.setState({layerProps:n})}},{key:"_updateStateJSON",value:function(e){var t=e.props,n=e.changeFlags,r=function(e){if(Array.isArray(e))return e;switch(R.Z.assert(e.type,"GeoJSON does not have type"),e.type){case"Feature":return[e];case"FeatureCollection":return R.Z.assert(Array.isArray(e.features),"GeoJSON does not have features array"),e.features;default:return[{geometry:e}]}}(t.data),i=this.getSubLayerRow.bind(this),o={},a={};if(Array.isArray(n.dataChanged)){var s=this.state.features;for(var u in s)o[u]=s[u].slice(),a[u]=[];var l,c=(0,M.Z)(n.dataChanged);try{for(c.s();!(l=c.n()).done;){var f=l.value,d=Kt(r,i,f);for(var h in s)a[h].push(ht({data:o[h],getIndex:function(e){return e.__source.index},dataRange:f,replace:d[h]}))}}catch(v){c.e(v)}finally{c.f()}}else o=Kt(r,i);var p=function(e,t){var n={points:{},lines:{},polygons:{},polygonsOutline:{}},r=e.pointFeatures,i=e.lineFeatures,o=e.polygonFeatures,a=e.polygonOutlineFeatures;return n.points.data=r,n.points._dataDiff=t.pointFeatures&&function(){return t.pointFeatures},n.points.getPosition=$t,n.lines.data=i,n.lines._dataDiff=t.lineFeatures&&function(){return t.lineFeatures},n.lines.getPath=$t,n.polygons.data=o,n.polygons._dataDiff=t.polygonFeatures&&function(){return t.polygonFeatures},n.polygons.getPolygon=$t,n.polygonsOutline.data=a,n.polygonsOutline._dataDiff=t.polygonOutlineFeatures&&function(){return t.polygonOutlineFeatures},n.polygonsOutline.getPath=$t,n}(o,a);this.setState({features:o,featuresDiff:a,layerProps:p})}},{key:"getPickingInfo",value:function(e){var t=this,r=(0,s.Z)((0,u.Z)(n.prototype),"getPickingInfo",this).call(this,e),i=r.index,o=r.sourceLayer;return r.featureType=tn.find((function(e){return o.id.startsWith("".concat(t.id,"-").concat(e,"-"))})),i>=0&&o.id.startsWith("".concat(this.id,"-points-text"))&&this.state.binary&&(r.index=this.props.data.points.globalFeatureIds.value[i]),r}},{key:"_updateAutoHighlight",value:function(e){var t,n="".concat(this.id,"-points-"),r="points"===e.featureType,i=(0,M.Z)(this.getSubLayers());try{for(i.s();!(t=i.n()).done;){var o=t.value;o.id.startsWith(n)===r&&o.updateAutoHighlight(e)}}catch(a){i.e(a)}finally{i.f()}}},{key:"_renderPolygonLayer",value:function(){var e=this.props,t=e.extruded,n=e.wireframe,r=this.state.layerProps,i="polygons-fill",o=this.shouldRenderSubLayer(i,r.polygons.data)&&this.getSubLayerClass(i,Ht.type);if(o){var a=Yt(this,Ht.props),s=t&&n;return s||delete a.getLineColor,a.updateTriggers.lineColors=s,new o(a,this.getSubLayerProps({id:i,updateTriggers:a.updateTriggers}),r.polygons)}return null}},{key:"_renderLineLayers",value:function(){var e=this.props,t=e.extruded,n=e.stroked,r=this.state.layerProps,i="polygons-stroke",o="linestrings",a=!t&&n&&this.shouldRenderSubLayer(i,r.polygonsOutline.data)&&this.getSubLayerClass(i,Wt.type),s=this.shouldRenderSubLayer(o,r.lines.data)&&this.getSubLayerClass(o,Wt.type);if(a||s){var u=Yt(this,Wt.props);return[a&&new a(u,this.getSubLayerProps({id:i,updateTriggers:u.updateTriggers}),r.polygonsOutline),s&&new s(u,this.getSubLayerProps({id:o,updateTriggers:u.updateTriggers}),r.lines)]}return null}},{key:"_renderPointLayers",value:function(){var e=this.props.pointType,t=this.state,n=t.layerProps,i=t.binary,o=this.props.highlightedObjectIndex;!i&&Number.isFinite(o)&&(o=n.points.data.findIndex((function(e){return e.__source.index===o})));var a,s=new Set(e.split("+")),u=[],l=(0,M.Z)(s);try{for(l.s();!(a=l.n()).done;){var c=a.value,f="points-".concat(c),d=Gt[c],h=d&&this.shouldRenderSubLayer(f,n.points.data)&&this.getSubLayerClass(f,d.type);if(h){var p=Yt(this,d.props),v=n.points;if("text"===c&&i){var g=v.data.attributes,y=(g.instancePickingColors,(0,yt.Z)(g,en));v=(0,r.Z)((0,r.Z)({},v),{},{data:(0,r.Z)((0,r.Z)({},v.data),{},{attributes:y})})}u.push(new h(p,this.getSubLayerProps({id:f,updateTriggers:p.updateTriggers,highlightedObjectIndex:o}),v))}}}catch(m){l.e(m)}finally{l.f()}return u}},{key:"renderLayers",value:function(){var e=this.props.extruded,t=this._renderPolygonLayer();return[!e&&t,this._renderLineLayers(),this._renderPointLayers(),e&&t]}},{key:"getSubLayerAccessor",value:function(e){return this.state.binary&&"function"===typeof e?function(t,n){var r=mt(n.data,n.index);return e(r,n)}:(0,s.Z)((0,u.Z)(n.prototype),"getSubLayerAccessor",this).call(this,e)}}]),n}(He.Z);(0,f.Z)(rn,"layerName","GeoJsonLayer"),(0,f.Z)(rn,"defaultProps",nn)},4106:function(e,t,n){"use strict";n.d(t,{D0:function(){return u},Ew:function(){return l},Kn:function(){return o},Lj:function(){return c},Os:function(){return d},Ss:function(){return a},TW:function(){return s},zH:function(){return f}});var r=function(e){return"boolean"===typeof e},i=function(e){return"function"===typeof e},o=function(e){return null!==e&&"object"===typeof e},a=function(e){return o(e)&&e.constructor==={}.constructor},s=function(e){return e&&"function"===typeof e[Symbol.iterator]},u=function(e){return e&&"function"===typeof e[Symbol.asyncIterator]},l=function(e){return"undefined"!==typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json},c=function(e){return"undefined"!==typeof Blob&&e instanceof Blob},f=function(e){return e&&"object"===typeof e&&e.isBuffer},d=function(e){return function(e){return"undefined"!==typeof ReadableStream&&e instanceof ReadableStream||o(e)&&i(e.tee)&&i(e.cancel)&&i(e.getReader)}(e)||function(e){return o(e)&&i(e.read)&&i(e.pipe)&&r(e.readable)}(e)}},3622:function(e,t,n){"use strict";n.d(t,{z:function(){return Ie}});var r=n(4165),i=n(5861),o=n(4106),a=n(5146),s=n(9789);function u(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}var l="3.2.7";function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;u(e,"no worker provided");var n=e.version;return!(!t||!n)}var f=n(1426),d=("undefined"!==typeof self&&self,"undefined"!==typeof window&&window,"undefined"!==typeof n.g&&n.g,"undefined"!==typeof document&&document,"object"!==typeof f||"[object process]"!==String(f)||f.browser),h="undefined"!==typeof window&&"undefined"!==typeof window.orientation,p="undefined"!==typeof f&&f.version&&/v([0-9]*)/.exec(f.version),v=(p&&parseFloat(p[1]),n(7762)),g=n(1413),y=n(5671),m=n(3144),b=n(4942),_=(0,m.Z)((function e(){(0,y.Z)(this,e)})),w=new Map;function x(e){u(e.source&&!e.url||!e.source&&e.url);var t=w.get(e.source||e.url);return t||(e.url&&(t=function(e){if(!e.startsWith("http"))return e;return k((t=e,"try {\n  importScripts('".concat(t,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")));var t}(e.url),w.set(e.url,t)),e.source&&(t=k(e.source),w.set(e.source,t))),u(t),t}function k(e){var t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function E(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=n||new Set;if(e){if(S(e))r.add(e);else if(S(e.buffer))r.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"===typeof e)for(var i in e)E(e[i],t,r)}else;return void 0===n?Array.from(r):[]}function S(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!==typeof MessagePort&&e instanceof MessagePort||("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}var T=function(){},P=function(){function e(t){(0,y.Z)(this,e),(0,b.Z)(this,"name",void 0),(0,b.Z)(this,"source",void 0),(0,b.Z)(this,"url",void 0),(0,b.Z)(this,"terminated",!1),(0,b.Z)(this,"worker",void 0),(0,b.Z)(this,"onMessage",void 0),(0,b.Z)(this,"onError",void 0),(0,b.Z)(this,"_loadableURL","");var n=t.name,r=t.source,i=t.url;u(r||i),this.name=n,this.source=r,this.url=i,this.onMessage=T,this.onError=function(e){return console.log(e)},this.worker=d?this._createBrowserWorker():this._createNodeWorker()}return(0,m.Z)(e,[{key:"destroy",value:function(){this.onMessage=T,this.onError=T,this.worker.terminate(),this.terminated=!0}},{key:"isRunning",get:function(){return Boolean(this.onMessage)}},{key:"postMessage",value:function(e,t){t=t||E(e),this.worker.postMessage(e,t)}},{key:"_getErrorFromErrorEvent",value:function(e){var t="Failed to load ";return t+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}},{key:"_createBrowserWorker",value:function(){var e=this;this._loadableURL=x({source:this.source,url:this.url});var t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=function(t){t.data?e.onMessage(t.data):e.onError(new Error("No data received"))},t.onerror=function(t){e.onError(e._getErrorFromErrorEvent(t)),e.terminated=!0},t.onmessageerror=function(e){return console.error(e)},t}},{key:"_createNodeWorker",value:function(){var e,t=this;if(this.url){var n=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);e=new _(n,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new _(this.source,{eval:!0})}return e.on("message",(function(e){t.onMessage(e)})),e.on("error",(function(e){t.onError(e)})),e.on("exit",(function(e){})),e}}],[{key:"isSupported",value:function(){return"undefined"!==typeof Worker&&d||void 0!==typeof _}}]),e}(),A=function(){function e(t,n){var r=this;(0,y.Z)(this,e),(0,b.Z)(this,"name",void 0),(0,b.Z)(this,"workerThread",void 0),(0,b.Z)(this,"isRunning",!0),(0,b.Z)(this,"result",void 0),(0,b.Z)(this,"_resolve",(function(){})),(0,b.Z)(this,"_reject",(function(){})),this.name=t,this.workerThread=n,this.result=new Promise((function(e,t){r._resolve=e,r._reject=t}))}return(0,m.Z)(e,[{key:"postMessage",value:function(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}},{key:"done",value:function(e){u(this.isRunning),this.isRunning=!1,this._resolve(e)}},{key:"error",value:function(e){u(this.isRunning),this.isRunning=!1,this._reject(e)}}]),e}(),C=function(){function e(t){(0,y.Z)(this,e),(0,b.Z)(this,"name","unnamed"),(0,b.Z)(this,"source",void 0),(0,b.Z)(this,"url",void 0),(0,b.Z)(this,"maxConcurrency",1),(0,b.Z)(this,"maxMobileConcurrency",1),(0,b.Z)(this,"onDebug",(function(){})),(0,b.Z)(this,"reuseWorkers",!0),(0,b.Z)(this,"props",{}),(0,b.Z)(this,"jobQueue",[]),(0,b.Z)(this,"idleQueue",[]),(0,b.Z)(this,"count",0),(0,b.Z)(this,"isDestroyed",!1),this.source=t.source,this.url=t.url,this.setProps(t)}return(0,m.Z)(e,[{key:"destroy",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:"setProps",value:function(e){this.props=(0,g.Z)((0,g.Z)({},this.props),e),void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}},{key:"startJob",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,o,a=this,s=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:function(e,t,n){return e.done(n)},i=s.length>2&&void 0!==s[2]?s[2]:function(e,t){return e.error(t)},o=new Promise((function(e){return a.jobQueue.push({name:t,onMessage:n,onError:i,onStart:e}),a})),this._startQueuedJob(),e.next=6,o;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_startQueuedJob",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.jobQueue.length){e.next=2;break}return e.abrupt("return");case 2:if(t=this._getAvailableWorker()){e.next=5;break}return e.abrupt("return");case 5:if(!(n=this.jobQueue.shift())){e.next=18;break}return this.onDebug({message:"Starting job",name:n.name,workerThread:t,backlog:this.jobQueue.length}),i=new A(n.name,t),t.onMessage=function(e){return n.onMessage(i,e.type,e.payload)},t.onError=function(e){return n.onError(i,e)},n.onStart(i),e.prev=12,e.next=15,i.result;case 15:return e.prev=15,this.returnWorkerToQueue(t),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[12,,15,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"returnWorkerToQueue",value:function(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}},{key:"_getAvailableWorker",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;var e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new P({name:e,source:this.source,url:this.url})}return null}},{key:"_getMaxConcurrency",value:function(){return h?this.maxMobileConcurrency:this.maxConcurrency}}],[{key:"isSupported",value:function(){return P.isSupported()}}]),e}(),Z={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:function(){}},O=function(){function e(t){(0,y.Z)(this,e),(0,b.Z)(this,"props",void 0),(0,b.Z)(this,"workerPools",new Map),this.props=(0,g.Z)({},Z),this.setProps(t),this.workerPools=new Map}return(0,m.Z)(e,[{key:"destroy",value:function(){var e,t=(0,v.Z)(this.workerPools.values());try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}this.workerPools=new Map}},{key:"setProps",value:function(e){this.props=(0,g.Z)((0,g.Z)({},this.props),e);var t,n=(0,v.Z)(this.workerPools.values());try{for(n.s();!(t=n.n()).done;){t.value.setProps(this._getWorkerPoolProps())}}catch(r){n.e(r)}finally{n.f()}}},{key:"getWorkerPool",value:function(e){var t=e.name,n=e.source,r=e.url,i=this.workerPools.get(t);return i||((i=new C({name:t,source:n,url:r})).setProps(this._getWorkerPoolProps()),this.workerPools.set(t,i)),i}},{key:"_getWorkerPoolProps",value:function(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}],[{key:"isSupported",value:function(){return P.isSupported()}},{key:"getWorkerFarm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e._workerFarm=e._workerFarm||new e({}),e._workerFarm.setProps(t),e._workerFarm}}]),e}();(0,b.Z)(O,"_workerFarm",void 0);var L="latest";function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t[e.id]||{},r="".concat(e.id,"-worker.js"),i=n.workerUrl;if(i||"compression"!==e.id||(i=t.workerUrl),"test"===t._workerType&&(i="modules/".concat(e.module,"/dist/").concat(r)),!i){var o=e.version;"latest"===o&&(o=L);var a=o?"@".concat(o):"";i="https://unpkg.com/@loaders.gl/".concat(e.module).concat(a,"/dist/").concat(r)}return u(i),i}function M(e,t){return!!O.isSupported()&&(!!(d||null!==t&&void 0!==t&&t._nodeWorkers)&&(e.worker&&(null===t||void 0===t?void 0:t.worker)))}function I(e,t,n,r,i){return N.apply(this,arguments)}function N(){return(N=(0,i.Z)((0,r.Z)().mark((function e(t,n,i,o,a){var s,u,l,c,f,d;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.id,u=R(t,i),l=O.getWorkerFarm(i),c=l.getWorkerPool({name:s,url:u}),i=JSON.parse(JSON.stringify(i)),o=JSON.parse(JSON.stringify(o||{})),e.next=8,c.startJob("process-on-worker",F.bind(null,a));case 8:return(f=e.sent).postMessage("process",{input:n,options:i,context:o}),e.next=12,f.result;case 12:return d=e.sent,e.next=15,d.result;case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t,n,r){return j.apply(this,arguments)}function j(){return(j=(0,i.Z)((0,r.Z)().mark((function e(t,n,i,o){var a,s,u,l,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=i,e.next="done"===e.t0?3:"error"===e.t0?5:"process"===e.t0?7:20;break;case 3:return n.done(o),e.abrupt("break",21);case 5:return n.error(new Error(o.error)),e.abrupt("break",21);case 7:return a=o.id,s=o.input,u=o.options,e.prev=8,e.next=11,t(s,u);case 11:l=e.sent,n.postMessage("done",{id:a,result:l}),e.next=19;break;case 15:e.prev=15,e.t1=e.catch(8),c=e.t1 instanceof Error?e.t1.message:"unknown error",n.postMessage("error",{id:a,error:c});case 19:return e.abrupt("break",21);case 20:console.warn("parse-with-worker unknown message ".concat(i));case 21:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}var D=n(6296);n(9521);function z(e){return e&&"object"===typeof e&&e.isBuffer}function B(e){if(z(e))return z(t=e)?new Uint8Array(t.buffer,t.byteOffset,t.length).slice().buffer:t;var t;if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if("string"===typeof e){var n=e;return(new TextEncoder).encode(n).buffer}if(e&&"object"===typeof e&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}function U(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t.map((function(e){return e instanceof ArrayBuffer?new Uint8Array(e):e})),o=i.reduce((function(e,t){return e+t.byteLength}),0),a=new Uint8Array(o),s=0,u=(0,v.Z)(i);try{for(u.s();!(r=u.n()).done;){var l=r.value;a.set(l,s),s+=l.byteLength}}catch(c){u.e(c)}finally{u.f()}return a.buffer}function V(e){return G.apply(this,arguments)}function G(){return(G=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,o,a,s,u,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=!1,o=!1,e.prev=3,s=(0,D.Z)(t);case 5:return e.next=7,s.next();case 7:if(!(i=!(u=e.sent).done)){e.next=13;break}l=u.value,n.push(l);case 10:i=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),o=!0,a=e.t0;case 19:if(e.prev=19,e.prev=20,!i||null==s.return){e.next=24;break}return e.next=24,s.return();case 24:if(e.prev=24,!o){e.next=27;break}throw a;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",U.apply(void 0,n));case 30:case"end":return e.stop()}}),e,null,[[3,15,19,29],[20,,24,28]])})))).apply(this,arguments)}var W=(0,r.Z)().mark(H);function H(e,t){var n,i,o,a,s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=(null===t||void 0===t?void 0:t.chunkSize)||262144,i=0,o=new TextEncoder;case 3:if(!(i<e.length)){r.next=11;break}return a=Math.min(e.length-i,n),s=e.slice(i,i+a),i+=a,r.next=9,o.encode(s);case 9:r.next=3;break;case 11:case"end":return r.stop()}}),W)}var X=(0,r.Z)().mark(K),Y=262144;function K(e){var t,n,i,o,a,s,u,l=arguments;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=l.length>1&&void 0!==l[1]?l[1]:{},n=t.chunkSize,i=void 0===n?Y:n,o=0;case 3:if(!(o<e.byteLength)){r.next=14;break}return a=Math.min(e.byteLength-o,i),s=new ArrayBuffer(a),u=new Uint8Array(e,o,a),new Uint8Array(s).set(u),o+=a,r.next=12,s;case 12:r.next=3;break;case 14:case"end":return r.stop()}}),X)}function q(e){this.wrapped=e}function Q(e){return new q(e)}function $(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,s=a instanceof q;Promise.resolve(s?a.wrapped:a).then((function(e){s?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(u){i("throw",u)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!==typeof e.return&&(this.return=void 0)}function J(e){return function(){return new $(e.apply(this,arguments))}}$.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},$.prototype.next=function(e){return this._invoke("next",e)},$.prototype.throw=function(e){return this._invoke("throw",e)},$.prototype.return=function(e){return this._invoke("return",e)};var ee=1048576;function te(){return(te=J((0,r.Z)().mark((function e(t,n){var i,o,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(null===n||void 0===n?void 0:n.chunkSize)||ee,o=0;case 2:if(!(o<t.size)){e.next=12;break}return a=o+i,e.next=6,Q(t.slice(o,a).arrayBuffer());case 6:return s=e.sent,o=a,e.next=10,s;case 10:e.next=2;break;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=n(8546);function re(e,t){return ne.jU?function(e,t){return ie.apply(this,arguments)}(e,t):function(e,t){return oe.apply(this,arguments)}(e,t)}function ie(){return(ie=J((0,r.Z)().mark((function e(t,n){var i,o,a,s,u,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.getReader(),e.prev=1;case 2:return a=o||i.read(),null!==n&&void 0!==n&&n._streamReadAhead&&(o=i.read()),e.next=7,Q(a);case 7:if(s=e.sent,u=s.done,l=s.value,!u){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,B(l);case 14:e.next=2;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),i.releaseLock();case 21:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}function oe(){return(oe=J((0,r.Z)().mark((function e(t,n){var i,o,a,s,u,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!1,o=!1,e.prev=2,s=(0,D.Z)(t);case 4:return e.next=6,Q(s.next());case 6:if(!(i=!(u=e.sent).done)){e.next=13;break}return l=u.value,e.next=10,B(l);case 10:i=!1,e.next=4;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),o=!0,a=e.t0;case 19:if(e.prev=19,e.prev=20,!i||null==s.return){e.next=24;break}return e.next=24,Q(s.return());case 24:if(e.prev=24,!o){e.next=27;break}throw a;case 27:return e.finish(24);case 28:return e.finish(19);case 29:case"end":return e.stop()}}),e,null,[[2,15,19,29],[20,,24,28]])})))).apply(this,arguments)}function ae(e,t){if("string"===typeof e)return H(e,t);if(e instanceof ArrayBuffer)return K(e,t);if((0,o.Lj)(e))return function(e,t){return te.apply(this,arguments)}(e,t);if((0,o.Os)(e))return re(e,t);if((0,o.Ew)(e))return re(e.body,t);throw new Error("makeIterator")}var se=n(8522),ue="Cannot convert supplied data type";function le(e,t,n){if(t.text&&"string"===typeof e)return e;if((0,o.zH)(e)&&(e=e.buffer),e instanceof ArrayBuffer){var r=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);var i=e.buffer,a=e.byteLength||e.length;return 0===e.byteOffset&&a===i.byteLength||(i=i.slice(e.byteOffset,e.byteOffset+a)),i}throw new Error(ue)}function ce(e,t,n){return fe.apply(this,arguments)}function fe(){return(fe=(0,i.Z)((0,r.Z)().mark((function e(t,n,i){var a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t instanceof ArrayBuffer||ArrayBuffer.isView(t),"string"!==typeof t&&!a){e.next=3;break}return e.abrupt("return",le(t,n));case 3:if(!(0,o.Lj)(t)){e.next=7;break}return e.next=6,(0,se.L1)(t);case 6:t=e.sent;case 7:if(!(0,o.Ew)(t)){e.next=21;break}return s=t,e.next=11,(0,se.mm)(s);case 11:if(!n.binary){e.next=17;break}return e.next=14,s.arrayBuffer();case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,s.text();case 19:e.t0=e.sent;case 20:return e.abrupt("return",e.t0);case 21:if((0,o.Os)(t)&&(t=ae(t,i)),!(0,o.TW)(t)&&!(0,o.D0)(t)){e.next=24;break}return e.abrupt("return",V(t));case 24:throw new Error(ue);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=n(2982);function he(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n)return n;var r=(0,g.Z)({fetch:(0,s.bV)(t,e)},e);return Array.isArray(r.loaders)||(r.loaders=null),r}function pe(e,t){if(!t&&e&&!Array.isArray(e))return e;var n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){var r=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[].concat((0,de.Z)(n),(0,de.Z)(r)):r}return n&&n.length?n:null}var ve=n(716);var ge=new(n(6368).Z)({id:"loaders.gl"}),ye=n(8589),me=/\.([^.]+)$/;function be(e){return _e.apply(this,arguments)}function _e(){return _e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,a,s,u=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:[],i=u.length>2?u[2]:void 0,a=u.length>3?u[3]:void 0,ke(t)){e.next=5;break}return e.abrupt("return",null);case 5:if(!(s=we(t,n,(0,g.Z)((0,g.Z)({},i),{},{nothrow:!0}),a))){e.next=8;break}return e.abrupt("return",s);case 8:if(!(0,o.Lj)(t)){e.next=13;break}return e.next=11,t.slice(0,10).arrayBuffer();case 11:t=e.sent,s=we(t,n,i,a);case 13:if(s||null!==i&&void 0!==i&&i.nothrow){e.next=15;break}throw new Error(Ee(t));case 15:return e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!ke(e))return null;if(t&&!Array.isArray(t))return(0,a.T)(t);var i,o=[];(t&&(o=o.concat(t)),null!==n&&void 0!==n&&n.ignoreRegisteredLoaders)||(i=o).push.apply(i,(0,de.Z)((0,ye.kO)()));Se(o);var s=xe(e,o,n,r);if(!s&&(null===n||void 0===n||!n.nothrow))throw new Error(Ee(e));return s}function xe(e,t,n,r){var i,o=(0,ve.l)(e),a=o.url,s=o.type,u=a||(null===r||void 0===r?void 0:r.url),l=null,c="";(null!==n&&void 0!==n&&n.mimeType&&(l=Te(t,null===n||void 0===n?void 0:n.mimeType),c="match forced by supplied MIME type ".concat(null===n||void 0===n?void 0:n.mimeType)),l=l||function(e,t){var n=t&&me.exec(t),r=n&&n[1];return r?function(e,t){t=t.toLowerCase();var n,r=(0,v.Z)(e);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=(0,v.Z)(o.extensions);try{for(a.s();!(i=a.n()).done;){if(i.value.toLowerCase()===t)return o}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e,r):null}(t,u),c=c||(l?"matched url ".concat(u):""),l=l||Te(t,s),c=c||(l?"matched MIME type ".concat(s):""),l=l||function(e,t){if(!t)return null;var n,r=(0,v.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("string"===typeof t){if(Pe(t,i))return i}else if(ArrayBuffer.isView(t)){if(Ae(t.buffer,t.byteOffset,i))return i}else if(t instanceof ArrayBuffer){if(Ae(t,0,i))return i}}}catch(o){r.e(o)}finally{r.f()}return null}(t,e),c=c||(l?"matched initial data ".concat(Ce(e)):""),l=l||Te(t,null===n||void 0===n?void 0:n.fallbackMimeType),c=c||(l?"matched fallback MIME type ".concat(s):""))&&ge.log(1,"selectLoader selected ".concat(null===(i=l)||void 0===i?void 0:i.name,": ").concat(c,"."));return l}function ke(e){return!(e instanceof Response&&204===e.status)}function Ee(e){var t=(0,ve.l)(e),n=t.url,r=t.type,i="No valid loader found (";i+=n?"".concat(function(e){var t=e&&e.lastIndexOf("/");return t>=0?e.substr(t+1):""}(n),", "):"no url provided, ",i+="MIME type: ".concat(r?'"'.concat(r,'"'):"not provided",", ");var o=e?Ce(e):"";return i+=o?' first bytes: "'.concat(o,'"'):"first bytes: not available",i+=")"}function Se(e){var t,n=(0,v.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;(0,a.T)(r)}}catch(i){n.e(i)}finally{n.f()}}function Te(e,t){var n,r=(0,v.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.mimeTypes&&i.mimeTypes.includes(t))return i;if(t==="application/x.".concat(i.id))return i}}catch(o){r.e(o)}finally{r.f()}return null}function Pe(e,t){return t.testText?t.testText(e):(Array.isArray(t.tests)?t.tests:[t.tests]).some((function(t){return e.startsWith(t)}))}function Ae(e,t,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some((function(r){return function(e,t,n,r){if(r instanceof ArrayBuffer)return function(e,t,n){if(n=n||e.byteLength,e.byteLength<n||t.byteLength<n)return!1;for(var r=new Uint8Array(e),i=new Uint8Array(t),o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(r,e,r.byteLength);switch(typeof r){case"function":return r(e,n);case"string":return r===Ze(e,t,r.length);default:return!1}}(e,t,n,r)}))}function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"===typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return Ze(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var n=0;return Ze(e,n,t)}return""}function Ze(e,t,n){if(e.byteLength<t+n)return"";for(var r=new DataView(e),i="",o=0;o<n;o++)i+=String.fromCharCode(r.getUint8(t+o));return i}function Oe(e,t,n,r){return Le.apply(this,arguments)}function Le(){return(Le=(0,i.Z)((0,r.Z)().mark((function e(t,n,i,o){var l,c,f,d;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!o||"object"===typeof o),!n||Array.isArray(n)||(0,a.C)(n)||(o=void 0,i=n,n=void 0),e.next=4,t;case 4:return t=e.sent,i=i||{},l=(0,ve.l)(t),c=l.url,f=pe(n,o),e.next=11,be(t,f,i);case 11:if(d=e.sent){e.next=14;break}return e.abrupt("return",null);case 14:return i=(0,s.GR)(i,d,f,c),o=he({url:c,parse:Oe,loaders:f},i,o),e.next=18,Re(d,t,i,o);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e,t,n,r){return Me.apply(this,arguments)}function Me(){return(Me=(0,i.Z)((0,r.Z)().mark((function e(t,n,i,a){var s,l,f,d,h,p,v,g;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(t),(0,o.Ew)(n)&&(l=(s=n).ok,f=s.redirected,d=s.status,h=s.statusText,p=s.type,v=s.url,g=Object.fromEntries(s.headers.entries()),a.response={headers:g,ok:l,redirected:f,status:d,statusText:h,type:p,url:v}),e.next=4,ce(n,t,i);case 4:if(n=e.sent,!t.parseTextSync||"string"!==typeof n){e.next=8;break}return i.dataType="text",e.abrupt("return",t.parseTextSync(n,i,a,t));case 8:if(!M(t,i)){e.next=12;break}return e.next=11,I(t,n,i,a,Oe);case 11:case 15:case 19:return e.abrupt("return",e.sent);case 12:if(!t.parseText||"string"!==typeof n){e.next=16;break}return e.next=15,t.parseText(n,i,a,t);case 16:if(!t.parse){e.next=20;break}return e.next=19,t.parse(n,i,a,t);case 20:throw u(!t.parseSync),new Error("".concat(t.id," loader - no parser found and worker is disabled"));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e,t,n,r){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,i.Z)((0,r.Z)().mark((function e(t,n,i,u){var l,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(n)||(0,a.C)(n)||(void 0,i=n,n=void 0),l=(0,s.bV)(i),c=t,"string"!==typeof t){e.next=7;break}return e.next=6,l(t);case 6:c=e.sent;case 7:if(!(0,o.Lj)(t)){e.next=11;break}return e.next=10,l(t);case 10:c=e.sent;case 11:return e.next=13,Oe(c,n,i);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},8589:function(e,t,n){"use strict";n.d(t,{fh:function(){return s},kO:function(){return u}});var r=n(7762),i=n(5146),o=n(9789),a=function(){var e=(0,o.rx)();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function s(e){var t=a();e=Array.isArray(e)?e:[e];var n,o=(0,r.Z)(e);try{var s=function(){var e=n.value,r=(0,i.T)(e);t.find((function(e){return r===e}))||t.unshift(r)};for(o.s();!(n=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}}function u(){return a()}},5146:function(e,t,n){"use strict";n.d(t,{C:function(){return o},T:function(){return a}});var r=n(1413),i=n(2498);function o(e){var t;return!!e&&(Array.isArray(e)&&(e=e[0]),Array.isArray(null===(t=e)||void 0===t?void 0:t.extensions))}function a(e){var t,n,a;return(0,i.h)(e,"null loader"),(0,i.h)(o(e),"invalid loader"),Array.isArray(e)&&(a=e[1],e=e[0],e=(0,r.Z)((0,r.Z)({},e),{},{options:(0,r.Z)((0,r.Z)({},e.options),a)})),(null!==(t=e)&&void 0!==t&&t.parseTextSync||null!==(n=e)&&void 0!==n&&n.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}},9789:function(e,t,n){"use strict";n.d(t,{bV:function(){return T},rx:function(){return k},GR:function(){return S}});var r=n(7762),i=n(1413),o=n(4106),a=n(4165),s=n(5861),u="",l={};function c(e){for(var t in l)if(e.startsWith(t)){var n=l[t];e=e.replace(t,n)}return e.startsWith("http://")||e.startsWith("https://")||(e="".concat(u).concat(e)),e}var f=n(8522);function d(e,t){return h.apply(this,arguments)}function h(){return(h=(0,s.Z)((0,a.Z)().mark((function e(t,n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=7;break}return t=c(t),r=n,null!==n&&void 0!==n&&n.fetch&&"function"!==typeof(null===n||void 0===n?void 0:n.fetch)&&(r=n.fetch),e.next=6,fetch(t,r);case 6:case 9:return e.abrupt("return",e.sent);case 7:return e.next=9,(0,f.L1)(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=n(5671),v=n(3144),g=n(4942),y=new(n(6368).Z)({id:"loaders.gl"}),m=function(){function e(){(0,p.Z)(this,e)}return(0,v.Z)(e,[{key:"log",value:function(){return function(){}}},{key:"info",value:function(){return function(){}}},{key:"warn",value:function(){return function(){}}},{key:"error",value:function(){return function(){}}}]),e}(),b=function(){function e(){(0,p.Z)(this,e),(0,g.Z)(this,"console",void 0),this.console=console}return(0,v.Z)(e,[{key:"log",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.log).bind.apply(e,[this.console].concat(n))}},{key:"info",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.info).bind.apply(e,[this.console].concat(n))}},{key:"warn",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.warn).bind.apply(e,[this.console].concat(n))}},{key:"error",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.error).bind.apply(e,[this.console].concat(n))}}]),e}(),_=n(8546),w={fetch:null,mimeType:void 0,nothrow:!1,log:new b,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:_.jU,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},x={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function k(){globalThis.loaders=globalThis.loaders||{};var e=globalThis.loaders;return e._state=e._state||{},e._state}var E=function(){var e=k();return e.globalOptions=e.globalOptions||(0,i.Z)({},w),e.globalOptions};function S(e,t,n,i){return n=n||[],function(e,t){P(e,null,w,x,t);var n,i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=e&&e[o.id]||{},s=o.options&&o.options[o.id]||{},u=o.deprecatedOptions&&o.deprecatedOptions[o.id]||{};P(a,o.id,s,u,t)}}catch(l){i.e(l)}finally{i.f()}}(e,n=Array.isArray(n)?n:[n]),C(t,e,i)}function T(e,t){var n=E(),r=e||n;return"function"===typeof r.fetch?r.fetch:(0,o.Kn)(r.fetch)?function(e){return d(e,r)}:null!==t&&void 0!==t&&t.fetch?null===t||void 0===t?void 0:t.fetch:d}function P(e,t,n,r,i){var a=t||"Top level",s=t?"".concat(t,"."):"";for(var u in e){var l=!t&&(0,o.Kn)(e[u]);if(!(u in n)&&!("baseUri"===u&&!t)&&!("workerUrl"===u&&t))if(u in r)y.warn("".concat(a," loader option '").concat(s).concat(u,"' no longer supported, use '").concat(r[u],"'"))();else if(!l){var c=A(u,i);y.warn("".concat(a," loader option '").concat(s).concat(u,"' not recognized. ").concat(c))()}}}function A(e,t){var n,i=e.toLowerCase(),o="",a=(0,r.Z)(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;for(var u in s.options){if(e===u)return"Did you mean '".concat(s.id,".").concat(u,"'?");var l=u.toLowerCase();(i.startsWith(l)||l.startsWith(i))&&(o=o||"Did you mean '".concat(s.id,".").concat(u,"'?"))}}}catch(c){a.e(c)}finally{a.f()}return o}function C(e,t,n){var r=e.options||{},o=(0,i.Z)({},r);return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(o,n),null===o.log&&(o.log=new m),Z(o,E()),Z(o,t),o}function Z(e,t){for(var n in t)if(n in t){var r=t[n];(0,o.Ss)(r)&&(0,o.Ss)(e[n])?e[n]=(0,i.Z)((0,i.Z)({},e[n]),t[n]):e[n]=t[n]}}},716:function(e,t,n){"use strict";n.d(t,{C:function(){return c},l:function(){return l}});var r=n(4106),i=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,o=/^([-\w.]+\/[-\w.+]+)/;function a(e){var t=o.exec(e);return t?t[1]:e}function s(e){var t=i.exec(e);return t?t[1]:""}var u=/\?.*/;function l(e){if((0,r.Ew)(e)){var t=f(e.url||"");return{url:t,type:a(e.headers.get("content-type")||"")||s(t)}}return(0,r.Lj)(e)?{url:f(e.name||""),type:e.type||""}:"string"===typeof e?{url:f(e),type:s(e)}:{url:"",type:""}}function c(e){return(0,r.Ew)(e)?e.headers["content-length"]||-1:(0,r.Lj)(e)?e.size:"string"===typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}function f(e){return e.replace(u,"")}},8522:function(e,t,n){"use strict";n.d(t,{L1:function(){return s},mm:function(){return l}});var r=n(4165),i=n(5861),o=n(4106),a=n(716);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,s,u,l,c,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,o.Ew)(t)){e.next=2;break}return e.abrupt("return",t);case 2:return n={},(i=(0,a.C)(t))>=0&&(n["content-length"]=String(i)),s=(0,a.l)(t),u=s.url,(l=s.type)&&(n["content-type"]=l),e.next=9,h(t);case 9:return(c=e.sent)&&(n["x-first-bytes"]=c),"string"===typeof t&&(t=(new TextEncoder).encode(t)),f=new Response(t,{headers:n}),Object.defineProperty(f,"url",{value:u}),e.abrupt("return",f);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return c.apply(this,arguments)}function c(){return(c=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,f(t);case 3:throw n=e.sent,new Error(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return d.apply(this,arguments)}function d(){return(d=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,i=t.headers.get("Content-Type"),o=t.statusText,!i.includes("application/json")){e.next=11;break}return e.t0=o,e.t1=" ",e.next=9,t.text();case 9:e.t2=e.sent,o=e.t0+=e.t1.concat.call(e.t1,e.t2);case 11:n=(n+=o).length>60?"".concat(n.slice(0,60),"..."):n,e.next=17;break;case 15:e.prev=15,e.t3=e.catch(1);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function h(e){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,o,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=5,"string"!==typeof t){e.next=3;break}return e.abrupt("return","data:,".concat(t.slice(0,n)));case 3:if(!(t instanceof Blob)){e.next=8;break}return i=t.slice(0,5),e.next=7,new Promise((function(e){var t=new FileReader;t.onload=function(t){var n;return e(null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.result)},t.readAsDataURL(i)}));case 7:return e.abrupt("return",e.sent);case 8:if(!(t instanceof ArrayBuffer)){e.next=12;break}return o=t.slice(0,n),a=v(o),e.abrupt("return","data:base64,".concat(a));case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){for(var t="",n=new Uint8Array(e),r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return btoa(t)}},2603:function(e,t,n){"use strict";n.d(t,{S:function(){return D}});var r=n(4165),i=n(5861),o=n(2498),a=n(8546),s=globalThis._parseImageNode,u="undefined"!==typeof Image,l="undefined"!==typeof ImageBitmap,c=Boolean(s),f=!!a.jU||c;function d(e){var t=p(e);if(!t)throw new Error("Not an image");return t}function h(e){switch(d(e)){case"data":return e;case"image":case"imagebitmap":var t=document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("getImageData");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}function p(e){return"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!==typeof Image&&e instanceof Image?"image":e&&"object"===typeof e&&e.data&&e.width&&e.height?"data":null}var v=/^data:image\/svg\+xml/,g=/\.svg((\?|#).*)?$/;function y(e){return e&&(v.test(e)||g.test(e))}function m(e,t){if(y(t)){var n=(new TextDecoder).decode(e);try{"function"===typeof unescape&&"function"===typeof encodeURIComponent&&(n=unescape(encodeURIComponent(n)))}catch(r){throw new Error(r.message)}return"data:image/svg+xml;base64,".concat(btoa(n))}return b(e,t)}function b(e,t){if(y(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}function _(e,t,n){return w.apply(this,arguments)}function w(){return(w=(0,i.Z)((0,r.Z)().mark((function e(t,n,i){var o,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=m(t,i),a=self.URL||self.webkitURL,s="string"!==typeof o&&a.createObjectURL(o),e.prev=3,e.next=6,x(s||o,n);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,s&&a.revokeObjectURL(s),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[3,,7,10]])})))).apply(this,arguments)}function x(e,t){return k.apply(this,arguments)}function k(){return(k=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=new Image).src=t,!(n.image&&n.image.decode&&i.decode)){e.next=6;break}return e.next=5,i.decode();case 5:return e.abrupt("return",i);case 6:return e.next=8,new Promise((function(e,n){try{i.onload=function(){return e(i)},i.onerror=function(e){return n(new Error("Could not load image ".concat(t,": ").concat(e)))}}catch(r){n(r)}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E={},S=!0;function T(e,t,n){return P.apply(this,arguments)}function P(){return(P=(0,i.Z)((0,r.Z)().mark((function e(t,n,i){var o,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y(i)){e.next=7;break}return e.next=3,_(t,n,i);case 3:a=e.sent,o=a,e.next=8;break;case 7:o=b(t,i);case 8:return s=n&&n.imagebitmap,e.next=11,A(o,s);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return C.apply(this,arguments)}function C(){return C=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z(n=i.length>1&&void 0!==i[1]?i[1]:null)&&S||(n=null),!n){e.next=13;break}return e.prev=3,e.next=6,createImageBitmap(t,n);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.warn(e.t0),S=!1;case 13:return e.next=15,createImageBitmap(t);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),C.apply(this,arguments)}function Z(e){for(var t in e||E)return!1;return!0}var O=!1,L=!0;function R(e){var t=M(e);return function(e){var t=M(e);if(!(t.byteLength>=24&&2303741511===t.getUint32(0,O)))return null;return{mimeType:"image/png",width:t.getUint32(16,O),height:t.getUint32(20,O)}}(t)||function(e){var t=M(e);if(!(t.byteLength>=3&&65496===t.getUint16(0,O)&&255===t.getUint8(2)))return null;var n=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var n=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:n}}(),r=n.tableMarkers,i=n.sofMarkers,o=2;for(;o+9<t.byteLength;){var a=t.getUint16(o,O);if(i.has(a))return{mimeType:"image/jpeg",height:t.getUint16(o+5,O),width:t.getUint16(o+7,O)};if(!r.has(a))return null;o+=2,o+=t.getUint16(o,O)}return null}(t)||function(e){var t=M(e);if(!(t.byteLength>=10&&1195984440===t.getUint32(0,O)))return null;return{mimeType:"image/gif",width:t.getUint16(6,L),height:t.getUint16(8,L)}}(t)||function(e){var t=M(e);if(!(t.byteLength>=14&&16973===t.getUint16(0,O)&&t.getUint32(2,L)===t.byteLength))return null;return{mimeType:"image/bmp",width:t.getUint32(18,L),height:t.getUint32(22,L)}}(t)}function M(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}function I(e,t){return N.apply(this,arguments)}function N(){return N=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=R(t)||{},a=i.mimeType,s=globalThis._parseImageNode,(0,o.h)(s),e.next=5,s(t,a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function F(){return(F=(0,i.Z)((0,r.Z)().mark((function e(t,n,i){var a,s,u,l,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(n=n||{}).image||{},s=a.type||"auto",u=(i||{}).url,l=j(s),e.t0=l,e.next="imagebitmap"===e.t0?8:"image"===e.t0?12:"data"===e.t0?16:20;break;case 8:return e.next=10,T(t,n,u);case 10:return c=e.sent,e.abrupt("break",21);case 12:return e.next=14,_(t,n,u);case 14:return c=e.sent,e.abrupt("break",21);case 16:return e.next=18,I(t,n);case 18:return c=e.sent,e.abrupt("break",21);case 20:(0,o.h)(!1);case 21:return"data"===s&&(c=h(c)),e.abrupt("return",c);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){switch(e){case"auto":case"data":return function(){if(l)return"imagebitmap";if(u)return"image";if(f)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(e){switch(e){case"auto":return l||u||f;case"imagebitmap":return l;case"image":return u;case"data":return f;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}}(e),e}}var D={id:"image",module:"images",name:"Images",version:"3.2.7",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:function(e,t,n){return F.apply(this,arguments)},tests:[function(e){return Boolean(R(new DataView(e)))}],options:{image:{type:"auto",decode:!0}}}},2498:function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"loader assertion failed.")}n.d(t,{h:function(){return r}})},8546:function(e,t,n){"use strict";n.d(t,{jU:function(){return i}});var r=n(1426),i=("undefined"!==typeof self&&self,"undefined"!==typeof window&&window,"undefined"!==typeof n.g&&n.g,"undefined"!==typeof document&&document,Boolean("object"!==typeof r||"[object process]"!==String(r)||r.browser)),o="undefined"!==typeof r&&r.version&&/v([0-9]*)/.exec(r.version);o&&parseFloat(o[1])},1156:function(e,t,n){"use strict";n.r(t),t.default={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,FUNC_ADD:32774,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,BLEND_COLOR:32773,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,VENDOR:7936,RENDERER:7937,VERSION:7938,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,BROWSER_DEFAULT_WEBGL:37444,STATIC_DRAW:35044,STREAM_DRAW:35040,DYNAMIC_DRAW:35048,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,CULL_FACE:2884,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,BLEND:3042,DEPTH_TEST:2929,DITHER:3024,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,SCISSOR_TEST:3089,STENCIL_TEST:2960,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CONTEXT_LOST_WEBGL:37442,CW:2304,CCW:2305,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,COMPILE_STATUS:35713,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_ATTRIBUTES:35721,ACTIVE_UNIFORMS:35718,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,ALWAYS:519,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,GEQUAL:518,NOTEQUAL:517,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,TEXTURE_WIDTH:4096,TEXTURE_HEIGHT:4097,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,MAX_3D_TEXTURE_SIZE:32883,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,MAX_TEXTURE_LOD_BIAS:34045,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,RASTERIZER_DISCARD:35977,VERTEX_ARRAY_BINDING:34229,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,MAX_ELEMENT_INDEX:36203,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,RGB9_E5:35901,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2UI:36975,TEXTURE_IMMUTABLE_FORMAT:37167,TEXTURE_IMMUTABLE_LEVELS:33503,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,INT_2_10_10_10_REV:36255,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,MAX_SAMPLES:36183,SAMPLER_BINDING:35097,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,UNSIGNED_NORMALIZED:35863,SIGNED_NORMALIZED:36764,VERTEX_ATTRIB_ARRAY_INTEGER:35069,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,DEPTH24_STENCIL8:35056,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,COLOR:6144,DEPTH:6145,STENCIL:6146,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,INVALID_INDEX:4294967295,TIMEOUT_IGNORED:-1,MAX_CLIENT_WAIT_TIMEOUT_WEBGL:37447,VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,UNMASKED_VENDOR_WEBGL:37445,UNMASKED_RENDERER_WEBGL:37446,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047,TEXTURE_MAX_ANISOTROPY_EXT:34046,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35986,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,UNSIGNED_INT_24_8_WEBGL:34042,HALF_FLOAT_OES:36193,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863,MIN_EXT:32775,MAX_EXT:32776,SRGB_EXT:35904,SRGB_ALPHA_EXT:35906,SRGB8_ALPHA8_EXT:35907,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT:33296,FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723,COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067,COLOR_ATTACHMENT4_WEBGL:36068,COLOR_ATTACHMENT5_WEBGL:36069,COLOR_ATTACHMENT6_WEBGL:36070,COLOR_ATTACHMENT7_WEBGL:36071,COLOR_ATTACHMENT8_WEBGL:36072,COLOR_ATTACHMENT9_WEBGL:36073,COLOR_ATTACHMENT10_WEBGL:36074,COLOR_ATTACHMENT11_WEBGL:36075,COLOR_ATTACHMENT12_WEBGL:36076,COLOR_ATTACHMENT13_WEBGL:36077,COLOR_ATTACHMENT14_WEBGL:36078,COLOR_ATTACHMENT15_WEBGL:36079,DRAW_BUFFER0_WEBGL:34853,DRAW_BUFFER1_WEBGL:34854,DRAW_BUFFER2_WEBGL:34855,DRAW_BUFFER3_WEBGL:34856,DRAW_BUFFER4_WEBGL:34857,DRAW_BUFFER5_WEBGL:34858,DRAW_BUFFER6_WEBGL:34859,DRAW_BUFFER7_WEBGL:34860,DRAW_BUFFER8_WEBGL:34861,DRAW_BUFFER9_WEBGL:34862,DRAW_BUFFER10_WEBGL:34863,DRAW_BUFFER11_WEBGL:34864,DRAW_BUFFER12_WEBGL:34865,DRAW_BUFFER13_WEBGL:34866,DRAW_BUFFER14_WEBGL:34867,DRAW_BUFFER15_WEBGL:34868,MAX_COLOR_ATTACHMENTS_WEBGL:36063,MAX_DRAW_BUFFERS_WEBGL:34852,VERTEX_ARRAY_BINDING_OES:34229,QUERY_COUNTER_BITS_EXT:34916,CURRENT_QUERY_EXT:34917,QUERY_RESULT_EXT:34918,QUERY_RESULT_AVAILABLE_EXT:34919,TIME_ELAPSED_EXT:35007,TIMESTAMP_EXT:36392,GPU_DISJOINT_EXT:36795}},3134:function(e,t,n){"use strict";n.r(t),n.d(t,{AnimationLoop:function(){return z.Z},Buffer:function(){return s.Z},ClipSpace:function(){return W.Z},ConeGeometry:function(){return C},CubeGeometry:function(){return H.Z},CylinderGeometry:function(){return Z},FEATURES:function(){return o.h},FragmentShader:function(){return h.gs},Framebuffer:function(){return l.Z},Geometry:function(){return E.Z},IcoSphereGeometry:function(){return M},Model:function(){return B.Z},PlaneGeometry:function(){return N},Program:function(){return u.Z},ProgramManager:function(){return V.Z},Renderbuffer:function(){return c.Z},SphereGeometry:function(){return j},Texture2D:function(){return f.Z},Texture3D:function(){return y.Z},TextureCube:function(){return d.Z},Timeline:function(){return G.T},Transform:function(){return U.Z},TransformFeedback:function(){return m.Z},TruncatedConeGeometry:function(){return P},VertexShader:function(){return h.Qh},assert:function(){return ce.h},clear:function(){return p.Z},cloneTextureFrom:function(){return g.h},copyToTexture:function(){return v.Lv},createGLContext:function(){return r.s9},cssToDevicePixels:function(){return r.JY},cssToDeviceRatio:function(){return r.w},dirlight:function(){return ie},fp32:function(){return se.O},fp64:function(){return Q},getParameters:function(){return r.ZS},gouraudLighting:function(){return le.N},hasFeature:function(){return a.U6},hasFeatures:function(){return a.ag},instrumentGLContext:function(){return r.yW},isWebGL:function(){return r.UF},isWebGL2:function(){return r.D0},log:function(){return r.cM},lumaStats:function(){return i.lR},normalizeShaderModule:function(){return ae.v},pbr:function(){return oe},phongLighting:function(){return le.s},picking:function(){return ue.q},project:function(){return ne},readPixelsToArray:function(){return v.z6},readPixelsToBuffer:function(){return v.Jb},resetParameters:function(){return r.kL},setParameters:function(){return r.dR},uid:function(){return S.hQ},withParameters:function(){return r.s8}});var r=n(8767),i=n(8479),o=n(109),a=n(3670),s=n(1735),u=n(5068),l=n(6796),c=n(1535),f=n(2366),d=n(5872),h=n(2448),p=n(8653),v=n(9507),g=n(8542),y=n(8137),m=n(6177),b=n(1413),_=n(3144),w=n(5671),x=n(136),k=n(7277),E=n(643),S=n(1813),T={x:[2,0,1],y:[0,1,2],z:[1,2,0]},P=function(e){(0,x.Z)(n,e);var t=(0,k.Z)(n);function n(){(0,w.Z)(this,n);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,i=void 0===r?(0,S.hQ)("truncated-code-geometry"):r,o=A(e),a=o.indices,s=o.attributes;return t.call(this,(0,b.Z)((0,b.Z)({},e),{},{id:i,indices:a,attributes:(0,b.Z)((0,b.Z)({},s),e.attributes)}))}return(0,_.Z)(n)}(E.Z);function A(e){for(var t=e.bottomRadius,n=void 0===t?0:t,r=e.topRadius,i=void 0===r?0:r,o=e.height,a=void 0===o?1:o,s=e.nradial,u=void 0===s?10:s,l=e.nvertical,c=void 0===l?10:l,f=e.verticalAxis,d=void 0===f?"y":f,h=e.topCap,p=void 0!==h&&h,v=e.bottomCap,g=void 0!==v&&v,y=(p?2:0)+(g?2:0),m=(u+1)*(c+1+y),b=Math.atan2(n-i,a),_=Math.sin,w=Math.cos,x=Math.PI,k=w(b),E=_(b),S=p?-2:0,P=c+(g?2:0),A=u+1,C=new Uint16Array(u*(c+y)*6),Z=T[d],O=new Float32Array(3*m),L=new Float32Array(3*m),R=new Float32Array(2*m),M=0,I=0,N=S;N<=P;N++){var F=N/c,j=a*F,D=void 0;N<0?(j=0,F=1,D=n):N>c?(j=a,F=1,D=i):D=n+N/c*(i-n),-2!==N&&N!==c+2||(D=0,F=0),j-=a/2;for(var z=0;z<A;z++){var B=_(z*x*2/u),U=w(z*x*2/u);O[M+Z[0]]=B*D,O[M+Z[1]]=j,O[M+Z[2]]=U*D,L[M+Z[0]]=N<0||N>c?0:B*k,L[M+Z[1]]=N<0?-1:N>c?1:E,L[M+Z[2]]=N<0||N>c?0:U*k,R[I+0]=z/u,R[I+1]=F,I+=2,M+=3}}for(var V=0;V<c+y;V++)for(var G=0;G<u;G++){var W=6*(V*u+G);C[W+0]=A*(V+0)+0+G,C[W+1]=A*(V+0)+1+G,C[W+2]=A*(V+1)+1+G,C[W+3]=A*(V+0)+0+G,C[W+4]=A*(V+1)+1+G,C[W+5]=A*(V+1)+0+G}return{indices:C,attributes:{POSITION:{size:3,value:O},NORMAL:{size:3,value:L},TEXCOORD_0:{size:2,value:R}}}}var C=function(e){(0,x.Z)(n,e);var t=(0,k.Z)(n);function n(){(0,w.Z)(this,n);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,i=void 0===r?(0,S.hQ)("cone-geometry"):r,o=e.radius,a=void 0===o?1:o,s=e.cap,u=void 0===s||s;return t.call(this,(0,b.Z)((0,b.Z)({},e),{},{id:i,topRadius:0,topCap:Boolean(u),bottomCap:Boolean(u),bottomRadius:a}))}return(0,_.Z)(n)}(P),Z=function(e){(0,x.Z)(n,e);var t=(0,k.Z)(n);function n(){(0,w.Z)(this,n);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,i=void 0===r?(0,S.hQ)("cylinder-geometry"):r,o=e.radius,a=void 0===o?1:o;return t.call(this,(0,b.Z)((0,b.Z)({},e),{},{id:i,bottomRadius:a,topRadius:a}))}return(0,_.Z)(n)}(P),O=n(347),L=[-1,0,0,0,1,0,0,0,-1,0,0,1,0,-1,0,1,0,0],R=[3,4,5,3,5,1,3,1,0,3,0,4,4,0,2,4,2,5,2,0,1,5,2,1],M=function(e){(0,x.Z)(n,e);var t=(0,k.Z)(n);function n(){(0,w.Z)(this,n);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,i=void 0===r?(0,S.hQ)("ico-sphere-geometry"):r,o=I(e),a=o.indices,s=o.attributes;return t.call(this,(0,b.Z)((0,b.Z)({},e),{},{id:i,indices:a,attributes:(0,b.Z)((0,b.Z)({},s),e.attributes)}))}return(0,_.Z)(n)}(E.Z);function I(e){var t=e.iterations,n=void 0===t?0:t,r=Math.PI,i=2*r,o=[].concat(L),a=[].concat(R);o.push(),a.push();for(var s=function(){var e={};return function(t,n){var r=(t*=3)>(n*=3)?t:n,i="".concat(t<n?t:n,"|").concat(r);if(i in e)return e[i];var a=o[t],s=o[t+1],u=o[t+2],l=(a+o[n])/2,c=(s+o[n+1])/2,f=(u+o[n+2])/2,d=Math.sqrt(l*l+c*c+f*f);return l/=d,c/=d,f/=d,o.push(l,c,f),e[i]=o.length/3-1}}(),u=0;u<n;u++){for(var l=[],c=0;c<a.length;c+=3){var f=s(a[c+0],a[c+1]),d=s(a[c+1],a[c+2]),h=s(a[c+2],a[c+0]);l.push(h,a[c+0],f,f,a[c+1],d,d,a[c+2],h,f,d,h)}a=l}for(var p=new Array(o.length),v=new Array(o.length/3*2),g=a.length-3;g>=0;g-=3){var y=a[g+0],m=a[g+1],b=a[g+2],_=3*y,w=3*m,x=3*b,k=2*y,E=2*m,S=2*b,T=o[_+0],P=o[_+1],A=o[_+2],C=Math.acos(A/Math.sqrt(T*T+P*P+A*A))/r,Z=1-(Math.atan2(P,T)+r)/i,M=o[w+0],I=o[w+1],N=o[w+2],F=Math.acos(N/Math.sqrt(M*M+I*I+N*N))/r,j=1-(Math.atan2(I,M)+r)/i,D=o[x+0],z=o[x+1],B=o[x+2],U=Math.acos(B/Math.sqrt(D*D+z*z+B*B))/r,V=1-(Math.atan2(z,D)+r)/i,G=[D-M,z-I,B-N],W=[T-M,P-I,A-N],H=new O.Z(G).cross(W).normalize(),X=void 0;(0===Z||0===j||0===V)&&(0===Z||Z>.5)&&(0===j||j>.5)&&(0===V||V>.5)&&(o.push(o[_+0],o[_+1],o[_+2]),X=o.length/3-1,a.push(X),v[2*X+0]=1,v[2*X+1]=C,p[3*X+0]=H.x,p[3*X+1]=H.y,p[3*X+2]=H.z,o.push(o[w+0],o[w+1],o[w+2]),X=o.length/3-1,a.push(X),v[2*X+0]=1,v[2*X+1]=F,p[3*X+0]=H.x,p[3*X+1]=H.y,p[3*X+2]=H.z,o.push(o[x+0],o[x+1],o[x+2]),X=o.length/3-1,a.push(X),v[2*X+0]=1,v[2*X+1]=U,p[3*X+0]=H.x,p[3*X+1]=H.y,p[3*X+2]=H.z),p[_+0]=p[w+0]=p[x+0]=H.x,p[_+1]=p[w+1]=p[x+1]=H.y,p[_+2]=p[w+2]=p[x+2]=H.z,v[k+0]=Z,v[k+1]=C,v[E+0]=j,v[E+1]=F,v[S+0]=V,v[S+1]=U}return{indices:{size:1,value:new Uint16Array(a)},attributes:{POSITION:{size:3,value:new Float32Array(o)},NORMAL:{size:3,value:new Float32Array(p)},TEXCOORD_0:{size:2,value:new Float32Array(v)}}}}var N=function(e){(0,x.Z)(n,e);var t=(0,k.Z)(n);function n(){(0,w.Z)(this,n);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,i=void 0===r?(0,S.hQ)("plane-geometry"):r,o=F(e),a=o.indices,s=o.attributes;return t.call(this,(0,b.Z)((0,b.Z)({},e),{},{id:i,indices:a,attributes:(0,b.Z)((0,b.Z)({},s),e.attributes)}))}return(0,_.Z)(n)}(E.Z);function F(e){var t=e.type,n=void 0===t?"x,y":t,r=e.offset,i=void 0===r?0:r,o=e.flipCull,a=void 0!==o&&o,s=e.unpack,u=void 0!==s&&s,l=n.split(","),c=e["".concat(l[0],"len")]||1,f=e["".concat(l[1],"len")]||1,d=e["n".concat(l[0])]||1,h=e["n".concat(l[1])]||1,p=(d+1)*(h+1),v=new Float32Array(3*p),g=new Float32Array(3*p),y=new Float32Array(2*p);a&&(c=-c);for(var m=0,b=0,_=0;_<=h;_++)for(var w=0;w<=d;w++){var x=w/d,k=_/h;switch(y[m+0]=a?1-x:x,y[m+1]=k,n){case"x,y":v[b+0]=c*x-.5*c,v[b+1]=f*k-.5*f,v[b+2]=i,g[b+0]=0,g[b+1]=0,g[b+2]=a?1:-1;break;case"x,z":v[b+0]=c*x-.5*c,v[b+1]=i,v[b+2]=f*k-.5*f,g[b+0]=0,g[b+1]=a?1:-1,g[b+2]=0;break;case"y,z":v[b+0]=i,v[b+1]=c*x-.5*c,v[b+2]=f*k-.5*f,g[b+0]=a?1:-1,g[b+1]=0,g[b+2]=0;break;default:throw new Error("PlaneGeometry: unknown type")}m+=2,b+=3}for(var E=d+1,S=new Uint16Array(d*h*6),T=0;T<h;T++)for(var P=0;P<d;P++){var A=6*(T*d+P);S[A+0]=(T+0)*E+P,S[A+1]=(T+1)*E+P,S[A+2]=(T+0)*E+P+1,S[A+3]=(T+1)*E+P,S[A+4]=(T+1)*E+P+1,S[A+5]=(T+0)*E+P+1}var C={indices:{size:1,value:S},attributes:{POSITION:{size:3,value:v},NORMAL:{size:3,value:g},TEXCOORD_0:{size:2,value:y}}};return u?function(e){var t=e.indices,n=e.attributes;if(!t)return e;var r=t.value.length,i={};for(var o in n){var a=n[o],s=a.constant,u=a.value,l=a.size;if(!s&&l){for(var c=new u.constructor(r*l),f=0;f<r;++f)for(var d=t.value[f],h=0;h<l;h++)c[f*l+h]=u[d*l+h];i[o]={size:l,value:c}}}return{attributes:Object.assign({},n,i)}}(C):C}var j=function(e){(0,x.Z)(n,e);var t=(0,k.Z)(n);function n(){(0,w.Z)(this,n);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,i=void 0===r?(0,S.hQ)("sphere-geometry"):r,o=D(e),a=o.indices,s=o.attributes;return t.call(this,(0,b.Z)((0,b.Z)({},e),{},{id:i,indices:a,attributes:(0,b.Z)((0,b.Z)({},s),e.attributes)}))}return(0,_.Z)(n)}(E.Z);function D(e){var t=e.nlat,n=void 0===t?10:t,r=e.nlong,i=void 0===r?10:r,o=e.radius,a=void 0===o?1:o,s=Math.PI-0,u=2*Math.PI-0,l=(n+1)*(i+1);if("number"===typeof a){var c=a;a=function(e,t,n,r,i){return c}}for(var f=new Float32Array(3*l),d=new Float32Array(3*l),h=new Float32Array(2*l),p=new(l>65535?Uint32Array:Uint16Array)(n*i*6),v=0;v<=n;v++)for(var g=0;g<=i;g++){var y=g/i,m=v/n,b=g+v*(i+1),_=2*b,w=3*b,x=u*y,k=s*m,E=Math.sin(x),S=Math.cos(x),T=Math.sin(k),P=S*T,A=Math.cos(k),C=E*T,Z=a(P,A,C,y,m);f[w+0]=Z*P,f[w+1]=Z*A,f[w+2]=Z*C,d[w+0]=P,d[w+1]=A,d[w+2]=C,h[_+0]=y,h[_+1]=1-m}for(var O=i+1,L=0;L<i;L++)for(var R=0;R<n;R++){var M=6*(L*n+R);p[M+0]=R*O+L,p[M+1]=R*O+L+1,p[M+2]=(R+1)*O+L,p[M+3]=(R+1)*O+L,p[M+4]=R*O+L+1,p[M+5]=(R+1)*O+L+1}return{indices:{size:1,value:p},attributes:{POSITION:{size:3,value:f},NORMAL:{size:3,value:d},TEXCOORD_0:{size:2,value:h}}}}var z=n(3358),B=n(6501),U=n(9719),V=n(9119),G=n(851),W=n(5410),H=n(6139);function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.fround(e),i=e-r;return t[n]=r,t[n+1]=i,t}function Y(e){return e-Math.fround(e)}function K(e){for(var t=new Float32Array(32),n=0;n<4;++n)for(var r=0;r<4;++r){var i=4*n+r;X(e[4*r+n],t,2*i)}return t}var q={ONE:1};var Q={name:"fp64",vs:"const vec2 E_FP64 = vec2(2.7182817459106445e+00, 8.254840366817007e-08);\nconst vec2 LOG2_FP64 = vec2(0.6931471824645996e+00, -1.9046542121259336e-09);\nconst vec2 PI_FP64 = vec2(3.1415927410125732, -8.742278012618954e-8);\nconst vec2 TWO_PI_FP64 = vec2(6.2831854820251465, -1.7484556025237907e-7);\nconst vec2 PI_2_FP64 = vec2(1.5707963705062866, -4.371139006309477e-8);\nconst vec2 PI_4_FP64 = vec2(0.7853981852531433, -2.1855695031547384e-8);\nconst vec2 PI_16_FP64 = vec2(0.19634954631328583, -5.463923757886846e-9);\nconst vec2 PI_16_2_FP64 = vec2(0.39269909262657166, -1.0927847515773692e-8);\nconst vec2 PI_16_3_FP64 = vec2(0.5890486240386963, -1.4906100798128818e-9);\nconst vec2 PI_180_FP64 = vec2(0.01745329238474369, 1.3519960498364902e-10);\n\nconst vec2 SIN_TABLE_0_FP64 = vec2(0.19509032368659973, -1.6704714833615242e-9);\nconst vec2 SIN_TABLE_1_FP64 = vec2(0.3826834261417389, 6.22335089017767e-9);\nconst vec2 SIN_TABLE_2_FP64 = vec2(0.5555702447891235, -1.1769521357507529e-8);\nconst vec2 SIN_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617041793133e-8);\n\nconst vec2 COS_TABLE_0_FP64 = vec2(0.9807852506637573, 2.9739473106360492e-8);\nconst vec2 COS_TABLE_1_FP64 = vec2(0.9238795042037964, 2.8307490351764386e-8);\nconst vec2 COS_TABLE_2_FP64 = vec2(0.8314695954322815, 1.6870263741530778e-8);\nconst vec2 COS_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617152815436e-8);\n\nconst vec2 INVERSE_FACTORIAL_3_FP64 = vec2(1.666666716337204e-01, -4.967053879312289e-09);\nconst vec2 INVERSE_FACTORIAL_4_FP64 = vec2(4.16666679084301e-02, -1.2417634698280722e-09);\nconst vec2 INVERSE_FACTORIAL_5_FP64 = vec2(8.333333767950535e-03, -4.34617203337595e-10);\nconst vec2 INVERSE_FACTORIAL_6_FP64 = vec2(1.3888889225199819e-03, -3.3631094437103215e-11);\nconst vec2 INVERSE_FACTORIAL_7_FP64 = vec2(1.9841270113829523e-04,  -2.725596874933456e-12);\nconst vec2 INVERSE_FACTORIAL_8_FP64 = vec2(2.4801587642286904e-05, -3.406996025904184e-13);\nconst vec2 INVERSE_FACTORIAL_9_FP64 = vec2(2.75573188446287533e-06, 3.7935713937038186e-14);\nconst vec2 INVERSE_FACTORIAL_10_FP64 = vec2(2.755731998149713e-07, -7.575112367869873e-15);\n\nfloat nint(float d) {\n    if (d == floor(d)) return d;\n    return floor(d + 0.5);\n}\n\nvec2 nint_fp64(vec2 a) {\n    float hi = nint(a.x);\n    float lo;\n    vec2 tmp;\n    if (hi == a.x) {\n        lo = nint(a.y);\n        tmp = quickTwoSum(hi, lo);\n    } else {\n        lo = 0.0;\n        if (abs(hi - a.x) == 0.5 && a.y < 0.0) {\n            hi -= 1.0;\n        }\n        tmp = vec2(hi, lo);\n    }\n    return tmp;\n}\n\nvec2 exp_fp64(vec2 a) {\n\n  const int k_power = 4;\n  const float k = 16.0;\n\n  const float inv_k = 1.0 / k;\n\n  if (a.x <= -88.0) return vec2(0.0, 0.0);\n  if (a.x >= 88.0) return vec2(1.0 / 0.0, 1.0 / 0.0);\n  if (a.x == 0.0 && a.y == 0.0) return vec2(1.0, 0.0);\n  if (a.x == 1.0 && a.y == 0.0) return E_FP64;\n\n  float m = floor(a.x / LOG2_FP64.x + 0.5);\n  vec2 r = sub_fp64(a, mul_fp64(LOG2_FP64, vec2(m, 0.0))) * inv_k;\n  vec2 s, t, p;\n\n  p = mul_fp64(r, r);\n  s = sum_fp64(r, p * 0.5);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_3_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_4_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_5_FP64);\n\n\n\n\n\n\n  s = sum_fp64(s, t);\n  for (int i = 0; i < k_power; i++) {\n    s = sum_fp64(s * 2.0, mul_fp64(s, s));\n  }\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = sum_fp64(s, vec2(ONE, 0.0));\n#else\n  s = sum_fp64(s, vec2(1.0, 0.0));\n#endif\n\n  return s * pow(2.0, m);\n}\n\nvec2 log_fp64(vec2 a)\n{\n  if (a.x == 1.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x <= 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n  vec2 x = vec2(log(a.x), 0.0);\n  vec2 s;\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = vec2(ONE, 0.0);\n#else\n  s = vec2(1.0, 0.0);\n#endif\n\n  x = sub_fp64(sum_fp64(x, mul_fp64(a, exp_fp64(-x))), s);\n  return x;\n}\n\nvec2 sin_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(0.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  s = a;\n  r = a;\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_3_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_5_FP64);\n  s = sum_fp64(s, t);\n\n\n\n\n\n\n  return s;\n}\n\nvec2 cos_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(1.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  r = x;\n  s = sum_fp64(vec2(1.0, 0.0), r * 0.5);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_4_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_6_FP64);\n  s = sum_fp64(s, t);\n\n\n\n\n\n\n  return s;\n}\n\nvoid sincos_taylor_fp64(vec2 a, out vec2 sin_t, out vec2 cos_t) {\n  if (a.x == 0.0 && a.y == 0.0) {\n    sin_t = vec2(0.0, 0.0);\n    cos_t = vec2(1.0, 0.0);\n  }\n\n  sin_t = sin_taylor_fp64(a);\n  cos_t = sqrt_fp64(sub_fp64(vec2(1.0, 0.0), mul_fp64(sin_t, sin_t)));\n}\n\nvec2 sin_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return sin_taylor_fp64(t);\n        } else if (j == 1) {\n            return cos_taylor_fp64(t);\n        } else if (j == -1) {\n            return -cos_taylor_fp64(t);\n        } else {\n            return -sin_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 cos_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(1.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return cos_taylor_fp64(t);\n        } else if (j == 1) {\n            return -sin_taylor_fp64(t);\n        } else if (j == -1) {\n            return sin_taylor_fp64(t);\n        } else {\n            return -cos_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 tan_fp64(vec2 a) {\n    vec2 sin_a;\n    vec2 cos_a;\n\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n    vec2 sin_t, cos_t;\n    vec2 s, c;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#else\n        if (abs_k == 1) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs_k == 2) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs_k == 3) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs_k == 4) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#endif\n        if (k > 0) {\n            s = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            s = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return div_fp64(sin_a, cos_a);\n}\n\nvec2 radians_fp64(vec2 degree) {\n  return mul_fp64(degree, PI_180_FP64);\n}\n\nvec2 mix_fp64(vec2 a, vec2 b, float x) {\n  vec2 range = sub_fp64(b, a);\n  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));\n}\n\nvoid vec2_sum_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sum_fp64(a[0], b[0]);\n    out_val[1] = sum_fp64(a[1], b[1]);\n}\n\nvoid vec2_sub_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sub_fp64(a[0], b[0]);\n    out_val[1] = sub_fp64(a[1], b[1]);\n}\n\nvoid vec2_mul_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = mul_fp64(a[0], b[0]);\n    out_val[1] = mul_fp64(a[1], b[1]);\n}\n\nvoid vec2_div_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = div_fp64(a[0], b[0]);\n    out_val[1] = div_fp64(a[1], b[1]);\n}\n\nvoid vec2_mix_fp64(vec2 x[2], vec2 y[2], float a, out vec2 out_val[2]) {\n  vec2 range[2];\n  vec2_sub_fp64(y, x, range);\n  vec2 portion[2];\n  portion[0] = range[0] * a;\n  portion[1] = range[1] * a;\n  vec2_sum_fp64(x, portion, out_val);\n}\n\nvec2 vec2_length_fp64(vec2 x[2]) {\n  return sqrt_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])));\n}\n\nvoid vec2_normalize_fp64(vec2 x[2], out vec2 out_val[2]) {\n  vec2 length = vec2_length_fp64(x);\n  vec2 length_vec2[2];\n  length_vec2[0] = length;\n  length_vec2[1] = length;\n\n  vec2_div_fp64(x, length_vec2, out_val);\n}\n\nvec2 vec2_distance_fp64(vec2 x[2], vec2 y[2]) {\n  vec2 diff[2];\n  vec2_sub_fp64(x, y, diff);\n  return vec2_length_fp64(diff);\n}\n\nvec2 vec2_dot_fp64(vec2 a[2], vec2 b[2]) {\n  vec2 v[2];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n\n  return sum_fp64(v[0], v[1]);\n}\nvoid vec3_sub_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec3_sum_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvec2 vec3_length_fp64(vec2 x[3]) {\n  return sqrt_fp64(sum_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])),\n    mul_fp64(x[2], x[2])));\n}\n\nvec2 vec3_distance_fp64(vec2 x[3], vec2 y[3]) {\n  vec2 diff[3];\n  vec3_sub_fp64(x, y, diff);\n  return vec3_length_fp64(diff);\n}\nvoid vec4_fp64(vec4 a, out vec2 out_val[4]) {\n  out_val[0].x = a[0];\n  out_val[0].y = 0.0;\n\n  out_val[1].x = a[1];\n  out_val[1].y = 0.0;\n\n  out_val[2].x = a[2];\n  out_val[2].y = 0.0;\n\n  out_val[3].x = a[3];\n  out_val[3].y = 0.0;\n}\n\nvoid vec4_scalar_mul_fp64(vec2 a[4], vec2 b, out vec2 out_val[4]) {\n  out_val[0] = mul_fp64(a[0], b);\n  out_val[1] = mul_fp64(a[1], b);\n  out_val[2] = mul_fp64(a[2], b);\n  out_val[3] = mul_fp64(a[3], b);\n}\n\nvoid vec4_sum_fp64(vec2 a[4], vec2 b[4], out vec2 out_val[4]) {\n  for (int i = 0; i < 4; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec4_dot_fp64(vec2 a[4], vec2 b[4], out vec2 out_val) {\n  vec2 v[4];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n  v[2] = mul_fp64(a[2], b[2]);\n  v[3] = mul_fp64(a[3], b[3]);\n\n  out_val = sum_fp64(sum_fp64(v[0], v[1]), sum_fp64(v[2], v[3]));\n}\n\nvoid mat4_vec4_mul_fp64(vec2 b[16], vec2 a[4], out vec2 out_val[4]) {\n  vec2 tmp[4];\n\n  for (int i = 0; i < 4; i++)\n  {\n    for (int j = 0; j < 4; j++)\n    {\n      tmp[j] = b[j + i * 4];\n    }\n    vec4_dot_fp64(a, tmp, out_val[i]);\n  }\n}\n",fs:null,dependencies:[{name:"fp64-arithmetic",vs:"uniform float ONE;\nvec2 split(float a) {\n  const float SPLIT = 4097.0;\n  float t = a * SPLIT;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float a_hi = t * ONE - (t - a);\n  float a_lo = a * ONE - a_hi;\n#else\n  float a_hi = t - (t - a);\n  float a_lo = a - a_hi;\n#endif\n  return vec2(a_hi, a_lo);\n}\nvec2 split2(vec2 a) {\n  vec2 b = split(a.x);\n  b.y += a.y;\n  return b;\n}\nvec2 quickTwoSum(float a, float b) {\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float sum = (a + b) * ONE;\n  float err = b - (sum - a) * ONE;\n#else\n  float sum = a + b;\n  float err = b - (sum - a);\n#endif\n  return vec2(sum, err);\n}\nvec2 twoSum(float a, float b) {\n  float s = (a + b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE + (b - v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) + (b - v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSub(float a, float b) {\n  float s = (a - b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE - (b + v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) - (b + v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSqr(float a) {\n  float prod = a * a;\n  vec2 a_fp64 = split(a);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float err = ((a_fp64.x * a_fp64.x - prod) * ONE + 2.0 * a_fp64.x *\n    a_fp64.y * ONE * ONE) + a_fp64.y * a_fp64.y * ONE * ONE * ONE;\n#else\n  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;\n#endif\n  return vec2(prod, err);\n}\n\nvec2 twoProd(float a, float b) {\n  float prod = a * b;\n  vec2 a_fp64 = split(a);\n  vec2 b_fp64 = split(b);\n  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +\n    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;\n  return vec2(prod, err);\n}\n\nvec2 sum_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSum(a.x, b.x);\n  t = twoSum(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 sub_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSub(a.x, b.x);\n  t = twoSub(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 mul_fp64(vec2 a, vec2 b) {\n  vec2 prod = twoProd(a.x, b.x);\n  prod.y += a.x * b.y;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  prod.y += a.y * b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  return prod;\n}\n\nvec2 div_fp64(vec2 a, vec2 b) {\n  float xn = 1.0 / b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  vec2 yn = mul_fp64(a, vec2(xn, 0));\n#else\n  vec2 yn = a * xn;\n#endif\n  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;\n  vec2 prod = twoProd(xn, diff);\n  return sum_fp64(yn, prod);\n}\n\nvec2 sqrt_fp64(vec2 a) {\n  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n\n  float x = 1.0 / sqrt(a.x);\n  float yn = a.x * x;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  vec2 yn_sqr = twoSqr(yn) * ONE;\n#else\n  vec2 yn_sqr = twoSqr(yn);\n#endif\n  float diff = sub_fp64(a, yn_sqr).x;\n  vec2 prod = twoProd(x * 0.5, diff);\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  return sum_fp64(split(yn), prod);\n#else\n  return sum_fp64(vec2(yn, 0.0), prod);\n#endif\n}\n",fs:null,getUniforms:function(){return q},fp64ify:X,fp64LowPart:Y,fp64ifyMatrix4:K}],fp64ify:X,fp64LowPart:Y,fp64ifyMatrix4:K},$=n(6911),J=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],ee={modelMatrix:J,viewMatrix:J,projectionMatrix:J,cameraPositionWorld:[0,0,0]};var te="varying vec4 project_vPositionWorld;\nvarying vec3 project_vNormalWorld;\n\nvec4 project_getPosition_World() {\n  return project_vPositionWorld;\n}\n\nvec3 project_getNormal_World() {\n  return project_vNormalWorld;\n}\n",ne={name:"project",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t={};return void 0!==e.modelMatrix&&(t.modelMatrix=e.modelMatrix),void 0!==e.viewMatrix&&(t.viewMatrix=e.viewMatrix),void 0!==e.projectionMatrix&&(t.projectionMatrix=e.projectionMatrix),void 0!==e.cameraPositionWorld&&(t.cameraPositionWorld=e.cameraPositionWorld),void 0===e.projectionMatrix&&void 0===e.viewMatrix||(t.viewProjectionMatrix=new $.Z(e.projectionMatrix).multiplyRight(e.viewMatrix)),t},vs:"".concat(te,"\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewProjectionMatrix;\nuniform vec3 cameraPositionWorld;\n\nstruct World {\n  vec3 position;\n  vec3 normal;\n};\n\nWorld world;\n\nvoid project_setPosition(vec4 position) {\n  project_vPositionWorld = position;\n}\n\nvoid project_setNormal(vec3 normal) {\n  project_vNormalWorld = normal;\n}\n\nvoid project_setPositionAndNormal_World(vec3 position, vec3 normal) {\n  world.position = position;\n  world.normal = normal;\n}\n\nvoid project_setPositionAndNormal_Model(vec3 position, vec3 normal) {\n  world.position = (modelMatrix * vec4(position, 1.)).xyz;\n  world.normal = mat3(modelMatrix) * normal;\n}\n\nvec4 project_model_to_clipspace(vec4 position) {\n  return viewProjectionMatrix * modelMatrix * position;\n}\n\nvec4 project_model_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * modelMatrix * vec4(position, 1.);\n}\n\nvec4 project_world_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_view_to_clipspace(vec3 position) {\n  return projectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n"),fs:"\n".concat(te)},re={lightDirection:new Float32Array([1,1,2])};var ie={name:"dirlight",vs:null,fs:"uniform vec3 dirlight_uLightDirection;\nvec4 dirlight_filterColor(vec4 color) {\n  vec3 normal = project_getNormal_World();\n  float d = abs(dot(normalize(normal), normalize(dirlight_uLightDirection)));\n  return vec4(color.rgb * d, color.a);\n}\n",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t={};return e.lightDirection&&(t.dirlight_uLightDirection=e.lightDirection),t},dependencies:[ne]},oe={name:"pbr",vs:"uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n",fs:"#if defined(USE_TEX_LOD) && !defined(FEATURE_GLSL_TEXTURE_LOD)\n# error PBR fragment shader: Texture LOD is not available\n#endif\n\n#if !defined(HAS_TANGENTS) && !defined(FEATURE_GLSL_DERIVATIVES)\n# error PBR fragment shader: Derivatives are not available\n#endif\n\n\n#if (__VERSION__ < 300)\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)\n#else\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)\n#endif\n\nprecision highp float;\n\nuniform bool pbr_uUnlit;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n\nstruct PBRInfo\n{\n  float NdotL;\n  float NdotV;\n  float NdotH;\n  float LdotH;\n  float VdotH;\n  float perceptualRoughness;\n  float metalness;\n  vec3 reflectance0;\n  vec3 reflectance90;\n  float alphaRoughness;\n  vec3 diffuseColor;\n  vec3 specularColor;\n  vec3 n;\n  vec3 v;\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif\n  return vec4(linOut,srgbIn.w);;\n#else\n  return srgbIn;\n#endif\n}\n\nvec3 getNormal()\n{\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0;\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLod(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n\n\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n\n\n\n\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\n  pbrInputs.NdotL = 1.0;\n  pbrInputs.NdotH = 0.0;\n  pbrInputs.LdotH = 0.0;\n  pbrInputs.VdotH = 1.0;\n}\n\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\n  vec3 n = pbrInputs.n;\n  vec3 v = pbrInputs.v;\n  vec3 l = normalize(lightDirection);\n  vec3 h = normalize(l+v);\n\n  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\n  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\n  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\n  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\n\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\n  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);\n  PBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\n\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\n  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n#ifdef ALPHA_CUTOFF\n  if (baseColor.a < u_AlphaCutoff) {\n    discard;\n  }\n#endif\n\n  vec3 color = vec3(0, 0, 0);\n\n  if(pbr_uUnlit){\n    color.rgb = baseColor.rgb;\n  }\n  else{\n\n\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    vec3 f0 = vec3(0.04);\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n\n\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();\n    vec3 v = normalize(u_Camera - pbr_vPosition);\n\n    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n    vec3 reflection = -normalize(reflect(v, n));\n\n    PBRInfo pbrInputs = PBRInfo(\n      0.0,\n      NdotV,\n      0.0,\n      0.0,\n      0.0,\n      perceptualRoughness,\n      metallic,\n      specularEnvironmentR0,\n      specularEnvironmentR90,\n      alphaRoughness,\n      diffuseColor,\n      specularColor,\n      n,\n      v\n    );\n\n#ifdef USE_LIGHTS\n    PBRInfo_setAmbientLight(pbrInputs);\n    color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {\n      if (i < lighting_uDirectionalLightCount) {\n        PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\n        color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n      }\n    }\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {\n      if (i < lighting_uPointLightCount) {\n        PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\n        float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\n        color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n      }\n    }\n#endif\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n#ifdef PBR_DEBUG\n\n\n\n\n\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n\n  }\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n",defines:{LIGHTING_FRAGMENT:1},dependencies:[n(9512).H]},ae=n(6092),se=n(5570),ue=n(3036),le=n(9861),ce=n(2033)},851:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var r=n(885),i=n(7762),o=n(5671),a=n(3144),s=1,u=1,l=function(){function e(){(0,o.Z)(this,e),this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}return(0,a.Z)(e,[{key:"addChannel",value:function(e){var t=e.delay,n=void 0===t?0:t,r=e.duration,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.rate,a=void 0===o?1:o,u=e.repeat,l=s++,c={time:0,delay:n,duration:i,rate:a,repeat:void 0===u?1:u};return this._setChannelTime(c,this.time),this.channels.set(l,c),l}},{key:"removeChannel",value:function(e){this.channels.delete(e);var t,n=(0,i.Z)(this.animations);try{for(n.s();!(t=n.n()).done;){var o=(0,r.Z)(t.value,2),a=o[0];o[1].channel===e&&this.detachAnimation(a)}}catch(s){n.e(s)}finally{n.f()}}},{key:"isFinished",value:function(e){var t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat}},{key:"getTime",value:function(e){if(void 0===e)return this.time;var t=this.channels.get(e);return void 0===t?-1:t.time}},{key:"setTime",value:function(e){this.time=Math.max(0,e);var t,n=this.channels.values(),r=(0,i.Z)(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;this._setChannelTime(o,this.time)}}catch(d){r.e(d)}finally{r.f()}var a,s=this.animations.values(),u=(0,i.Z)(s);try{for(u.s();!(a=u.n()).done;){var l=a.value,c=l.animation,f=l.channel;c.setTime(this.getTime(f))}}catch(d){u.e(d)}finally{u.f()}}},{key:"play",value:function(){this.playing=!0}},{key:"pause",value:function(){this.playing=!1,this.lastEngineTime=-1}},{key:"reset",value:function(){this.setTime(0)}},{key:"attachAnimation",value:function(e,t){var n=u++;return this.animations.set(n,{animation:e,channel:t}),e.setTime(this.getTime(t)),n}},{key:"detachAnimation",value:function(e){this.animations.delete(e)}},{key:"update",value:function(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}},{key:"_setChannelTime",value:function(e,t){var n=t-e.delay;n>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,n)%e.duration,e.time*=e.rate)}}]),e}()},6139:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(1413),i=n(3144),o=n(5671),a=n(136),s=n(7277),u=n(643),l=n(1813),c=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),f=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),d=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),h=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),p={POSITION:{size:3,value:new Float32Array(f)},NORMAL:{size:3,value:new Float32Array(d)},TEXCOORD_0:{size:2,value:new Float32Array(h)}},v=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){(0,o.Z)(this,n);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.id,a=void 0===i?(0,l.hQ)("cube-geometry"):i;return t.call(this,(0,r.Z)((0,r.Z)({},e),{},{id:a,indices:{size:1,value:new Uint16Array(c)},attributes:(0,r.Z)((0,r.Z)({},p),e.attributes)}))}return(0,i.Z)(n)}(u.Z)},643:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(1413),i=n(5671),o=n(3144),a=n(1813),s=n(2033),u={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},l=function(){function e(){(0,i.Z)(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=void 0===n?(0,a.hQ)("geometry"):n,o=t.drawMode,s=void 0===o?u.TRIANGLES:o,l=t.attributes,c=void 0===l?{}:l,f=t.indices,d=void 0===f?null:f,h=t.vertexCount,p=void 0===h?null:h;this.id=r,this.drawMode=0|s,this.attributes={},this.userData={},this._setAttributes(c,d),this.vertexCount=p||this._calculateVertexCount(this.attributes,this.indices)}return(0,o.Z)(e,[{key:"mode",get:function(){return this.drawMode}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getAttributes",value:function(){return this.indices?(0,r.Z)({indices:this.indices},this.attributes):this.attributes}},{key:"_print",value:function(e){return"Geometry ".concat(this.id," attribute ").concat(e)}},{key:"_setAttributes",value:function(e,t){for(var n in t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t),e){var r=e[n];r=ArrayBuffer.isView(r)?{value:r}:r,(0,s.h)(ArrayBuffer.isView(r.value),"".concat(this._print(n),": must be typed array or object with value as typed array")),"POSITION"!==n&&"positions"!==n||r.size||(r.size=3),"indices"===n?((0,s.h)(!this.indices),this.indices=r):this.attributes[n]=r}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}},{key:"_calculateVertexCount",value:function(e,t){if(t)return t.value.length;var n=1/0;for(var r in e){var i=e[r],o=i.value,a=i.size;!i.constant&&o&&a>=1&&(n=Math.min(n,o.length/a))}return(0,s.h)(Number.isFinite(n)),n}}],[{key:"DRAW_MODE",get:function(){return u}}]),e}()},3358:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(4165),i=n(5861),o=n(5671),a=n(3144),s=n(8767),u=n(8479),l=n(2033),c=n(7762),f=n(7326),d=n(136),h=n(7277),p=n(5210),v=n(3670),g=n(109),y=function(e,t){(0,d.Z)(r,e);var n=(0,h.Z)(r);function r(e){var t;(0,o.Z)(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=n.call(this,e,i)).target=null,t._queryPending=!1,t._pollingPromise=null,Object.seal((0,f.Z)(t)),t}return(0,a.Z)(r,[{key:t,get:function(){return"Query"}},{key:"beginTimeElapsedQuery",value:function(){return this.begin(35007)}},{key:"beginOcclusionQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.conservative,n=void 0!==t&&t;return this.begin(n?36202:35887)}},{key:"beginTransformFeedbackQuery",value:function(){return this.begin(35976)}},{key:"begin",value:function(e){return this._queryPending||(this.target=e,this.gl2.beginQuery(this.target,this.handle)),this}},{key:"end",value:function(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}},{key:"isResultAvailable",value:function(){if(!this._queryPending)return!1;var e=this.gl2.getQueryParameter(this.handle,34919);return e&&(this._queryPending=!1),e}},{key:"isTimerDisjoint",value:function(){return this.gl2.getParameter(36795)}},{key:"getResult",value:function(){return this.gl2.getQueryParameter(this.handle,34918)}},{key:"getTimerMilliseconds",value:function(){return this.getResult()/1e6}},{key:"createPoll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;var n=0;return this._pollingPromise=new Promise((function(r,i){requestAnimationFrame((function o(){e.isResultAvailable()?(r(e.getResult()),e._pollingPromise=null):n++>t?(i("Timed out"),e._pollingPromise=null):requestAnimationFrame(o)}))})),this._pollingPromise}},{key:"_createHandle",value:function(){return r.isSupported(this.gl)?this.gl2.createQuery():null}},{key:"_deleteHandle",value:function(){this.gl2.deleteQuery(this.handle)}}],[{key:"isSupported",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(0,s.D0)(e),i=(0,v.ag)(e,g.h.TIMER_QUERY),o=r||i,a=(0,c.Z)(n);try{for(a.s();!(t=a.n()).done;){var u=t.value;switch(u){case"queries":o=o&&r;break;case"timers":o=o&&i;break;default:(0,l.h)(!1)}}}catch(f){a.e(f)}finally{a.f()}return o}}]),r}(p.Z,Symbol.toStringTag);var m=n(6796),b=(0,n(857).Z)()&&"undefined"!==typeof document,_=0,w=function(){function e(){(0,o.Z)(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onCreateContext,r=void 0===n?function(e){return(0,s.s9)(e)}:n,i=t.onAddHTML,a=void 0===i?null:i,l=t.onInitialize,c=void 0===l?function(){}:l,f=t.onRender,d=void 0===f?function(){}:f,h=t.onFinalize,p=void 0===h?function(){}:h,v=t.onError,g=t.gl,y=void 0===g?null:g,m=t.glOptions,b=void 0===m?{}:m,w=t.debug,x=void 0!==w&&w,k=t.createFramebuffer,E=void 0!==k&&k,S=t.autoResizeViewport,T=void 0===S||S,P=t.autoResizeDrawingBuffer,A=void 0===P||P,C=t.stats,Z=void 0===C?u.lR.get("animation-loop-".concat(_++)):C,O=t.useDevicePixels,L=void 0===O||O;"useDevicePixelRatio"in t&&(s.cM.deprecated("useDevicePixelRatio","useDevicePixels")(),L=t.useDevicePixelRatio),this.props={onCreateContext:r,onAddHTML:a,onInitialize:c,onRender:d,onFinalize:p,onError:v,gl:y,glOptions:b,debug:x,createFramebuffer:E},this.gl=y,this.needsRedraw=null,this.timeline=null,this.stats=Z,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:T,autoResizeDrawingBuffer:A,useDevicePixels:L}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}return(0,a.Z)(e,[{key:"delete",value:function(){this.stop(),this._setDisplay(null)}},{key:"setNeedsRedraw",value:function(e){return(0,l.h)("string"===typeof e),this.needsRedraw=this.needsRedraw||e,this}},{key:"setProps",value:function(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}},{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;var n=this._getPageLoadPromise().then((function(){return!e._running||e._initialized?null:(e._createWebGLContext(t),e._createFramebuffer(),e._startEventHandling(),e._initializeCallbackData(),e._updateCallbackData(),e._resizeCanvasDrawingBuffer(),e._resizeViewport(),e._gpuTimeQuery=y.isSupported(e.gl,["timers"])?new y(e.gl):null,e._initialized=!0,e.onInitialize(e.animationProps))})).then((function(t){e._running&&(e._addCallbackData(t||{}),!1!==t&&e._startLoop())}));return this.props.onError&&n.catch(this.props.onError),this}},{key:"redraw",value:function(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}},{key:"stop",value:function(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}},{key:"attachTimeline",value:function(e){return this.timeline=e,this.timeline}},{key:"detachTimeline",value:function(){this.timeline=null}},{key:"waitForRender",value:function(){var e=this;return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((function(t){e._resolveNextFrame=t}))),this._nextFramePromise}},{key:"toDataURL",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setNeedsRedraw("toDataURL"),e.next=3,this.waitForRender();case 3:return e.abrupt("return",this.gl.canvas.toDataURL());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isContextLost",value:function(){return this.gl.isContextLost()}},{key:"onCreateContext",value:function(){var e;return(e=this.props).onCreateContext.apply(e,arguments)}},{key:"onInitialize",value:function(){var e;return(e=this.props).onInitialize.apply(e,arguments)}},{key:"onRender",value:function(){var e;return(e=this.props).onRender.apply(e,arguments)}},{key:"onFinalize",value:function(){var e;return(e=this.props).onFinalize.apply(e,arguments)}},{key:"getHTMLControlValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=document.getElementById(e);return n?Number(n.value):t}},{key:"setViewParameters",value:function(){return s.cM.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}},{key:"_startLoop",value:function(){var e=this;this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame((function t(){e._running&&(e.redraw(),e._animationFrameId=e._requestAnimationFrame(t))}))}},{key:"_getPageLoadPromise",value:function(){return this._pageLoadPromise||(this._pageLoadPromise=b?new Promise((function(e,t){b&&"complete"===document.readyState?e(document):window.addEventListener("load",(function(){e(document)}))})):Promise.resolve({})),this._pageLoadPromise}},{key:"_setDisplay",value:function(e){this.display&&(this.display.delete(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}},{key:"_cancelAnimationFrame",value:function(e){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(e):(t=e,"undefined"!==typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t));var t}},{key:"_requestAnimationFrame",value:function(e){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(e):(t=e,"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60));var t}},{key:"_renderFrame",value:function(){var e;this.display?(e=this.display)._renderFrame.apply(e,arguments):this.onRender.apply(this,arguments)}},{key:"_clearNeedsRedraw",value:function(){this.needsRedraw=null}},{key:"_setupFrame",value:function(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}},{key:"_initializeCallbackData",value:function(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}},{key:"_updateCallbackData",value:function(){var e=this._getSizeAndAspect(),t=e.width,n=e.height,r=e.aspect;t===this.animationProps.width&&n===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),r!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=t,this.animationProps.height=n,this.animationProps.aspect=r,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}},{key:"_finalizeCallbackData",value:function(){this.onFinalize(this.animationProps)}},{key:"_addCallbackData",value:function(e){"object"===typeof e&&null!==e&&(this.animationProps=Object.assign({},this.animationProps,e))}},{key:"_createWebGLContext",value:function(e){if(this.offScreen=e.canvas&&"undefined"!==typeof OffscreenCanvas&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?(0,s.yW)(this.props.gl,e):this.onCreateContext(e),!(0,s.UF)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");(0,s.kL)(this.gl),this._createInfoDiv()}},{key:"_createInfoDiv",value:function(){if(this.gl.canvas&&this.props.onAddHTML){var e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";var t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(t);var n=this.props.onAddHTML(t);n&&(t.innerHTML=n)}}},{key:"_getSizeAndAspect",value:function(){var e=this.gl.drawingBufferWidth,t=this.gl.drawingBufferHeight,n=1,r=this.gl.canvas;return r&&r.clientHeight?n=r.clientWidth/r.clientHeight:e>0&&t>0&&(n=e/t),{width:e,height:t,aspect:n}}},{key:"_resizeViewport",value:function(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}},{key:"_resizeCanvasDrawingBuffer",value:function(){this.autoResizeDrawingBuffer&&(0,s.aQ)(this.gl,{useDevicePixels:this.useDevicePixels})}},{key:"_createFramebuffer",value:function(){this.props.createFramebuffer&&(this.framebuffer=new m.Z(this.gl))}},{key:"_resizeFramebuffer",value:function(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}},{key:"_beginTimers",value:function(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}},{key:"_endTimers",value:function(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}},{key:"_startEventHandling",value:function(){var e=this.gl.canvas;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))}},{key:"_onMousemove",value:function(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}},{key:"_onMouseleave",value:function(e){this.animationProps._mousePosition=null}}]),e}()},6501:function(e,t,n){"use strict";n.d(t,{Z:function(){return H}});var r=n(4942),i=n(5671),o=n(3144),a=n(8767),s=n(9119),u=n(1813),l=n(2033),c=n(8653),f=n(5068),d=n(6347),h=n(1735),p=n(7326),v=n(1752),g=n(1120),y=n(136),m=n(7277),b=n(5210),_=null;function w(e,t){var n;return new e((n=e.BYTES_PER_ELEMENT*t,(!_||_.byteLength<n)&&(_=new ArrayBuffer(n)),_),0,t)}var x=n(3679),k="elements must be GL.ELEMENT_ARRAY_BUFFER",E=function(e,t){(0,y.Z)(r,e);var n=(0,m.Z)(r);function r(e){var t;(0,i.Z)(this,r);var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.id||o.program&&o.program.id;return(t=n.call(this,e,Object.assign({},o,{id:a}))).buffer=null,t.bufferValue=null,t.isDefaultArray=o.isDefaultArray||!1,t.gl2=e,t.initialize(o),Object.seal((0,p.Z)(t)),t}return(0,o.Z)(r,[{key:t,get:function(){return"VertexArrayObject"}},{key:"delete",value:function(){return(0,v.Z)((0,g.Z)(r.prototype),"delete",this).call(this),this.buffer&&this.buffer.delete(),this}},{key:"MAX_ATTRIBUTES",get:function(){return r.getMaxAttributes(this.gl)}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setProps(e)}},{key:"setProps",value:function(e){return this}},{key:"setElementBuffer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,l.h)(!t||34963===t.target,k),this.bind((function(){e.gl.bindBuffer(34963,t?t.handle:null)})),this}},{key:"setBuffer",value:function(e,t,n){if(34963===t.target)return this.setElementBuffer(t,n);var r=n.size,i=n.type,o=n.stride,s=n.offset,u=n.normalized,c=n.integer,f=n.divisor,d=this.gl,h=this.gl2;return e=Number(e),this.bind((function(){d.bindBuffer(34962,t.handle),c?((0,l.h)((0,a.D0)(d)),h.vertexAttribIPointer(e,r,i,o,s)):d.vertexAttribPointer(e,r,i,u,o,s),d.enableVertexAttribArray(e),h.vertexAttribDivisor(e,f||0)})),this}},{key:"enable",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!n&&0===e&&!r.isSupported(this.gl,{constantAttributeZero:!0});return i||(e=Number(e),this.bind((function(){return n?t.gl.enableVertexAttribArray(e):t.gl.disableVertexAttribArray(e)}))),this}},{key:"getConstantBuffer",value:function(e,t){var n=this._normalizeConstantArrayValue(t),r=n.byteLength*e,i=n.length*e,o=!this.buffer;if(this.buffer=this.buffer||new h.Z(this.gl,r),o=(o=o||this.buffer.reallocate(r))||!this._compareConstantArrayValues(n,this.bufferValue)){var a=w(t.constructor,i);!function(e){for(var t=e.target,n=e.source,r=e.start,i=void 0===r?0:r,o=e.count,a=void 0===o?1:o,s=n.length,u=a*s,l=0,c=i;l<s;l++)t[c++]=n[l];for(;l<u;)l<u-l?(t.copyWithin(i+l,i,i+l),l*=2):(t.copyWithin(i+l,i,i+u-l),l=u)}({target:a,source:n,start:0,count:i}),this.buffer.subData(a),this.bufferValue=t}return this.buffer}},{key:"_normalizeConstantArrayValue",value:function(e){return Array.isArray(e)?new Float32Array(e):e}},{key:"_compareConstantArrayValues",value:function(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}},{key:"_createHandle",value:function(){return this.gl.createVertexArray()}},{key:"_deleteHandle",value:function(e){return this.gl2.deleteVertexArray(e),[this.elements]}},{key:"_bindHandle",value:function(e){this.gl2.bindVertexArray(e)}},{key:"_getParameter",value:function(e,t){var n=this,r=t.location;return(0,l.h)(Number.isFinite(r)),this.bind((function(){return 34373===e?n.gl.getVertexAttribOffset(r,e):n.gl.getVertexAttrib(r,e)}))}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!t.constantAttributeZero||((0,a.D0)(e)||"Chrome"===(0,x.Z)())}},{key:"getDefaultArray",value:function(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new r(e,{handle:null,isDefaultArray:!0})),e.luma.defaultVertexArray}},{key:"getMaxAttributes",value:function(e){return r.MAX_ATTRIBUTES=r.MAX_ATTRIBUTES||e.getParameter(34921),r.MAX_ATTRIBUTES}},{key:"setConstant",value:function(e,t,n){switch(n.constructor){case Float32Array:r._setConstantFloatArray(e,t,n);break;case Int32Array:r._setConstantIntArray(e,t,n);break;case Uint32Array:r._setConstantUintArray(e,t,n);break;default:(0,l.h)(!1)}}},{key:"_setConstantFloatArray",value:function(e,t,n){switch(n.length){case 1:e.vertexAttrib1fv(t,n);break;case 2:e.vertexAttrib2fv(t,n);break;case 3:e.vertexAttrib3fv(t,n);break;case 4:e.vertexAttrib4fv(t,n);break;default:(0,l.h)(!1)}}},{key:"_setConstantIntArray",value:function(e,t,n){switch((0,l.h)((0,a.D0)(e)),n.length){case 1:e.vertexAttribI1iv(t,n);break;case 2:e.vertexAttribI2iv(t,n);break;case 3:e.vertexAttribI3iv(t,n);break;case 4:e.vertexAttribI4iv(t,n);break;default:(0,l.h)(!1)}}},{key:"_setConstantUintArray",value:function(e,t,n){switch((0,l.h)((0,a.D0)(e)),n.length){case 1:e.vertexAttribI1uiv(t,n);break;case 2:e.vertexAttribI2uiv(t,n);break;case 3:e.vertexAttribI3uiv(t,n);break;case 4:e.vertexAttribI4uiv(t,n);break;default:(0,l.h)(!1)}}}]),r}(b.Z,Symbol.toStringTag),S=n(8029),T=/^(.+)__LOCATION_([0-9]+)$/,P=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"],A=function(){function e(t){(0,i.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.id||n.program&&n.program.id;this.id=r,this.gl=t,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new E(t),(0,S.F)(this,"VertexArray","v6.0",P),this.initialize(n),Object.seal(this)}return(0,o.Z)(e,[{key:"delete",value:function(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}},{key:"reset",value:function(){this.elements=null,this.elementsAccessor=null;var e=this.vertexArrayObject.MAX_ATTRIBUTES;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}},{key:"setProps",value:function(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}},{key:"clearDrawParams",value:function(){this.drawParams=null}},{key:"getDrawParams",value:function(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}},{key:"setAttributes",value:function(e){var t=this;return Object.assign(this.attributes,e),this.vertexArrayObject.bind((function(){for(var n in e){var r=e[n];t._setAttribute(n,r)}t.gl.bindBuffer(34962,null)})),this}},{key:"setElementBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=e,this.elementsAccessor=t,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(e,t),this}},{key:"setBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===t.target)return this.setElementBuffer(t,n);var r=this._resolveLocationAndAccessor(e,t,t.accessor,n),i=r.location,o=r.accessor;return i>=0&&(this.values[i]=t,this.accessors[i]=o,this.clearDrawParams(),this.vertexArrayObject.setBuffer(i,t,o)),this}},{key:"setConstant",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._resolveLocationAndAccessor(e,t,Object.assign({size:t.length},n)),i=r.location,o=r.accessor;return i>=0&&(t=this.vertexArrayObject._normalizeConstantArrayValue(t),this.values[i]=t,this.accessors[i]=o,this.clearDrawParams(),this.vertexArrayObject.enable(i,!1)),this}},{key:"unbindBuffers",value:function(){var e=this;return this.vertexArrayObject.bind((function(){e.elements&&e.vertexArrayObject.setElementBuffer(null),e.buffer=e.buffer||new h.Z(e.gl,{accessor:{size:4}});for(var t=0;t<e.vertexArrayObject.MAX_ATTRIBUTES;t++)e.values[t]instanceof h.Z&&(e.gl.disableVertexAttribArray(t),e.gl.bindBuffer(34962,e.buffer.handle),e.gl.vertexAttribPointer(t,1,5126,!1,0,0))})),this}},{key:"bindBuffers",value:function(){var e=this;return this.vertexArrayObject.bind((function(){e.elements&&e.setElementBuffer(e.elements);for(var t=0;t<e.vertexArrayObject.MAX_ATTRIBUTES;t++){var n=e.values[t];n instanceof h.Z&&e.setBuffer(t,n)}})),this}},{key:"bindForDraw",value:function(e,t,n){var r,i=this;return this.vertexArrayObject.bind((function(){i._setConstantAttributes(e,t),r=n()})),r}},{key:"_resolveLocationAndAccessor",value:function(e,t,n,r){var i=this,o={location:-1,accessor:null},s=this._getAttributeIndex(e),u=s.location,c=s.name;if(!Number.isFinite(u)||u<0)return this.unused[e]=t,a.cM.once(3,(function(){return"unused value ".concat(e," in ").concat(i.id)}))(),o;var f=this._getAttributeInfo(c||u);if(!f)return o;var h=this.accessors[u]||{},p=d.Z.resolve(f.accessor,h,n,r),v=p.size,g=p.type;return(0,l.h)(Number.isFinite(v)&&Number.isFinite(g)),{location:u,accessor:p}}},{key:"_getAttributeInfo",value:function(e){return this.configuration&&this.configuration.getAttributeInfo(e)}},{key:"_getAttributeIndex",value:function(e){var t=Number(e);if(Number.isFinite(t))return{location:t};var n=T.exec(e),r=n?n[1]:e,i=n?Number(n[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(r)+i,name:r}:{location:-1}}},{key:"_setAttribute",value:function(e,t){if(t instanceof h.Z)this.setBuffer(e,t);else if(Array.isArray(t)&&t.length&&t[0]instanceof h.Z){var n=t[0],r=t[1];this.setBuffer(e,n,r)}else if(ArrayBuffer.isView(t)||Array.isArray(t)){var i=t;this.setConstant(e,i)}else{if(!(t.buffer instanceof h.Z))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");var o=t;this.setBuffer(e,o.buffer,o)}}},{key:"_setConstantAttributes",value:function(e,t){var n=Math.max(0|e,0|t),r=this.values[0];ArrayBuffer.isView(r)&&this._setConstantAttributeZero(r,n);for(var i=1;i<this.vertexArrayObject.MAX_ATTRIBUTES;i++)r=this.values[i],ArrayBuffer.isView(r)&&this._setConstantAttribute(i,r)}},{key:"_setConstantAttributeZero",value:function(e,t){if(E.isSupported(this.gl,{constantAttributeZero:!0}))this._setConstantAttribute(0,e);else{var n=this.vertexArrayObject.getConstantBuffer(t,e);this.vertexArrayObject.setBuffer(0,n,this.accessors[0])}}},{key:"_setConstantAttribute",value:function(e,t){E.setConstant(this.gl,e,t)}},{key:"_updateDrawParams",value:function(){for(var e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0},t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this._updateDrawParamsForLocation(e,t);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}},{key:"_updateDrawParamsForLocation",value:function(e,t){var n=this.values[t],r=this.accessors[t];if(n){var i=r.divisor>0;if(e.isInstanced=e.isInstanced||i,n instanceof h.Z){var o=n;if(i){var a=o.getVertexCount(r);e.instanceCount=Math.min(e.instanceCount,a)}else{var s=o.getVertexCount(r);e.vertexCount=Math.min(e.vertexCount,s)}}}}},{key:"setElements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.cM.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,t)}}]),e}(),C=n(6177),Z=n(2262),O=n(3221);function L(e,t){for(var n=t.maxElts,r=void 0===n?16:n,i=t.size,o=void 0===i?1:i,a="[",s=0;s<e.length&&s<r;++s)s>0&&(a+=",".concat(s%o===0?" ":"")),a+=R(e[s],t);var u=e.length>r?"...":"]";return"".concat(a).concat(u)}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=1e-16,r=t.isInteger,i=void 0!==r&&r;if(Array.isArray(e)||ArrayBuffer.isView(e))return L(e,t);if(!Number.isFinite(e))return String(e);if(Math.abs(e)<n)return i?"0":"0.";if(i)return e.toFixed(0);if(Math.abs(e)>100&&Math.abs(e)<1e4)return e.toFixed(0);var o=e.toPrecision(2),a=o.indexOf(".0");return a===o.length-2?o.slice(0,-1):o}function M(e,t,n,i){var o,a,s=e.gl;if(!t)return a={},(0,r.Z)(a,i,"null"),(0,r.Z)(a,"Format ","N/A"),a;var u,l,c,f="NOT PROVIDED",d=1,p=0,v=0;if(n&&(f=n.type,d=n.size,u=-1!==(f=String(f).replace("Array","")).indexOf("nt")),t instanceof h.Z){var g,y,m=t,b=m.getDebugData(),_=b.data;if(l=b.changed?"*":"",c=_,p=(v=m.byteLength)/_.BYTES_PER_ELEMENT/d,n){var w=n.divisor>0;y="".concat(w?"I ":"P "," ").concat(p," (x").concat(d,"=").concat(v," bytes ").concat((0,Z.km)(s,f),")")}else u=!0,y="".concat(v," bytes");return g={},(0,r.Z)(g,i,"".concat(l).concat(R(c,{size:d,isInteger:u}))),(0,r.Z)(g,"Format ",y),g}return c=t,d=t.length,u=-1!==(f=String(t.constructor.name).replace("Array","")).indexOf("nt"),o={},(0,r.Z)(o,i,"".concat(R(c,{size:d,isInteger:u})," (constant)")),(0,r.Z)(o,"Format ","".concat(d,"x").concat(f," (constant)")),o}function I(e,t){var n=t.type,r=t.size,i=(0,O.jG)(n,r);return i?"".concat(e," (").concat(i.name,")"):e}var N=n(7762);function F(e){var t=e.header,n=void 0===t?"Uniforms":t,i=e.program,o=e.uniforms,a=e.undefinedOnly,s=void 0!==a&&a;(0,l.h)(i);var u,c=".*Matrix",f=i._uniformSetters,d={},h=Object.keys(f).sort(),p=0,v=(0,N.Z)(h);try{for(v.s();!(u=v.n()).done;){var g=u.value;g.match(".*_.*")||g.match(c)||j({table:d,header:n,uniforms:o,uniformName:g,undefinedOnly:s})&&p++}}catch(P){v.e(P)}finally{v.f()}var y,m=(0,N.Z)(h);try{for(m.s();!(y=m.n()).done;){var b=y.value;b.match(c)&&j({table:d,header:n,uniforms:o,uniformName:b,undefinedOnly:s})&&p++}}catch(P){m.e(P)}finally{m.f()}var _,w=(0,N.Z)(h);try{for(w.s();!(_=w.n()).done;){var x=_.value;d[x]||j({table:d,header:n,uniforms:o,uniformName:x,undefinedOnly:s})&&p++}}catch(P){w.e(P)}finally{w.f()}var k=0,E={};if(!s)for(var S in o){var T=o[S];d[S]||(k++,E[S]=(0,r.Z)({Type:"NOT USED: ".concat(T)},n,R(T)))}return{table:d,count:p,unusedTable:E,unusedCount:k}}function j(e){var t,n=e.table,i=e.header,o=e.uniforms,a=e.uniformName,s=e.undefinedOnly,u=o[a],l=function(e){return void 0!==e&&null!==e}(u);return(!s||!l)&&(n[a]=(t={},(0,r.Z)(t,i,l?R(u):"N/A"),(0,r.Z)(t,"Uniform Type",l?u:"NOT PROVIDED"),t),!0)}function D(e){var t=e.accessor,n=t.type,r=t.size,i=(0,O.jG)(n,r);return i?"".concat(i.name," ").concat(e.name):e.name}var z=n(1413),B={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function U(e,t){var n=(t||{}).attributeMap,r=void 0===n?B:n;return r&&r[e]||e}function V(e,t){var n;switch(e){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":n="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":n="vectors"}switch(n){case"vectors":t.size=t.size||3;break;case"uvs":t.size=t.size||2}(0,l.h)(Number.isFinite(t.size),"attribute ".concat(e," needs size"))}var G=function(){},W={},H=function(){function e(t){(0,i.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.id,o=void 0===r?(0,u.hQ)("model"):r;(0,l.h)((0,a.UF)(t)),this.id=o,this.gl=t,this.id=n.id||(0,u.hQ)("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(n)}return(0,o.Z)(e,[{key:"initialize",value:function(e){this.props={},this.programManager=e.programManager||s.Z.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;var t=e.program,n=void 0===t?null:t,r=e.vs,i=e.fs,o=e.modules,a=e.defines,u=e.inject,c=e.varyings,f=e.bufferMode,d=e.transpileToGLSL100;this.programProps={program:n,vs:r,fs:i,modules:o,defines:a,inject:u,varyings:c,bufferMode:f,transpileToGLSL100:d},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=void 0!==e.drawMode?e.drawMode:4,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},(0,l.h)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}},{key:"setProps",value:function(e){this._setModelProps(e)}},{key:"delete",value:function(){for(var e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}},{key:"getDrawMode",value:function(){return this.drawMode}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getInstanceCount",value:function(){return this.instanceCount}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getProgram",value:function(){return this.program}},{key:"setProgram",value:function(e){var t=e.program,n=e.vs,r=e.fs,i=e.modules,o=e.defines,a=e.inject,s=e.varyings,u=e.bufferMode,l=e.transpileToGLSL100;this.programProps={program:t,vs:n,fs:r,modules:i,defines:o,inject:a,varyings:s,bufferMode:u,transpileToGLSL100:l},this._programDirty=!0}},{key:"getUniforms",value:function(){return this.uniforms}},{key:"setDrawMode",value:function(e){return this.drawMode=e,this}},{key:"setVertexCount",value:function(e){return(0,l.h)(Number.isFinite(e)),this.vertexCount=e,this}},{key:"setInstanceCount",value:function(e){return(0,l.h)(Number.isFinite(e)),this.instanceCount=e,this}},{key:"setGeometry",value:function(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function(e,t,n){var r={},i=t.indices;for(var o in t.attributes){var a=t.attributes[o],s=U(o,n);if("indices"===o)i=a;else if(a.constant)r[s]=a.value;else{var u=a.value,c=(0,z.Z)({},a);delete c.value,r[s]=[new h.Z(e,u),c],V(o,c)}}if(i){var f=i.value||i;(0,l.h)(f instanceof Uint16Array||f instanceof Uint32Array,'attribute array for "indices" must be of integer type');var d={size:1,isIndexed:void 0===i.isIndexed||i.isIndexed};r.indices=[new h.Z(e,{data:f,target:34963}),d]}return r}(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this}},{key:"setAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,u.nK)(e))return this;var t={};for(var n in e){var r=e[n];t[n]=r.getValue?r.getValue():r}return this.vertexArray.setAttributes(t),this}},{key:"setUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.uniforms,e),this}},{key:"getModuleUniforms",value:function(e){this._checkProgram();var t=this.programManager.getUniforms(this.program);return t?t(e):{}}},{key:"updateModuleSettings",value:function(e){var t=this.getModuleUniforms(e||{});return this.setUniforms(t)}},{key:"clear",value:function(e){return(0,c.Z)(this.program.gl,e),this}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();var t,n=e.moduleSettings,r=void 0===n?null:n,i=e.framebuffer,o=e.uniforms,s=void 0===o?{}:o,u=e.attributes,l=void 0===u?{}:u,c=e.transformFeedback,f=void 0===c?this.transformFeedback:c,d=e.parameters,h=void 0===d?{}:d,p=e.vertexArray,v=void 0===p?this.vertexArray:p;this.setAttributes(l),this.updateModuleSettings(r),this.setUniforms(s),a.cM.priority>=2&&(t=this._logDrawCallStart(2));var g=this.vertexArray.getDrawParams(),y=this.props,m=y.isIndexed,b=void 0===m?g.isIndexed:m,_=y.indexType,w=void 0===_?g.indexType:_,x=y.indexOffset,k=void 0===x?g.indexOffset:x,E=y.vertexArrayInstanced,S=void 0===E?g.isInstanced:E;S&&!this.isInstanced&&a.cM.warn("Found instanced attributes on non-instanced model",this.id)();var T=this.isInstanced,P=this.instanceCount,A=this.props,C=A.onBeforeRender,Z=void 0===C?G:C,O=A.onAfterRender,L=void 0===O?G:O;Z(),this.program.setUniforms(this.uniforms);var R=this.program.draw(Object.assign(W,e,{logPriority:t,uniforms:null,framebuffer:i,parameters:h,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:v,transformFeedback:f,isIndexed:b,indexType:w,isInstanced:T,instanceCount:P,offset:b?k:0}));return L(),a.cM.priority>=2&&this._logDrawCallEnd(t,v,i),R}},{key:"transform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.discard,n=void 0===t||t,i=e.feedbackBuffers,o=e.unbindModels,a=void 0===o?[]:o,s=e.parameters;i&&this._setFeedbackBuffers(i),n&&(s=Object.assign({},s,(0,r.Z)({},35977,n))),a.forEach((function(e){return e.vertexArray.unbindBuffers()}));try{this.draw(Object.assign({},e,{parameters:s}))}finally{a.forEach((function(e){return e.vertexArray.bindBuffers()}))}return this}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.cM.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()}},{key:"_setModelProps",value:function(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)}},{key:"_checkProgram",value:function(){if(this._programDirty||this.programManager.stateHash!==this._programManagerState){var e=this.programProps.program;if(e)this._managedProgram=!1;else{var t=this.programProps,n=t.vs,r=t.fs,i=t.modules,o=t.inject,a=t.defines,s=t.varyings,u=t.bufferMode,c=t.transpileToGLSL100;e=this.programManager.get({vs:n,fs:r,modules:i,inject:o,defines:a,varyings:s,bufferMode:u,transpileToGLSL100:c}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}(0,l.h)(e instanceof f.Z,"Model needs a program"),this._programDirty=!1,e!==this.program&&(this.program=e,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new A(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}}},{key:"_deleteGeometryBuffers",value:function(){for(var e in this.geometryBuffers){var t=this.geometryBuffers[e][0]||this.geometryBuffers[e];t instanceof h.Z&&t.delete()}}},{key:"_setAnimationProps",value:function(e){this.animated&&(0,l.h)(e,"Model.draw(): animated uniforms but no animationProps")}},{key:"_setFeedbackBuffers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,u.nK)(e))return this;var t=this.program.gl;return this.transformFeedback=this.transformFeedback||new C.Z(t,{program:this.program}),this.transformFeedback.setBuffers(e),this}},{key:"_logDrawCallStart",value:function(e){var t=e>3?0:1e4;if(!(Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),a.cM.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:a.cM.level<=2})(),e}},{key:"_logDrawCallEnd",value:function(e,t,n,i){if(void 0!==e){var o=function(e){var t=e.vertexArray,n=e.header,r=void 0===n?"Attributes":n;if(!t.configuration)return{};var i={};t.elements&&(i.ELEMENT_ARRAY_BUFFER=M(t,t.elements,null,r));var o=t.values;for(var a in o){var s=t._getAttributeInfo(a);if(s){var u="".concat(a,": ").concat(s.name),l=t.accessors[s.location];l&&(u="".concat(a,": ").concat(I(s.name,l))),i[u]=M(t,o[a],l,r)}}return i}({vertexArray:t,header:"".concat(this.id," attributes"),attributes:this._attributes}),s=F({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n)}),u=s.table,l=s.unusedTable,c=s.unusedCount,f=F({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n),undefinedOnly:!0}),d=f.table;f.count>0&&a.cM.log("MISSING UNIFORMS",Object.keys(d))(),c>0&&a.cM.log("UNUSED UNIFORMS",Object.keys(l))();var h=function(e){var t,n={},i="Accessors for ".concat(e.id),o=(0,N.Z)(e.attributeInfos);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(a){var s=D(a);n["in ".concat(s)]=(0,r.Z)({},i,JSON.stringify(a.accessor))}}}catch(d){o.e(d)}finally{o.f()}var u,l=(0,N.Z)(e.varyingInfos);try{for(l.s();!(u=l.n()).done;){var c=u.value;if(c){var f=D(c);n["out ".concat(f)]=(0,r.Z)({},i,JSON.stringify(c.accessor))}}}catch(d){l.e(d)}finally{l.f()}return n}(this.vertexArray.configuration);a.cM.table(e,o)(),a.cM.table(e,u)(),a.cM.table(e+1,h)(),i&&i.log({logLevel:2,message:"Rendered to ".concat(i.id)}),a.cM.groupEnd(2)()}}}]),e}()},9119:function(e,t,n){"use strict";n.d(t,{Z:function(){return U}});var r=n(7762),i=n(5671),o=n(3144),a=n(885),s=n(4942),u=n(7981),l=n(6092),c=n(8012);function f(e){return d(p(e))}function d(e){var t={},n={};return h({modules:e,level:0,moduleMap:t,moduleDepth:n}),Object.keys(n).sort((function(e,t){return n[t]-n[e]})).map((function(e){return t[e]}))}function h(e){var t=e.modules,n=e.level,i=e.moduleMap,o=e.moduleDepth;if(n>=5)throw new Error("Possible loop in shader dependency graph");var a,s=(0,r.Z)(t);try{for(s.s();!(a=s.n()).done;){var u=a.value;i[u.name]=u,(void 0===o[u.name]||o[u.name]<n)&&(o[u.name]=n)}}catch(d){s.e(d)}finally{s.f()}var l,c=(0,r.Z)(t);try{for(c.s();!(l=c.n()).done;){var f=l.value;f.dependencies&&h({modules:f.dependencies,level:n+1,moduleMap:i,moduleDepth:o})}}catch(d){c.e(d)}finally{c.f()}}function p(e,t){return e.map((function(e){return e instanceof l.Z||((0,c.Z)("string"!==typeof e,"Shader module use by name is deprecated. Import shader module '".concat(e,"' and use it directly.")),(0,c.Z)(e.name,"shader module has no name"),(e=new l.Z(e)).dependencies=p(e.dependencies)),e}))}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="undefined"!==typeof window&&window.navigator||{},n=e.userAgent||t.userAgent||"",r=-1!==n.indexOf("MSIE "),i=-1!==n.indexOf("Trident/");return r||i}var g={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},y={};Object.keys(g).forEach((function(e){y[e]=e}));var m={};function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=g[t];if((0,c.Z)(r,t),!v(n))return!0;if(t in m)return m[t];var i=r[0],o=n.behavior||"enable",a="#extension GL_".concat(i," : ").concat(o,"\nvoid main(void) {}"),s=e.createShader(35633);e.shaderSource(s,a),e.compileShader(s);var u=e.getShaderParameter(s,35713);return e.deleteShader(s),m[t]=u,u}function _(e,t){var n=g[t];(0,c.Z)(n,t);var r=function(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}(e)&&n[1]||n[0],i="string"===typeof r?Boolean(e.getExtension(r)):r;return(0,c.Z)(!1===i||!0===i),i}function w(e,t){return(t=Array.isArray(t)?t:[t]).every((function(t){return _(e,t)}))}var x=n(8299);function k(e){return new RegExp("\\b".concat(e,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}var E,S=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],T=[].concat(S,[[k("attribute"),"in $1"],[k("varying"),"out $1"]]),P=[].concat(S,[[k("varying"),"in $1"]]),A=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],C=[].concat(A,[[k("in"),"attribute $1"],[k("out"),"varying $1"]]),Z=[].concat(A,[[k("in"),"varying $1"]]),O="gl_FragColor",L=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,R=/void\s+main\s*\([^)]*\)\s*\{\n?/;function M(e,t,n){switch(t){case 300:return n?I(e,T):function(e){var t=(e=I(e,P)).match(L);if(t){var n=t[1];e=e.replace(new RegExp("\\b".concat(O,"\\b"),"g"),n)}else{var r="fragmentColor";e=e.replace(R,(function(e){return"out vec4 ".concat(r,";\n").concat(e)})).replace(new RegExp("\\b".concat(O,"\\b"),"g"),r)}return e}(e);case 100:return n?I(e,C):function(e){var t=(e=I(e,Z)).match(L);if(t){var n=t[1];e=e.replace(L,"").replace(new RegExp("\\b".concat(n,"\\b"),"g"),O)}return e}(e);default:throw new Error("unknown GLSL version ".concat(t))}}function I(e,t){var n,i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=(0,a.Z)(n.value,2),s=o[0],u=o[1];e=e.replace(s,u)}}catch(l){i.e(l)}finally{i.f()}return e}var N="\n\n".concat(x.O_,"\n\n"),F=(E={},(0,s.Z)(E,u.H,"vertex"),(0,s.Z)(E,u.Y,"fragment"),E);function j(e,t){var n=t.vs,r=t.fs,i=f(t.modules||[]);return{gl:e,vs:D(e,Object.assign({},t,{source:n,type:u.H,modules:i})),fs:D(e,Object.assign({},t,{source:r,type:u.Y,modules:i})),getUniforms:z(i)}}function D(e,t){var n=t.id,i=t.source,o=t.type,s=t.modules,l=t.defines,f=void 0===l?{}:l,d=t.hookFunctions,h=void 0===d?[]:d,p=t.inject,v=void 0===p?{}:p,g=t.transpileToGLSL100,m=void 0!==g&&g,_=t.prologue,k=void 0===_||_,E=t.log;(0,c.Z)("string"===typeof i,"shader source must be a string");var S=o===u.H,T=i.split("\n"),P=100,A="",C=i;0===T[0].indexOf("#version ")?(P=300,A=T[0],C=T.slice(1).join("\n")):A="#version ".concat(P);var Z={};s.forEach((function(e){Object.assign(Z,e.getDefines())})),Object.assign(Z,f);var O=k?"".concat(A,"\n").concat(function(e){var t=e.id,n=e.source,r=e.type;return t&&"string"===typeof t&&-1===n.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(t,"_").concat(F[r],"\n\n"):""}({id:n,source:i,type:o}),"\n").concat(function(e){var t=e.type;return"\n#define SHADER_TYPE_".concat(F[t].toUpperCase(),"\n")}({type:o}),"\n").concat(function(e){var t=function(e){var t=e.getExtension("WEBGL_debug_renderer_info"),n=e.getParameter(t&&t.UNMASKED_VENDOR_WEBGL||7936),r=e.getParameter(t&&t.UNMASKED_RENDERER_WEBGL||7937),i=function(e,t){return e.match(/NVIDIA/i)||t.match(/NVIDIA/i)?"NVIDIA":e.match(/INTEL/i)||t.match(/INTEL/i)?"INTEL":e.match(/AMD/i)||t.match(/AMD/i)||e.match(/ATI/i)||t.match(/ATI/i)?"AMD":"UNKNOWN GPU"}(n,r);return{gpuVendor:i,vendor:n,renderer:r,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}(e);switch(t.gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(e),"\n").concat(function(e,t,n){var r="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return w(e,y.GLSL_FRAG_DEPTH)&&(r+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),w(e,y.GLSL_DERIVATIVES)&&b(e,y.GLSL_DERIVATIVES)&&(r+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),w(e,y.GLSL_FRAG_DATA)&&b(e,y.GLSL_FRAG_DATA,{behavior:"require"})&&(r+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),w(e,y.GLSL_TEXTURE_LOD)&&(r+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),r}(e),"\n").concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,n="";for(var r in e){0===t&&(n+="\n// APPLICATION DEFINES\n"),t++;var i=e[r];(i||Number.isFinite(i))&&(n+="#define ".concat(r.toUpperCase()," ").concat(e[r],"\n"))}0===t&&(n+="\n");return n}(Z),"\n").concat(S?"":"precision highp float;\n\n","\n"):"".concat(A,"\n"),L=function(e){var t={vs:{},fs:{}};return e.forEach((function(e){var n;"string"!==typeof e?e=(n=e).hook:n={};var r=(e=e.trim()).split(":"),i=(0,a.Z)(r,2),o=i[0],s=i[1],u=e.replace(/\(.+/,"");t[o][u]=Object.assign(n,{signature:s})})),t}(h),R={},I={},j={};for(var D in v){var z="string"===typeof v[D]?{injection:v[D],order:0}:v[D],B=D.match(/^(v|f)s:(#)?([\w-]+)$/);if(B){var U=B[2],V=B[3];U?"decl"===V?I[D]=[z]:j[D]=[z]:R[D]=[z]}else j[D]=[z]}var G,W=(0,r.Z)(s);try{for(W.s();!(G=W.n()).done;){var H=G.value;E&&H.checkDeprecations(C,E),O+=H.getModuleSource(o,P);var X=H.injections[o];for(var Y in X){var K=Y.match(/^(v|f)s:#([\w-]+)$/);if(K){var q="decl"===K[2]?I:j;q[Y]=q[Y]||[],q[Y].push(X[Y])}else R[Y]=R[Y]||[],R[Y].push(X[Y])}}}catch(Q){W.e(Q)}finally{W.f()}return O+=N,O=(0,x.ZP)(O,o,I),O+=function(e,t){var n="";for(var i in e){var o=e[i];if(n+="void ".concat(o.signature," {\n"),o.header&&(n+="  ".concat(o.header)),t[i]){var a=t[i];a.sort((function(e,t){return e.order-t.order}));var s,u=(0,r.Z)(a);try{for(u.s();!(s=u.n()).done;){var l=s.value;n+="  ".concat(l.injection,"\n")}}catch(Q){u.e(Q)}finally{u.f()}}o.footer&&(n+="  ".concat(o.footer)),n+="}\n"}return n}(L[o],R),O+=C,O=M(O=(0,x.ZP)(O,o,j),m?100:P,S)}function z(e){return function(t){var n,i={},o=(0,r.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value.getUniforms(t,i);Object.assign(i,a)}}catch(s){o.e(s)}finally{o.f()}return i}}var B=n(5068),U=function(){function e(t){(0,i.Z)(this,e),this.gl=t,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}return(0,o.Z)(e,[{key:"addDefaultModule",value:function(e){this._defaultModules.find((function(t){return t.name===e.name}))||this._defaultModules.push(e),this.stateHash++}},{key:"removeDefaultModule",value:function(e){var t="string"===typeof e?e:e.name;this._defaultModules=this._defaultModules.filter((function(e){return e.name!==t})),this.stateHash++}},{key:"addShaderHook",value:function(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e),this.stateHash++}},{key:"get",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.vs,o=void 0===i?"":i,a=n.fs,s=void 0===a?"":a,u=n.defines,l=void 0===u?{}:u,c=n.inject,f=void 0===c?{}:c,d=n.varyings,h=void 0===d?[]:d,p=n.bufferMode,v=void 0===p?35981:p,g=n.transpileToGLSL100,y=void 0!==g&&g,m=this._getModuleList(n.modules),b=this._getHash(o),_=this._getHash(s),w=m.map((function(e){return t._getHash(e.name)})).sort(),x=h.map((function(e){return t._getHash(e)})),k=Object.keys(l).sort(),E=Object.keys(f).sort(),S=[],T=[],P=(0,r.Z)(k);try{for(P.s();!(e=P.n()).done;){var A=e.value;S.push(this._getHash(A)),S.push(this._getHash(l[A]))}}catch(M){P.e(M)}finally{P.f()}var C,Z=(0,r.Z)(E);try{for(Z.s();!(C=Z.n()).done;){var O=C.value;T.push(this._getHash(O)),T.push(this._getHash(f[O]))}}catch(M){Z.e(M)}finally{Z.f()}var L="".concat(b,"/").concat(_,"D").concat(S.join("/"),"M").concat(w.join("/"),"I").concat(T.join("/"),"V").concat(x.join("/"),"H").concat(this.stateHash,"B").concat(v).concat(y?"T":"");if(!this._programCache[L]){var R=j(this.gl,{vs:o,fs:s,modules:m,inject:f,defines:l,hookFunctions:this._hookFunctions,transpileToGLSL100:y});this._programCache[L]=new B.Z(this.gl,{hash:L,vs:R.vs,fs:R.fs,varyings:h,bufferMode:v}),this._getUniforms[L]=R.getUniforms||function(e){},this._useCounts[L]=0}return this._useCounts[L]++,this._programCache[L]}},{key:"getUniforms",value:function(e){return this._getUniforms[e.hash]||null}},{key:"release",value:function(e){var t=e.hash;this._useCounts[t]--,0===this._useCounts[t]&&(this._programCache[t].delete(),delete this._programCache[t],delete this._getUniforms[t],delete this._useCounts[t])}},{key:"_getHash",value:function(e){return void 0===this._hashes[e]&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}},{key:"_getModuleList",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Array(this._defaultModules.length+e.length),n={},r=0,i=0,o=this._defaultModules.length;i<o;++i){var a=this._defaultModules[i],s=a.name;t[r++]=a,n[s]=!0}for(var u=0,l=e.length;u<l;++u){var c=e[u],f=c.name;n[f]||(t[r++]=c,n[f]=!0)}return t.length=r,t}}],[{key:"getDefaultProgramManager",value:function(t){return t.luma=t.luma||{},t.luma.defaultProgramManager=t.luma.defaultProgramManager||new e(t),t.luma.defaultProgramManager}}]),e}()},9719:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(7762),i=n(5671),o=n(3144),a=n(885),s=n(8012),u="void main() {gl_FragColor = vec4(0);}",l="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",c="#version 300 es\n".concat(l);function f(e,t){t=Array.isArray(t)?t:[t];var n=e.replace(/^\s+/,"").split(/\s+/),r=(0,a.Z)(n,3),i=r[0],o=r[1],s=r[2];return t.includes(i)&&o&&s?{qualifier:i,type:o,name:s.split(";")[0]}:null}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.version,n=void 0===t?100:t,r=e.input,i=e.inputType,o=e.output;if(!r)return 300===n?c:n>300?"#version ".concat(n,"\n").concat(l):u;var a=p(r,i);return n>=300?"#version ".concat(n," ").concat(300===n?"es":"","\nin ").concat(i," ").concat(r,";\nout vec4 ").concat(o,";\nvoid main() {\n  ").concat(o," = ").concat(a,";\n}"):"varying ".concat(i," ").concat(r,";\nvoid main() {\n  gl_FragColor = ").concat(a,";\n}")}function h(e){switch(e){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return(0,s.Z)(!1),null}}function p(e,t){switch(t){case"float":return"vec4(".concat(e,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(e,", 0.0, 1.0)");case"vec3":return"vec4(".concat(e,", 1.0)");case"vec4":return e;default:return(0,s.Z)(!1),null}}var v=n(8767),g=n(1735),y=n(6177),m=n(2033),b=function(){function e(t){(0,i.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(n),Object.seal(this)}return(0,o.Z)(e,[{key:"setupResources",value:function(e){var t,n=(0,r.Z)(this.bindings);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._setupTransformFeedback(i,e)}}catch(o){n.e(o)}finally{n.f()}}},{key:"updateModelProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.varyings;return t.length>0&&(e=Object.assign({},e,{varyings:t})),e}},{key:"getDrawOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],n=t.sourceBuffers,r=t.transformFeedback,i=Object.assign({},n,e.attributes);return{attributes:i,transformFeedback:r}}},{key:"swap",value:function(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e)}},{key:"getBuffer",value:function(e){var t=this.bindings[this.currentIndex].feedbackBuffers,n=e?t[e]:null;return n?n instanceof g.Z?n:n.buffer:null}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.varyingName,n=this.getBuffer(t);return n?n.getData():null}},{key:"delete",value:function(){for(var e in this.resources)this.resources[e].delete()}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e),this.varyings=e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&(0,m.h)((0,v.D0)(this.gl))}},{key:"_getFeedbackBuffers",value:function(e){var t=e.sourceBuffers,n=void 0===t?{}:t,r={};if(this.bindings[this.currentIndex]&&Object.assign(r,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(var i in this.feedbackMap){var o=this.feedbackMap[i];i in n&&(r[o]=i)}for(var a in Object.assign(r,e.feedbackBuffers),r){var s=r[a];if("string"===typeof s){var u=n[s],l=u.byteLength,c=u.usage,f=u.accessor;r[a]=this._createNewBuffer(a,{byteLength:l,usage:c,accessor:f})}}return r}},{key:"_setupBuffers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sourceBuffers,n=void 0===t?null:t;Object.assign(this.feedbackMap,e.feedbackMap);var r=this._getFeedbackBuffers(e);this._updateBindings({sourceBuffers:n,feedbackBuffers:r})}},{key:"_setupTransformFeedback",value:function(e,t){var n=t.model.program;e.transformFeedback=new y.Z(this.gl,{program:n,buffers:e.feedbackBuffers})}},{key:"_updateBindings",value:function(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this.feedbackMap){var t=this._swapBuffers(this.bindings[this.currentIndex]),n=t.sourceBuffers,r=t.feedbackBuffers,i=this._getNextIndex();this.bindings[i]=this._updateBinding(this.bindings[i],{sourceBuffers:n,feedbackBuffers:r})}}},{key:"_updateBinding",value:function(e,t){return e?(Object.assign(e.sourceBuffers,t.sourceBuffers),Object.assign(e.feedbackBuffers,t.feedbackBuffers),e.transformFeedback&&e.transformFeedback.setBuffers(e.feedbackBuffers),e):{sourceBuffers:Object.assign({},t.sourceBuffers),feedbackBuffers:Object.assign({},t.feedbackBuffers)}}},{key:"_swapBuffers",value:function(e){if(!this.feedbackMap)return null;var t=Object.assign({},e.sourceBuffers),n=Object.assign({},e.feedbackBuffers);for(var r in this.feedbackMap){var i=this.feedbackMap[r];t[r]=e.feedbackBuffers[i],n[i]=e.sourceBuffers[r],(0,m.h)(n[i]instanceof g.Z)}return{sourceBuffers:t,feedbackBuffers:n}}},{key:"_createNewBuffer",value:function(e,t){var n=new g.Z(this.gl,t);return this.resources[e]&&this.resources[e].delete(),this.resources[e]=n,n}},{key:"_getNextIndex",value:function(){return(this.currentIndex+1)%2}}]),e}(),_=n(4942),w=n(9507),x=n(2366),k=n(6796),E=n(8542);function S(e){var t=100,n=e.match(/[^\s]+/g);if(n.length>=2&&"#version"===n[0]){var r=parseInt(n[1],10);Number.isFinite(r)&&(t=r)}return t}var T,P=n(8299),A={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},C="transform_uSampler_",Z="transform_uSize_",O="transform_position";function L(e){var t=e.vs,n=e.sourceTextureMap,r=e.targetTextureVarying,i=e.targetTexture,o=Object.keys(n).length,a=null,u={},l=t,c={};if(o>0||r){var d=l.split("\n"),h=d.slice();if(d.forEach((function(e,t,i){if(o>0){var l=function(e,t){var n={},r=function(e){return f(e,["attribute","in"])}(e);if(!r)return null;var i=r.type,o=r.name;if(o&&t[o]){var a="// ".concat(e," => Replaced by Transform with a sampler"),u=function(e){var t="".concat(C).concat(e),n="".concat(Z).concat(e),r="  uniform sampler2D ".concat(t,";\n  uniform vec2 ").concat(n,";");return{samplerName:t,sizeName:n,uniformDeclerations:r}}(o),l=u.samplerName,c=u.sizeName,d=u.uniformDeclerations,h=function(e){switch(e){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return(0,s.Z)(!1),null}}(i),p="  ".concat(i," ").concat(o," = transform_getInput(").concat(l,", ").concat(c,").").concat(h,";\n");return n[l]=o,{updatedLine:a,inject:{"vs:#decl":d,"vs:#main-start":p},samplerTextureMap:n}}return null}(e,n);if(l){var d=l.updatedLine,p=l.inject;h[t]=d,c=(0,P.Lm)([c,p]),Object.assign(u,l.samplerTextureMap),o--}}r&&!a&&(a=function(e,t){var n=f(e,["varying","out"]);if(!n)return null;return n.name===t?n.type:null}(e,r))})),r){(0,m.h)(i);var p="".concat(Z).concat(r),v={"vs:#decl":"uniform vec2 ".concat(p,";\n"),"vs:#main-start":"     vec2 ".concat(O," = transform_getPos(").concat(p,");\n     gl_Position = vec4(").concat(O,", 0, 1.);\n")};c=(0,P.Lm)([c,v])}l=h.join("\n")}return{vs:l,targetTextureType:a,inject:c,samplerTextureMap:u}}function R(e){var t,n,r=e.sourceTextureMap,i=e.targetTextureVarying,o=e.targetTexture,a={};for(var s in i&&(t=o.width,n=o.height,a["".concat(Z).concat(i)]=[t,n]),r){var u=r[s];t=u.width,n=u.height,a["".concat(Z).concat(s)]=[t,n]}return a}var M=(T={},(0,_.Z)(T,10241,9728),(0,_.Z)(T,10240,9728),(0,_.Z)(T,10242,33071),(0,_.Z)(T,10243,33071),T),I="transform_output",N=function(){function e(t){(0,i.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(n),Object.seal(this)}return(0,o.Z)(e,[{key:"updateModelProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._processVertexShader(e);return Object.assign({},e,t)}},{key:"getDrawOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],n=t.sourceBuffers,r=t.sourceTextures,i=t.framebuffer,o=t.targetTexture,a=Object.assign({},n,e.attributes),s=Object.assign({},e.uniforms),u=Object.assign({},e.parameters),l=e.discard;if(this.hasSourceTextures||this.hasTargetTexture){for(var c in a.transform_elementID=this.elementIDBuffer,this.samplerTextureMap){var f=this.samplerTextureMap[c];s[c]=r[f]}this._setSourceTextureParameters();var d=R({sourceTextureMap:r,targetTextureVarying:this.targetTextureVarying,targetTexture:o});Object.assign(s,d)}return this.hasTargetTexture&&(l=!1,u.viewport=[0,0,i.width,i.height]),{attributes:a,framebuffer:i,uniforms:s,discard:l,parameters:u}}},{key:"swap",value:function(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupTextures(e)}},{key:"getTargetTexture",value:function(){return this.bindings[this.currentIndex].targetTexture}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.packed,n=void 0!==t&&t,r=this.bindings[this.currentIndex].framebuffer,i=(0,w.z6)(r);if(!n)return i;for(var o=i.constructor,a=h(this.targetTextureType),s=new o(i.length*a/4),u=0,l=0;l<i.length;l+=4)for(var c=0;c<a;c++)s[u++]=i[l+c];return s}},{key:"getFramebuffer",value:function(){return this.bindings[this.currentIndex].framebuffer}},{key:"delete",value:function(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e._targetTextureVarying,n=e._swapTexture;this._swapTexture=n,this.targetTextureVarying=t,this.hasTargetTexture=t,this._setupTextures(e)}},{key:"_createTargetTexture",value:function(e){var t=e.sourceTextures,n=e.textureOrReference;if(n instanceof x.Z)return n;var r=t[n];return r?(this._targetRefTexName=n,this._createNewTexture(r)):null}},{key:"_setupTextures",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sourceBuffers,n=e._sourceTextures,r=void 0===n?{}:n,i=e._targetTexture,o=this._createTargetTexture({sourceTextures:r,textureOrReference:i});this.hasSourceTextures=this.hasSourceTextures||r&&Object.keys(r).length>0,this._updateBindings({sourceBuffers:t,sourceTextures:r,targetTexture:o}),"elementCount"in e&&this._updateElementIDBuffer(e.elementCount)}},{key:"_updateElementIDBuffer",value:function(e){if(!("number"!==typeof e||this.elementCount>=e)){var t=new Float32Array(e);t.forEach((function(e,t,n){n[t]=t})),this.elementIDBuffer?this.elementIDBuffer.setData({data:t}):this.elementIDBuffer=new g.Z(this.gl,{data:t,accessor:{size:1}}),this.elementCount=e}}},{key:"_updateBindings",value:function(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this._swapTexture){var t=this._swapTextures(this.bindings[this.currentIndex]),n=t.sourceTextures,r=t.targetTexture,i=this._getNextIndex();this.bindings[i]=this._updateBinding(this.bindings[i],{sourceTextures:n,targetTexture:r})}}},{key:"_updateBinding",value:function(e,t){var n=t.sourceBuffers,r=t.sourceTextures,i=t.targetTexture;if(e||(e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,r),Object.assign(e.sourceBuffers,n),i){e.targetTexture=i;var o=i.width,a=i.height,s=e.framebuffer;s?(s.update({attachments:(0,_.Z)({},36064,i),resizeAttachments:!1}),s.resize({width:o,height:a})):e.framebuffer=new k.Z(this.gl,{id:"transform-framebuffer",width:o,height:a,attachments:(0,_.Z)({},36064,i)})}return e}},{key:"_setSourceTextureParameters",value:function(){var e=this.currentIndex,t=this.bindings[e].sourceTextures;for(var n in t)t[n].setParameters(M)}},{key:"_swapTextures",value:function(e){if(!this._swapTexture)return null;var t=Object.assign({},e.sourceTextures);return t[this._swapTexture]=e.targetTexture,{sourceTextures:t,targetTexture:e.sourceTextures[this._swapTexture]}}},{key:"_createNewTexture",value:function(e){var t,n=(0,E.h)(e,{parameters:(t={},(0,_.Z)(t,10241,9728),(0,_.Z)(t,10240,9728),(0,_.Z)(t,10242,33071),(0,_.Z)(t,10243,33071),t),pixelStore:(0,_.Z)({},37440,!1)});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=n,n}},{key:"_getNextIndex",value:function(){return(this.currentIndex+1)%2}},{key:"_processVertexShader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],n=t.sourceTextures,r=t.targetTexture,i=L({vs:e.vs,sourceTextureMap:n,targetTextureVarying:this.targetTextureVarying,targetTexture:r}),o=i.vs,a=i.uniforms,s=i.targetTextureType,u=i.inject,l=i.samplerTextureMap,c=(0,P.Lm)([e.inject||{},u]);this.targetTextureType=s,this.samplerTextureMap=l;var f=e._fs||d({version:S(o),input:this.targetTextureVarying,inputType:s,output:I}),h=this.hasSourceTextures||this.targetTextureVarying?[A].concat(e.modules||[]):e.modules;return{vs:o,fs:f,modules:h,uniforms:a,inject:c}}}]),e}(),F=n(1813),j=n(6501),D=function(){function e(t){(0,i.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=t,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(n),Object.seal(this)}return(0,o.Z)(e,[{key:"delete",value:function(){var e=this.model,t=this.bufferTransform,n=this.textureTransform;e&&e.delete(),t&&t.delete(),n&&n.delete()}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearRenderTarget,n=void 0===t||t,r=this._updateDrawOptions(e);n&&r.framebuffer&&r.framebuffer.clear({color:!0}),this.model.transform(r)}},{key:"swap",value:function(){var e,t=!1,n=[this.bufferTransform,this.textureTransform].filter(Boolean),i=(0,r.Z)(n);try{for(i.s();!(e=i.n()).done;){var o=e.value;t=t||o.swap()}}catch(a){i.e(a)}finally{i.f()}(0,m.h)(t,"Nothing to swap")}},{key:"getBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.bufferTransform&&this.bufferTransform.getBuffer(e)}},{key:"getData",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[this.bufferTransform,this.textureTransform].filter(Boolean),i=(0,r.Z)(n);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=o.getData(t);if(a)return a}}catch(s){i.e(s)}finally{i.f()}return null}},{key:"getFramebuffer",value:function(){return this.textureTransform&&this.textureTransform.getFramebuffer()}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in e&&this.model.setVertexCount(e.elementCount);var t,n=[this.bufferTransform,this.textureTransform].filter(Boolean),i=(0,r.Z)(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.update(e)}}catch(a){i.e(a)}finally{i.f()}}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.gl;this._buildResourceTransforms(t,e),e=this._updateModelProps(e),this.model=new j.Z(t,Object.assign({},e,{fs:e.fs||d({version:S(e.vs)}),id:e.id||"transform-model",drawMode:e.drawMode||0,vertexCount:e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}},{key:"_updateModelProps",value:function(e){var t,n=Object.assign({},e),i=[this.bufferTransform,this.textureTransform].filter(Boolean),o=(0,r.Z)(i);try{for(o.s();!(t=o.n()).done;){n=t.value.updateModelProps(n)}}catch(a){o.e(a)}finally{o.f()}return n}},{key:"_buildResourceTransforms",value:function(e,t){(function(e){if(!(0,F.nK)(e.feedbackBuffers)||!(0,F.nK)(e.feedbackMap)||e.varyings&&e.varyings.length>0)return!0;return!1})(t)&&(this.bufferTransform=new b(e,t)),function(e){if(!(0,F.nK)(e._sourceTextures)||e._targetTexture||e._targetTextureVarying)return!0;return!1}(t)&&(this.textureTransform=new N(e,t)),(0,m.h)(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}},{key:"_updateDrawOptions",value:function(e){var t,n=Object.assign({},e),i=[this.bufferTransform,this.textureTransform].filter(Boolean),o=(0,r.Z)(i);try{for(o.s();!(t=o.n()).done;){var a=t.value;n=Object.assign(n,a.getDrawOptions(n))}}catch(s){o.e(s)}finally{o.f()}return n}}],[{key:"isSupported",value:function(e){return(0,v.D0)(e)}}]),e}()},5410:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(3144),i=n(5671),o=n(136),a=n(7277),s=n(6501),u=n(643),l=[-1,-1,1,-1,-1,1,1,1],c=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var o;(0,i.Z)(this,n);var a=l.map((function(e){return-1===e?0:e}));return(o=t.call(this,e,Object.assign({},r,{vs:"attribute vec2 aClipSpacePosition;\nattribute vec2 aTexCoord;\nattribute vec2 aCoordinate;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main(void) {\n  gl_Position = vec4(aClipSpacePosition, 0., 1.);\n  position = aClipSpacePosition;\n  coordinate = aCoordinate;\n  uv = aTexCoord;\n}\n",geometry:new u.Z({drawMode:5,vertexCount:4,attributes:{aClipSpacePosition:{size:2,value:new Float32Array(l)},aTexCoord:{size:2,value:new Float32Array(a)},aCoordinate:{size:2,value:new Float32Array(a)}}})}))).setVertexCount(4),o}return(0,r.Z)(n)}(s.Z)},8767:function(e,t,n){"use strict";n.d(t,{KQ:function(){return c},JD:function(){return l},s9:function(){return he},JY:function(){return oe},w:function(){return ie},ZS:function(){return te},vd:function(){return u},yW:function(){return pe},UF:function(){return a},D0:function(){return s},cM:function(){return r},kL:function(){return ne},aQ:function(){return ve},dR:function(){return ee},s8:function(){return re}});var r=new(n(6368).Z)({id:"luma.gl"});function i(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}var o="Invalid WebGLRenderingContext";function a(e){return"undefined"!==typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext||("undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&Number.isFinite(e._version)))}function s(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}function u(e){return s(e)?e:null}function l(e){return i(a(e),o),e}function c(e){return i(s(e),"Requires WebGL2"),e}var f=n(7762),d={};function h(e,t){var n;d[e]=!0,void 0!==t&&(n=t,globalThis.console&&globalThis.console.error&&globalThis.console.error(n))}var p=function e(t){var n=t.gl;this.ext=t,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(t.maxVertexAttribs);for(var r=0;r<this.attribs.length;r++){var i=new e.VertexAttrib(n);this.attribs[r]=i}this.maxAttrib=0};(p.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};var v=function(e){var t=this;this.gl=e,function(e){var t=e.getError;e.getError=function(){var n;do{0!==(n=t.apply(e))&&(d[n]=!0)}while(0!==n);for(n in d)if(d[n])return delete d[n],parseInt(n,10);return 0}}(e);var n=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(e){return e===t.VERTEX_ARRAY_BINDING_OES?t.currentVertexArrayObject===t.defaultVertexArrayObject?null:t.currentVertexArrayObject:n.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(e){var r=t.currentVertexArrayObject;r.maxAttrib=Math.max(r.maxAttrib,e);var i=r.attribs[e];return i.enabled=!0,n.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(e){var r=t.currentVertexArrayObject;r.maxAttrib=Math.max(r.maxAttrib,e);var i=r.attribs[e];return i.enabled=!1,n.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(e,r){switch(e){case 34962:t.currentArrayBuffer=r;break;case 34963:t.currentVertexArrayObject.elementArrayBuffer=r}return n.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(e,r){var i=t.currentVertexArrayObject,o=i.attribs[e];switch(r){case 34975:return o.buffer;case 34338:return o.enabled;case 34339:return o.size;case 34340:return o.stride;case 34341:return o.type;case 34922:return o.normalized;default:return n.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(e,r,i,o,a,s){var u=t.currentVertexArrayObject;u.maxAttrib=Math.max(u.maxAttrib,e);var l=u.attribs[e];return l.buffer=t.currentArrayBuffer,l.size=r,l.type=i,l.normalized=o,l.stride=a,l.offset=s,l.recache(),n.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",(function(){var e;e="OESVertexArrayObject emulation library context restored",globalThis.console&&globalThis.console.log&&globalThis.console.log(e),t.reset_()}),!0),this.reset_()};v.prototype.VERTEX_ARRAY_BINDING_OES=34229,v.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(var e=0;e<this.vertexArrayObjects.length;++e)this.vertexArrayObjects.isAlive=!1;var t=this.gl;this.maxVertexAttribs=t.getParameter(34921),this.defaultVertexArrayObject=new p(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},v.prototype.createVertexArrayOES=function(){var e=new p(this);return this.vertexArrayObjects.push(e),e},v.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)},v.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof p&&e.hasBeenBound&&e.ext===this)},v.prototype.bindVertexArrayOES=function(e){var t=this.gl;if(!e||e.isAlive){var n=this.original,r=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;var i=this.currentVertexArrayObject;if(r!==i){r&&i.elementArrayBuffer===r.elementArrayBuffer||n.bindBuffer.call(t,34963,i.elementArrayBuffer);for(var o=this.currentArrayBuffer,a=Math.max(r?r.maxAttrib:0,i.maxAttrib),s=0;s<=a;s++){var u=i.attribs[s],l=r?r.attribs[s]:null;if(r&&u.enabled===l.enabled||(u.enabled?n.enableVertexAttribArray.call(t,s):n.disableVertexAttribArray.call(t,s)),u.enabled){var c=!1;r&&u.buffer===l.buffer||(o!==u.buffer&&(n.bindBuffer.call(t,34962,u.buffer),o=u.buffer),c=!0),(c||u.cached!==l.cached)&&n.vertexAttribPointer.call(t,s,u.size,u.type,u.normalized,u.stride,u.offset)}}this.currentArrayBuffer!==o&&n.bindBuffer.call(t,34962,this.currentArrayBuffer)}}else h(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject")};var g,y,m=n(4942),b="OES_element_index",_="WEBGL_draw_buffers",w="WEBGL_debug_renderer_info",x=function(e){return s(e)?void 0:0},k=(g={},(0,m.Z)(g,3074,(function(e){return s(e)?void 0:36064})),(0,m.Z)(g,35723,(function(e){return s(e)?void 0:4352})),(0,m.Z)(g,35977,x),(0,m.Z)(g,32937,x),(0,m.Z)(g,36795,(function(e,t){var n=s(e)?e.getExtension("EXT_disjoint_timer_query_webgl2"):e.getExtension("EXT_disjoint_timer_query");return n&&n.GPU_DISJOINT_EXT?t(n.GPU_DISJOINT_EXT):0})),(0,m.Z)(g,37445,(function(e,t){var n=e.getExtension(w);return t(n&&n.UNMASKED_VENDOR_WEBGL||7936)})),(0,m.Z)(g,37446,(function(e,t){var n=e.getExtension(w);return t(n&&n.UNMASKED_RENDERER_WEBGL||7937)})),(0,m.Z)(g,34047,(function(e,t){var n=e.luma.extensions.EXT_texture_filter_anisotropic;return n?t(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1})),(0,m.Z)(g,32883,x),(0,m.Z)(g,35071,x),(0,m.Z)(g,37447,x),(0,m.Z)(g,36063,(function(e,t){if(!s(e)){var n=e.getExtension(_);return n?t(n.MAX_COLOR_ATTACHMENTS_WEBGL):0}})),(0,m.Z)(g,35379,x),(0,m.Z)(g,35374,x),(0,m.Z)(g,35377,x),(0,m.Z)(g,34852,(function(e){if(!s(e)){var t=e.getExtension(_);return t?t.MAX_DRAW_BUFFERS_WEBGL:0}})),(0,m.Z)(g,36203,(function(e){return e.getExtension(b)?2147483647:65535})),(0,m.Z)(g,33001,(function(e){return e.getExtension(b)?16777216:65535})),(0,m.Z)(g,33e3,(function(e){return 16777216})),(0,m.Z)(g,37157,x),(0,m.Z)(g,35373,x),(0,m.Z)(g,35657,x),(0,m.Z)(g,36183,x),(0,m.Z)(g,37137,x),(0,m.Z)(g,34045,x),(0,m.Z)(g,35978,x),(0,m.Z)(g,35979,x),(0,m.Z)(g,35968,x),(0,m.Z)(g,35376,x),(0,m.Z)(g,35375,x),(0,m.Z)(g,35659,x),(0,m.Z)(g,37154,x),(0,m.Z)(g,35371,x),(0,m.Z)(g,35658,x),(0,m.Z)(g,35076,x),(0,m.Z)(g,35077,x),(0,m.Z)(g,35380,x),g);var E="ANGLE_instanced_arrays";var S=(y={},(0,m.Z)(y,"OES_vertex_array_object",{meta:{suffix:"OES"},createVertexArray:function(){i(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:function(){},bindVertexArray:function(){},isVertexArray:function(){return!1}}),(0,m.Z)(y,E,{meta:{suffix:"ANGLE"},vertexAttribDivisor:function(e,t){i(0===t,"WebGL instanced rendering not supported")},drawElementsInstanced:function(){},drawArraysInstanced:function(){}}),(0,m.Z)(y,"WEBGL_draw_buffers",{meta:{suffix:"WEBGL"},drawBuffers:function(){i(!1)}}),(0,m.Z)(y,"EXT_disjoint_timer_query",{meta:{suffix:"EXT"},createQuery:function(){i(!1)},deleteQuery:function(){i(!1)},beginQuery:function(){i(!1)},endQuery:function(){},getQuery:function(e,t){return this.getQueryObject(e,t)},getQueryParameter:function(e,t){return this.getQueryObject(e,t)},getQueryObject:function(){}}),y),T={readBuffer:function(e,t,n){s(e)&&t(n)},getVertexAttrib:function(e,t,n,r){var i,o=function(e,t){return{webgl2:s(e),ext:e.getExtension(t)}}(e,E),a=o.webgl2,u=o.ext;switch(r){case 35069:i=!!a&&void 0;break;case 35070:i=a||u?void 0:0}return void 0!==i?i:t(n,r)},getProgramParameter:function(e,t,n,r){if(!s(e))switch(r){case 35967:return 35981;case 35971:case 35382:return 0}return t(n,r)},getInternalformatParameter:function(e,t,n,r,i){return s(e)||32937!==i?e.getInternalformatParameter(n,r,i):new Int32Array([0])},getTexParameter:function(e,t,n,r){if(34046===r){var i=e.luma.extensions.EXT_texture_filter_anisotropic;r=i&&i.TEXTURE_MAX_ANISOTROPY_EXT||34046}return t(n,r)},getParameter:function(e,t,n){var r=k[n],i="function"===typeof r?r(e,t,n):r;return void 0!==i?i:t(n)},hint:function(e,t,n,r){return t(n,r)}};function P(e,t){var n=t.extension,r=t.target,o=t.target2,a=S[n];i(a);for(var s=a.meta,u=(void 0===s?{}:s).suffix,l=void 0===u?"":u,c=e.getExtension(n),f=function(){var t=h[d],n="".concat(t).concat(l),i=null;"meta"===t||"function"===typeof e[t]||(c&&"function"===typeof c[n]?i=function(){return c[n].apply(c,arguments)}:"function"===typeof a[t]&&(i=a[t].bind(r))),i&&(r[t]=i,o[t]=i)},d=0,h=Object.keys(a);d<h.length;d++)f()}globalThis.polyfillContext=function(e){e.luma=e.luma||{};var t=e.luma;return t.polyfilled||(!function(e){if("function"!==typeof e.createVertexArray){var t=e.getSupportedExtensions;e.getSupportedExtensions=function(){var e=t.call(this)||[];return e.indexOf("OES_vertex_array_object")<0&&e.push("OES_vertex_array_object"),e};var n=e.getExtension;e.getExtension=function(t){return n.call(this,t)||("OES_vertex_array_object"!==t?null:(e.__OESVertexArrayObject||(this.__OESVertexArrayObject=new v(this)),this.__OESVertexArrayObject))}}}(e),function(e){e.luma.extensions={};var t,n=e.getSupportedExtensions()||[],r=(0,f.Z)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;e.luma[i]=e.getExtension(i)}}catch(o){r.e(o)}finally{r.f()}}(e),function(e,t){var n,r=(0,f.Z)(Object.getOwnPropertyNames(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;"overrides"!==i&&P(e,{extension:i,target:e.luma,target2:e})}}catch(o){r.e(o)}finally{r.f()}}(e,S),function(e,t){var n=t.target,r=t.target2;Object.keys(T).forEach((function(t){if("function"===typeof T[t]){var i=e[t]?e[t].bind(e):function(){},o=T[t].bind(null,e,i);n[t]=o,r[t]=o}}))}(e,{target:t,target2:e}),t.polyfilled=!0),e};var A,C,Z,O=n(885),L=n(2982),R=(A={},(0,m.Z)(A,3042,!1),(0,m.Z)(A,32773,new Float32Array([0,0,0,0])),(0,m.Z)(A,32777,32774),(0,m.Z)(A,34877,32774),(0,m.Z)(A,32969,1),(0,m.Z)(A,32968,0),(0,m.Z)(A,32971,1),(0,m.Z)(A,32970,0),(0,m.Z)(A,3106,new Float32Array([0,0,0,0])),(0,m.Z)(A,3107,[!0,!0,!0,!0]),(0,m.Z)(A,2884,!1),(0,m.Z)(A,2885,1029),(0,m.Z)(A,2929,!1),(0,m.Z)(A,2931,1),(0,m.Z)(A,2932,513),(0,m.Z)(A,2928,new Float32Array([0,1])),(0,m.Z)(A,2930,!0),(0,m.Z)(A,3024,!0),(0,m.Z)(A,36006,null),(0,m.Z)(A,2886,2305),(0,m.Z)(A,33170,4352),(0,m.Z)(A,2849,1),(0,m.Z)(A,32823,!1),(0,m.Z)(A,32824,0),(0,m.Z)(A,10752,0),(0,m.Z)(A,32938,1),(0,m.Z)(A,32939,!1),(0,m.Z)(A,3089,!1),(0,m.Z)(A,3088,new Int32Array([0,0,1024,1024])),(0,m.Z)(A,2960,!1),(0,m.Z)(A,2961,0),(0,m.Z)(A,2968,4294967295),(0,m.Z)(A,36005,4294967295),(0,m.Z)(A,2962,519),(0,m.Z)(A,2967,0),(0,m.Z)(A,2963,4294967295),(0,m.Z)(A,34816,519),(0,m.Z)(A,36003,0),(0,m.Z)(A,36004,4294967295),(0,m.Z)(A,2964,7680),(0,m.Z)(A,2965,7680),(0,m.Z)(A,2966,7680),(0,m.Z)(A,34817,7680),(0,m.Z)(A,34818,7680),(0,m.Z)(A,34819,7680),(0,m.Z)(A,2978,[0,0,1024,1024]),(0,m.Z)(A,3333,4),(0,m.Z)(A,3317,4),(0,m.Z)(A,37440,!1),(0,m.Z)(A,37441,!1),(0,m.Z)(A,37443,37444),(0,m.Z)(A,35723,4352),(0,m.Z)(A,36010,null),(0,m.Z)(A,35977,!1),(0,m.Z)(A,3330,0),(0,m.Z)(A,3332,0),(0,m.Z)(A,3331,0),(0,m.Z)(A,3314,0),(0,m.Z)(A,32878,0),(0,m.Z)(A,3316,0),(0,m.Z)(A,3315,0),(0,m.Z)(A,32877,0),A),M=function(e,t,n){return t?e.enable(n):e.disable(n)},I=function(e,t,n){return e.hint(n,t)},N=function(e,t,n){return e.pixelStorei(n,t)};function F(e){return Array.isArray(e)||ArrayBuffer.isView(e)}var j=(C={},(0,m.Z)(C,3042,M),(0,m.Z)(C,32773,(function(e,t){return e.blendColor.apply(e,(0,L.Z)(t))})),(0,m.Z)(C,32777,"blendEquation"),(0,m.Z)(C,34877,"blendEquation"),(0,m.Z)(C,32969,"blendFunc"),(0,m.Z)(C,32968,"blendFunc"),(0,m.Z)(C,32971,"blendFunc"),(0,m.Z)(C,32970,"blendFunc"),(0,m.Z)(C,3106,(function(e,t){return e.clearColor.apply(e,(0,L.Z)(t))})),(0,m.Z)(C,3107,(function(e,t){return e.colorMask.apply(e,(0,L.Z)(t))})),(0,m.Z)(C,2884,M),(0,m.Z)(C,2885,(function(e,t){return e.cullFace(t)})),(0,m.Z)(C,2929,M),(0,m.Z)(C,2931,(function(e,t){return e.clearDepth(t)})),(0,m.Z)(C,2932,(function(e,t){return e.depthFunc(t)})),(0,m.Z)(C,2928,(function(e,t){return e.depthRange.apply(e,(0,L.Z)(t))})),(0,m.Z)(C,2930,(function(e,t){return e.depthMask(t)})),(0,m.Z)(C,3024,M),(0,m.Z)(C,35723,I),(0,m.Z)(C,36006,(function(e,t){var n=s(e)?36009:36160;return e.bindFramebuffer(n,t)})),(0,m.Z)(C,2886,(function(e,t){return e.frontFace(t)})),(0,m.Z)(C,33170,I),(0,m.Z)(C,2849,(function(e,t){return e.lineWidth(t)})),(0,m.Z)(C,32823,M),(0,m.Z)(C,32824,"polygonOffset"),(0,m.Z)(C,10752,"polygonOffset"),(0,m.Z)(C,35977,M),(0,m.Z)(C,32938,"sampleCoverage"),(0,m.Z)(C,32939,"sampleCoverage"),(0,m.Z)(C,3089,M),(0,m.Z)(C,3088,(function(e,t){return e.scissor.apply(e,(0,L.Z)(t))})),(0,m.Z)(C,2960,M),(0,m.Z)(C,2961,(function(e,t){return e.clearStencil(t)})),(0,m.Z)(C,2968,(function(e,t){return e.stencilMaskSeparate(1028,t)})),(0,m.Z)(C,36005,(function(e,t){return e.stencilMaskSeparate(1029,t)})),(0,m.Z)(C,2962,"stencilFuncFront"),(0,m.Z)(C,2967,"stencilFuncFront"),(0,m.Z)(C,2963,"stencilFuncFront"),(0,m.Z)(C,34816,"stencilFuncBack"),(0,m.Z)(C,36003,"stencilFuncBack"),(0,m.Z)(C,36004,"stencilFuncBack"),(0,m.Z)(C,2964,"stencilOpFront"),(0,m.Z)(C,2965,"stencilOpFront"),(0,m.Z)(C,2966,"stencilOpFront"),(0,m.Z)(C,34817,"stencilOpBack"),(0,m.Z)(C,34818,"stencilOpBack"),(0,m.Z)(C,34819,"stencilOpBack"),(0,m.Z)(C,2978,(function(e,t){return e.viewport.apply(e,(0,L.Z)(t))})),(0,m.Z)(C,3333,N),(0,m.Z)(C,3317,N),(0,m.Z)(C,37440,N),(0,m.Z)(C,37441,N),(0,m.Z)(C,37443,N),(0,m.Z)(C,3330,N),(0,m.Z)(C,3332,N),(0,m.Z)(C,3331,N),(0,m.Z)(C,36010,(function(e,t){return e.bindFramebuffer(36008,t)})),(0,m.Z)(C,3314,N),(0,m.Z)(C,32878,N),(0,m.Z)(C,3316,N),(0,m.Z)(C,3315,N),(0,m.Z)(C,32877,N),(0,m.Z)(C,"framebuffer",(function(e,t){var n=t&&"handle"in t?t.handle:t;return e.bindFramebuffer(36160,n)})),(0,m.Z)(C,"blend",(function(e,t){return t?e.enable(3042):e.disable(3042)})),(0,m.Z)(C,"blendColor",(function(e,t){return e.blendColor.apply(e,(0,L.Z)(t))})),(0,m.Z)(C,"blendEquation",(function(e,t){t=F(t)?t:[t,t],e.blendEquationSeparate.apply(e,(0,L.Z)(t))})),(0,m.Z)(C,"blendFunc",(function(e,t){t=F(t)&&2===t.length?[].concat((0,L.Z)(t),(0,L.Z)(t)):t,e.blendFuncSeparate.apply(e,(0,L.Z)(t))})),(0,m.Z)(C,"clearColor",(function(e,t){return e.clearColor.apply(e,(0,L.Z)(t))})),(0,m.Z)(C,"clearDepth",(function(e,t){return e.clearDepth(t)})),(0,m.Z)(C,"clearStencil",(function(e,t){return e.clearStencil(t)})),(0,m.Z)(C,"colorMask",(function(e,t){return e.colorMask.apply(e,(0,L.Z)(t))})),(0,m.Z)(C,"cull",(function(e,t){return t?e.enable(2884):e.disable(2884)})),(0,m.Z)(C,"cullFace",(function(e,t){return e.cullFace(t)})),(0,m.Z)(C,"depthTest",(function(e,t){return t?e.enable(2929):e.disable(2929)})),(0,m.Z)(C,"depthFunc",(function(e,t){return e.depthFunc(t)})),(0,m.Z)(C,"depthMask",(function(e,t){return e.depthMask(t)})),(0,m.Z)(C,"depthRange",(function(e,t){return e.depthRange.apply(e,(0,L.Z)(t))})),(0,m.Z)(C,"dither",(function(e,t){return t?e.enable(3024):e.disable(3024)})),(0,m.Z)(C,"derivativeHint",(function(e,t){e.hint(35723,t)})),(0,m.Z)(C,"frontFace",(function(e,t){return e.frontFace(t)})),(0,m.Z)(C,"mipmapHint",(function(e,t){return e.hint(33170,t)})),(0,m.Z)(C,"lineWidth",(function(e,t){return e.lineWidth(t)})),(0,m.Z)(C,"polygonOffsetFill",(function(e,t){return t?e.enable(32823):e.disable(32823)})),(0,m.Z)(C,"polygonOffset",(function(e,t){return e.polygonOffset.apply(e,(0,L.Z)(t))})),(0,m.Z)(C,"sampleCoverage",(function(e,t){return e.sampleCoverage.apply(e,(0,L.Z)(t))})),(0,m.Z)(C,"scissorTest",(function(e,t){return t?e.enable(3089):e.disable(3089)})),(0,m.Z)(C,"scissor",(function(e,t){return e.scissor.apply(e,(0,L.Z)(t))})),(0,m.Z)(C,"stencilTest",(function(e,t){return t?e.enable(2960):e.disable(2960)})),(0,m.Z)(C,"stencilMask",(function(e,t){var n=t=F(t)?t:[t,t],r=(0,O.Z)(n,2),i=r[0],o=r[1];e.stencilMaskSeparate(1028,i),e.stencilMaskSeparate(1029,o)})),(0,m.Z)(C,"stencilFunc",(function(e,t){var n=t=F(t)&&3===t.length?[].concat((0,L.Z)(t),(0,L.Z)(t)):t,r=(0,O.Z)(n,6),i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],l=r[5];e.stencilFuncSeparate(1028,i,o,a),e.stencilFuncSeparate(1029,s,u,l)})),(0,m.Z)(C,"stencilOp",(function(e,t){var n=t=F(t)&&3===t.length?[].concat((0,L.Z)(t),(0,L.Z)(t)):t,r=(0,O.Z)(n,6),i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],l=r[5];e.stencilOpSeparate(1028,i,o,a),e.stencilOpSeparate(1029,s,u,l)})),(0,m.Z)(C,"viewport",(function(e,t){return e.viewport.apply(e,(0,L.Z)(t))})),C);function D(e,t,n){return void 0!==t[e]?t[e]:n[e]}var z={blendEquation:function(e,t,n){return e.blendEquationSeparate(D(32777,t,n),D(34877,t,n))},blendFunc:function(e,t,n){return e.blendFuncSeparate(D(32969,t,n),D(32968,t,n),D(32971,t,n),D(32970,t,n))},polygonOffset:function(e,t,n){return e.polygonOffset(D(32824,t,n),D(10752,t,n))},sampleCoverage:function(e,t,n){return e.sampleCoverage(D(32938,t,n),D(32939,t,n))},stencilFuncFront:function(e,t,n){return e.stencilFuncSeparate(1028,D(2962,t,n),D(2967,t,n),D(2963,t,n))},stencilFuncBack:function(e,t,n){return e.stencilFuncSeparate(1029,D(34816,t,n),D(36003,t,n),D(36004,t,n))},stencilOpFront:function(e,t,n){return e.stencilOpSeparate(1028,D(2964,t,n),D(2965,t,n),D(2966,t,n))},stencilOpBack:function(e,t,n){return e.stencilOpSeparate(1029,D(34817,t,n),D(34818,t,n),D(34819,t,n))}},B={enable:function(e,t){return e((0,m.Z)({},t,!0))},disable:function(e,t){return e((0,m.Z)({},t,!1))},pixelStorei:function(e,t,n){return e((0,m.Z)({},t,n))},hint:function(e,t,n){return e((0,m.Z)({},t,n))},bindFramebuffer:function(e,t,n){var r;switch(t){case 36160:return e((r={},(0,m.Z)(r,36006,n),(0,m.Z)(r,36010,n),r));case 36009:return e((0,m.Z)({},36006,n));case 36008:return e((0,m.Z)({},36010,n));default:return null}},blendColor:function(e,t,n,r,i){return e((0,m.Z)({},32773,new Float32Array([t,n,r,i])))},blendEquation:function(e,t){var n;return e((n={},(0,m.Z)(n,32777,t),(0,m.Z)(n,34877,t),n))},blendEquationSeparate:function(e,t,n){var r;return e((r={},(0,m.Z)(r,32777,t),(0,m.Z)(r,34877,n),r))},blendFunc:function(e,t,n){var r;return e((r={},(0,m.Z)(r,32969,t),(0,m.Z)(r,32968,n),(0,m.Z)(r,32971,t),(0,m.Z)(r,32970,n),r))},blendFuncSeparate:function(e,t,n,r,i){var o;return e((o={},(0,m.Z)(o,32969,t),(0,m.Z)(o,32968,n),(0,m.Z)(o,32971,r),(0,m.Z)(o,32970,i),o))},clearColor:function(e,t,n,r,i){return e((0,m.Z)({},3106,new Float32Array([t,n,r,i])))},clearDepth:function(e,t){return e((0,m.Z)({},2931,t))},clearStencil:function(e,t){return e((0,m.Z)({},2961,t))},colorMask:function(e,t,n,r,i){return e((0,m.Z)({},3107,[t,n,r,i]))},cullFace:function(e,t){return e((0,m.Z)({},2885,t))},depthFunc:function(e,t){return e((0,m.Z)({},2932,t))},depthRange:function(e,t,n){return e((0,m.Z)({},2928,new Float32Array([t,n])))},depthMask:function(e,t){return e((0,m.Z)({},2930,t))},frontFace:function(e,t){return e((0,m.Z)({},2886,t))},lineWidth:function(e,t){return e((0,m.Z)({},2849,t))},polygonOffset:function(e,t,n){var r;return e((r={},(0,m.Z)(r,32824,t),(0,m.Z)(r,10752,n),r))},sampleCoverage:function(e,t,n){var r;return e((r={},(0,m.Z)(r,32938,t),(0,m.Z)(r,32939,n),r))},scissor:function(e,t,n,r,i){return e((0,m.Z)({},3088,new Int32Array([t,n,r,i])))},stencilMask:function(e,t){var n;return e((n={},(0,m.Z)(n,2968,t),(0,m.Z)(n,36005,t),n))},stencilMaskSeparate:function(e,t,n){return e((0,m.Z)({},1028===t?2968:36005,n))},stencilFunc:function(e,t,n,r){var i;return e((i={},(0,m.Z)(i,2962,t),(0,m.Z)(i,2967,n),(0,m.Z)(i,2963,r),(0,m.Z)(i,34816,t),(0,m.Z)(i,36003,n),(0,m.Z)(i,36004,r),i))},stencilFuncSeparate:function(e,t,n,r,i){var o;return e((o={},(0,m.Z)(o,1028===t?2962:34816,n),(0,m.Z)(o,1028===t?2967:36003,r),(0,m.Z)(o,1028===t?2963:36004,i),o))},stencilOp:function(e,t,n,r){var i;return e((i={},(0,m.Z)(i,2964,t),(0,m.Z)(i,2965,n),(0,m.Z)(i,2966,r),(0,m.Z)(i,34817,t),(0,m.Z)(i,34818,n),(0,m.Z)(i,34819,r),i))},stencilOpSeparate:function(e,t,n,r,i){var o;return e((o={},(0,m.Z)(o,1028===t?2964:34817,n),(0,m.Z)(o,1028===t?2965:34818,r),(0,m.Z)(o,1028===t?2966:34819,i),o))},viewport:function(e,t,n,r,i){return e((0,m.Z)({},2978,[t,n,r,i]))}},U=function(e,t){return e.isEnabled(t)},V=(Z={},(0,m.Z)(Z,3042,U),(0,m.Z)(Z,2884,U),(0,m.Z)(Z,2929,U),(0,m.Z)(Z,3024,U),(0,m.Z)(Z,32823,U),(0,m.Z)(Z,32926,U),(0,m.Z)(Z,32928,U),(0,m.Z)(Z,3089,U),(0,m.Z)(Z,2960,U),(0,m.Z)(Z,35977,U),Z),G=n(5671),W=n(3144);function H(e){for(var t in e)return!1;return!0}function X(e,t){if(e===t)return!0;var n=Array.isArray(e)||ArrayBuffer.isView(e),r=Array.isArray(t)||ArrayBuffer.isView(t);if(n&&r&&e.length===t.length){for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}return!1}function Y(e,t){var n=e[t].bind(e);e[t]=function(){var t=arguments.length<=0?void 0:arguments[0];return t in e.state.cache&&e.state.enable?e.state.cache[t]:n.apply(void 0,arguments)},Object.defineProperty(e[t],"name",{value:"".concat(t,"-from-cache"),configurable:!1})}function K(e,t,n){var r=e[t].bind(e);e[t]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];var a=n.apply(void 0,[e.state._updateCache].concat(i)),s=a.valueChanged,u=a.oldValue;return s&&r.apply(void 0,i),u},Object.defineProperty(e[t],"name",{value:"".concat(t,"-to-cache"),configurable:!1})}function q(e){var t=e.useProgram.bind(e);e.useProgram=function(n){e.state.program!==n&&(t(n),e.state.program=n)}}var Q=function(){function e(t){(0,G.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.copyState,i=void 0!==r&&r,o=n.log,a=void 0===o?function(){}:o;this.gl=t,this.program=null,this.stateStack=[],this.enable=!0,this.cache=i?te(t):Object.assign({},R),this.log=a,this._updateCache=this._updateCache.bind(this),Object.seal(this)}return(0,W.Z)(e,[{key:"push",value:function(){this.stateStack.push({})}},{key:"pop",value:function(){i(this.stateStack.length>0);var e=this.stateStack[this.stateStack.length-1];ee(this.gl,e),this.stateStack.pop()}},{key:"_updateCache",value:function(e){var t,n=!1,r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var o in e){i(void 0!==o);var a=e[o],s=this.cache[o];X(a,s)||(n=!0,t=s,r&&!(o in r)&&(r[o]=s),this.cache[o]=a)}return{valueChanged:n,oldValue:t}}}]),e}();function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enable,r=void 0===n||n,o=t.copyState;if(i(void 0!==o),!e.state){var a=globalThis.polyfillContext;for(var s in a&&a(e),e.state=new Q(e,{copyState:o}),q(e),B){var u=B[s];K(e,s,u)}Y(e,"getParameter"),Y(e,"isEnabled")}return e.state.enable=r,e}function J(e){i(e.state),e.state.pop()}function ee(e,t){if(i(a(e),"setParameters requires a WebGL context"),!H(t)){var n={};for(var r in t){var o=Number(r),s=j[r];s&&("string"===typeof s?n[s]=!0:s(e,t[r],o))}var u=e.state&&e.state.cache;if(u)for(var l in n){(0,z[l])(e,t,u)}}}function te(e,t){if("number"===typeof(t=t||R)){var n=t,r=V[n];return r?r(e,n):e.getParameter(n)}var i,o=Array.isArray(t)?t:Object.keys(t),a={},s=(0,f.Z)(o);try{for(s.s();!(i=s.n()).done;){var u=i.value,l=V[u];a[u]=l?l(e,Number(u)):e.getParameter(Number(u))}}catch(c){s.e(c)}finally{s.f()}return a}function ne(e){ee(e,R)}function re(e,t,n){if(H(t))return n(e);var r,i=t.nocatch,o=void 0===i||i;if(function(e){e.state||$(e,{copyState:!1}),e.state.push()}(e),ee(e,t),o)r=n(e),J(e);else try{r=n(e)}finally{J(e)}return r}function ie(e){var t=e.luma;if(e.canvas&&t){var n=t.canvasSizeInfo.clientWidth;return n?e.drawingBufferWidth/n:1}return 1}function oe(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=ie(e),i=e.drawingBufferWidth,o=e.drawingBufferHeight;return se(t,r,i,o,n)}function ae(e){var t="undefined"===typeof window?1:window.devicePixelRatio||1;return Number.isFinite(e)?e<=0?1:e:e?t:1}function se(e,t,n,r,i){var o,a=ue(e[0],t,n),s=le(e[1],t,r,i),u=ue(e[0]+1,t,n),l=u===n-1?u:u-1;return u=le(e[1]+1,t,r,i),i?(o=s,s=u=0===u?u:u+1):o=u===r-1?u:u-1,{x:a,y:s,width:Math.max(l-a+1,1),height:Math.max(o-s+1,1)}}function ue(e,t,n){return Math.min(Math.round(e*t),n-1)}function le(e,t,n,r){return r?Math.max(0,n-1-Math.round(e*t)):Math.min(Math.round(e*t),n-1)}var ce=(0,n(857).Z)(),fe=ce&&"undefined"!==typeof document,de={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(ce,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils");var t,n=e=Object.assign({},de,e),r=n.width,o=n.height;function a(t){if(e.throwOnError)throw new Error(t);return console.error(t),null}e.onError=a;var s=e,u=s.canvas,l=ye({canvas:u,width:r,height:o,onError:a});return(t=ge(l,e))?(me(t=pe(t,e)),t):null}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||e._instrumented)return e;e._version=e._version||be(e),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};var n=t=Object.assign({},de,t),i=n.manageState,o=n.debug;return i&&$(e,{copyState:!1,log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.log.apply(r,[1].concat(t))()}}),ce&&o&&(globalThis.makeDebugContext?(e=globalThis.makeDebugContext(e,t),r.level=Math.max(r.level,1)):r.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),e._instrumented=!0,e}function ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.canvas){var n=ae(t.useDevicePixels);_e(e,n,t)}else{var r=e.getExtension("STACKGL_resize_drawingbuffer");r&&"width"in t&&"height"in t&&r.resize(t.width,t.height)}}function ge(e,t){var n=t.onError,r=null,i=function(e){return r=e.statusMessage||r};e.addEventListener("webglcontextcreationerror",i,!1);var o=t.webgl1,a=void 0===o||o,s=t.webgl2,u=void 0===s||s,l=null;return u&&(l=(l=l||e.getContext("webgl2",t))||e.getContext("experimental-webgl2",t)),a&&(l=(l=l||e.getContext("webgl",t))||e.getContext("experimental-webgl",t)),e.removeEventListener("webglcontextcreationerror",i,!1),l?(t.onContextLost&&e.addEventListener("webglcontextlost",t.onContextLost,!1),t.onContextRestored&&e.addEventListener("webglcontextrestored",t.onContextRestored,!1),l):n("Failed to create ".concat(u&&!a?"WebGL2":"WebGL"," context: ").concat(r||"Unknown error"))}function ye(e){var t,n=e.canvas,r=e.width,i=void 0===r?800:r,o=e.height,a=void 0===o?600:o,s=e.onError;"string"===typeof n?(fe&&"complete"===document.readyState||s("createGLContext called on canvas '".concat(n,"' before page was loaded")),t=document.getElementById(n)):n?t=n:((t=document.createElement("canvas")).id="lumagl-canvas",t.style.width=Number.isFinite(i)?"".concat(i,"px"):"100%",t.style.height=Number.isFinite(a)?"".concat(a,"px"):"100%",document.body.insertBefore(t,document.body.firstChild));return t}function me(e){var t=s(e)?"WebGL2":"WebGL1",n=function(e){var t=e.getParameter(7936),n=e.getParameter(7937),r=e.getExtension("WEBGL_debug_renderer_info");return{vendor:r&&e.getParameter(r.UNMASKED_VENDOR_WEBGL||7936)||t,renderer:r&&e.getParameter(r.UNMASKED_RENDERER_WEBGL||7937)||n,vendorMasked:t,rendererMasked:n,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}(e),i=n?"(".concat(n.vendor,",").concat(n.renderer,")"):"",o=e.debug?" debug":"";r.info(1,"".concat(t).concat(o," context ").concat(i))()}function be(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext?2:1}function _e(e,t,n){var i="width"in n?n.width:e.canvas.clientWidth,o="height"in n?n.height:e.canvas.clientHeight;i&&o||(r.log(1,"Canvas clientWidth/clientHeight is 0")(),t=1,i=e.canvas.width||1,o=e.canvas.height||1),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};var a=e.luma.canvasSizeInfo;if(a.clientWidth!==i||a.clientHeight!==o||a.devicePixelRatio!==t){var s=t,u=Math.floor(i*s),l=Math.floor(o*s);e.canvas.width=u,e.canvas.height=l,e.drawingBufferWidth===u&&e.drawingBufferHeight===l||(r.warn("Device pixel ratio clamped")(),s=Math.min(e.drawingBufferWidth/i,e.drawingBufferHeight/o),e.canvas.width=Math.floor(i*s),e.canvas.height=Math.floor(o*s)),Object.assign(e.luma.canvasSizeInfo,{clientWidth:i,clientHeight:o,devicePixelRatio:t})}}},7981:function(e,t,n){"use strict";n.d(t,{H:function(){return r},Y:function(){return i}});var r="vs",i="fs"},8299:function(e,t,n){"use strict";n.d(t,{O_:function(){return u},Lm:function(){return h},ZP:function(){return d}});var r,i=n(4942),o=n(7981),a=n(8012),s=(r={},(0,i.Z)(r,o.H,"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n"),(0,i.Z)(r,o.Y,"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"),r),u="__LUMA_INJECT_DECLARATIONS__",l=/void\s+main\s*\([^)]*\)\s*\{\n?/,c=/}\n?[^{}]*$/,f=[];function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t===o.H,a=function(t){var r=n[t];r.sort((function(e,t){return e.order-t.order})),f.length=r.length;for(var o=0,a=r.length;o<a;++o)f[o]=r[o].injection;var s="".concat(f.join("\n"),"\n");switch(t){case"vs:#decl":i&&(e=e.replace(u,s));break;case"vs:#main-start":i&&(e=e.replace(l,(function(e){return e+s})));break;case"vs:#main-end":i&&(e=e.replace(c,(function(e){return s+e})));break;case"fs:#decl":i||(e=e.replace(u,s));break;case"fs:#main-start":i||(e=e.replace(l,(function(e){return e+s})));break;case"fs:#main-end":i||(e=e.replace(c,(function(e){return s+e})));break;default:e=e.replace(t,(function(e){return e+s}))}};for(var d in n)a(d);return e=e.replace(u,""),r&&(e=e.replace(/\}\s*$/,(function(e){return e+s[t]}))),e}function h(e){var t={};return(0,a.Z)(Array.isArray(e)&&e.length>1),e.forEach((function(e){for(var n in e)t[n]=t[n]?"".concat(t[n],"\n").concat(e[n]):e[n]})),t}},6092:function(e,t,n){"use strict";n.d(t,{Z:function(){return l},v:function(){return c}});var r=n(5671),i=n(3144),o=n(8012),a={number:{validate:function(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}},array:{validate:function(e,t){return Array.isArray(e)||ArrayBuffer.isView(e)}}};function s(e){var t=u(e);return"object"===t?e?"type"in e?Object.assign({},e,a[e.type]):"value"in e?(t=u(e.value),Object.assign({type:t},e,a[t])):{type:"object",value:e}:{type:"object",value:null}:Object.assign({type:t,value:e},a[t])}function u(e){return Array.isArray(e)||ArrayBuffer.isView(e)?"array":typeof e}var l=function(){function e(t){(0,r.Z)(this,e);var n=t.name,i=t.vs,a=t.fs,u=t.dependencies,l=void 0===u?[]:u,c=t.uniforms,f=t.getUniforms,d=t.deprecations,h=void 0===d?[]:d,p=t.defines,v=void 0===p?{}:p,g=t.inject,y=void 0===g?{}:g,m=t.vertexShader,b=t.fragmentShader;(0,o.Z)("string"===typeof n),this.name=n,this.vs=i||m,this.fs=a||b,this.getModuleUniforms=f,this.dependencies=l,this.deprecations=this._parseDeprecationDefinitions(h),this.defines=v,this.injections=function(e){var t={vs:{},fs:{}};for(var n in e){var r=e[n];"string"===typeof r&&(r={order:0,injection:r}),t[n.slice(0,2)][n]=r}return t}(y),c&&(this.uniforms=function(e){var t={};for(var n in e){var r=s(e[n]);t[n]=r}return t}(c))}return(0,i.Z)(e,[{key:"getModuleSource",value:function(e){var t;switch(e){case"vs":t=this.vs||"";break;case"fs":t=this.fs||"";break;default:(0,o.Z)(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(t,"// END MODULE_").concat(this.name,"\n\n")}},{key:"getUniforms",value:function(e,t){return this.getModuleUniforms?this.getModuleUniforms(e,t):this.uniforms?this._defaultGetUniforms(e):{}}},{key:"getDefines",value:function(){return this.defines}},{key:"checkDeprecations",value:function(e,t){this.deprecations.forEach((function(n){n.regex.test(e)&&(n.deprecated?t.deprecated(n.old,n.new)():t.removed(n.old,n.new)())}))}},{key:"_parseDeprecationDefinitions",value:function(e){return e.forEach((function(e){if("function"===e.type)e.regex=new RegExp("\\b".concat(e.old,"\\("));else e.regex=new RegExp("".concat(e.type," ").concat(e.old,";"))})),e}},{key:"_defaultGetUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},n=this.uniforms;for(var r in n){var i=n[r];r in e&&!i.private?(i.validate&&(0,o.Z)(i.validate(e[r],i),"".concat(this.name,": invalid ").concat(r)),t[r]=e[r]):t[r]=i.value}return t}}]),e}();function c(e){if(!e.normalized&&(e.normalized=!0,e.uniforms&&!e.getUniforms)){var t=new l(e);e.getUniforms=t.getUniforms.bind(t)}return e}},5570:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});var r={name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 1.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 1.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null}},9512:function(e,t,n){"use strict";n.d(t,{H:function(){return u}});var r=n(7762),i="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",o={lightSources:{}};function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=void 0===t?[0,0,0]:t,r=e.intensity,i=void 0===r?1:r;return n.map((function(e){return e*i/255}))}function s(e){var t=e.ambientLight,n=e.pointLights,r=void 0===n?[]:n,i=e.directionalLights,o=void 0===i?[]:i,s={};return s["lighting_uAmbientLight.color"]=t?a(t):[0,0,0],r.forEach((function(e,t){s["lighting_uPointLight[".concat(t,"].color")]=a(e),s["lighting_uPointLight[".concat(t,"].position")]=e.position,s["lighting_uPointLight[".concat(t,"].attenuation")]=e.attenuation||[1,0,0]})),s.lighting_uPointLightCount=r.length,o.forEach((function(e,t){s["lighting_uDirectionalLight[".concat(t,"].color")]=a(e),s["lighting_uDirectionalLight[".concat(t,"].direction")]=e.direction})),s.lighting_uDirectionalLightCount=o.length,s}var u={name:"lights",vs:i,fs:i,getUniforms:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;if("lightSources"in t){var n=t.lightSources||{},i=n.ambientLight,a=n.pointLights,u=n.directionalLights,l=i||a&&a.length>0||u&&u.length>0;return l?Object.assign({},s({ambientLight:i,pointLights:a,directionalLights:u}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in t){var c,f={pointLights:[],directionalLights:[]},d=(0,r.Z)(t.lights||[]);try{for(d.s();!(c=d.n()).done;){var h=c.value;switch(h.type){case"ambient":f.ambientLight=h;break;case"directional":f.directionalLights.push(h);break;case"point":f.pointLights.push(h)}}}catch(p){d.e(p)}finally{d.f()}return e({lightSources:f})}return{}},defines:{MAX_LIGHTS:3}}},9861:function(e,t,n){"use strict";n.d(t,{N:function(){return u},s:function(){return l}});var r=n(9512),i="\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",o={};function a(e){var t=e.ambient,n=void 0===t?.35:t,r=e.diffuse,i=void 0===r?.6:r,o=e.shininess,a=void 0===o?32:o,s=e.specularColor;return{lighting_uAmbient:n,lighting_uDiffuse:i,lighting_uShininess:a,lighting_uSpecularColor:(void 0===s?[30,30,30]:s).map((function(e){return e/255}))}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;if(!("material"in e))return{};var t=e.material;return t?a(t):{lighting_uEnabled:!1}}var u={name:"gouraud-lighting",dependencies:[r.H],vs:i,defines:{LIGHTING_VERTEX:1},getUniforms:s},l={name:"phong-lighting",dependencies:[r.H],fs:i,defines:{LIGHTING_FRAGMENT:1},getUniforms:s}},3036:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var r={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1};var i={name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t={};if(void 0!==e.pickingSelectedColor)if(e.pickingSelectedColor){var n=e.pickingSelectedColor.slice(0,3);t.picking_uSelectedColorValid=1,t.picking_uSelectedColor=n}else t.picking_uSelectedColorValid=0;if(e.pickingHighlightColor){var i=Array.from(e.pickingHighlightColor,(function(e){return e/255}));Number.isFinite(i[3])||(i[3]=1),t.picking_uHighlightColor=i}return void 0!==e.pickingActive&&(t.picking_uActive=Boolean(e.pickingActive),t.picking_uAttribute=Boolean(e.pickingAttribute)),t}}},8012:function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"shadertools: assertion failed.")}n.d(t,{Z:function(){return r}})},6347:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(9611),i=n(8814);function o(e,t,n){return o=(0,i.Z)()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&(0,r.Z)(o,n.prototype),o},o.apply(null,arguments)}var a=n(5671),s=n(3144),u=n(142),l=n(2033),c=n(5221),f={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},d={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}},h=function(){function e(){var t=this;(0,a.Z)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];r.forEach((function(e){return t._assign(e)})),Object.freeze(this)}return(0,s.Z)(e,[{key:"toString",value:function(){return JSON.stringify(this)}},{key:"BYTES_PER_ELEMENT",get:function(){return e.getBytesPerElement(this)}},{key:"BYTES_PER_VERTEX",get:function(){return e.getBytesPerVertex(this)}},{key:"_assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0!==(e=(0,c.k)("Accessor",e,d)).type&&(this.type=e.type,5124!==e.type&&5125!==e.type||(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&("boolean"===typeof e.index?this.index=e.index?1:0:this.index=e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),this}}],[{key:"getBytesPerElement",value:function(e){return(0,u.vN)(e.type||5126).BYTES_PER_ELEMENT}},{key:"getBytesPerVertex",value:function(e){return(0,l.h)(e.size),(0,u.vN)(e.type||5126).BYTES_PER_ELEMENT*e.size}},{key:"resolve",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o(e,[f].concat(n))}}]),e}()},1735:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(5671),i=n(3144),o=n(7326),a=n(136),s=n(7277),u=n(5210),l=n(6347),c=n(142),f=n(8767),d=n(2033),h=n(5221),p={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},v={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:p},g={removedProps:p},y=function(e,t){(0,a.Z)(u,e);var n=(0,s.Z)(u);function u(e){var t;(0,r.Z)(this,u);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=n.call(this,e,i)).stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),t.target=i.target||(t.gl.webgl2?36662:34962),t.initialize(i),Object.seal((0,o.Z)(t)),t}return(0,i.Z)(u,[{key:t,get:function(){return"Buffer"}},{key:"getElementCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/l.Z.getBytesPerElement(e))}},{key:"getVertexCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/l.Z.getBytesPerVertex(e))}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=(0,h.k)("Buffer",e,v),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data,e.offset,e.byteLength):this._setByteLength(e.byteLength||0),this}},{key:"setProps",value:function(e){return"accessor"in(e=(0,h.k)("Buffer",e,g))&&this.setAccessor(e.accessor),this}},{key:"setAccessor",value:function(e){return delete(e=Object.assign({},e)).buffer,this.accessor=new l.Z(e),this}},{key:"reallocate",value:function(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}},{key:"setData",value:function(e){return this.initialize(e)}},{key:"subData",value:function(e){ArrayBuffer.isView(e)&&(e={data:e});var t=e,n=t.data,r=t.offset,i=void 0===r?0:r,o=t.srcOffset,a=void 0===o?0:o,s=e.byteLength||e.length;(0,d.h)(n);var u=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(u,this.handle),0!==a||void 0!==s?((0,f.KQ)(this.gl),this.gl.bufferSubData(this.target,i,n,a,s)):this.gl.bufferSubData(u,i,n),this.gl.bindBuffer(u,null),this.debugData=null,this._inferType(n),this}},{key:"copyData",value:function(e){var t=e.sourceBuffer,n=e.readOffset,r=void 0===n?0:n,i=e.writeOffset,o=void 0===i?0:i,a=e.size,s=this.gl;return(0,f.KQ)(s),s.bindBuffer(36662,t.handle),s.bindBuffer(36663,this.handle),s.copyBufferSubData(36662,36663,r,o,a),s.bindBuffer(36662,null),s.bindBuffer(36663,null),this.debugData=null,this}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dstData,n=void 0===t?null:t,r=e.srcByteOffset,i=void 0===r?0:r,o=e.dstOffset,a=void 0===o?0:o,s=e.length,u=void 0===s?0:s;(0,f.KQ)(this.gl);var l,h,p=(0,c.vN)(this.accessor.type||5126,{clamped:!1}),v=this._getAvailableElementCount(i),g=a;n?l=(h=n.length)-g:h=g+(l=Math.min(v,u||v));var y=Math.min(v,l);return u=u||y,(0,d.h)(u<=y),n=n||new p(h),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,i,n,a,u),this.gl.bindBuffer(36662,null),n}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?this.target:t,r=e.index,i=void 0===r?this.accessor&&this.accessor.index:r,o=e.offset,a=void 0===o?0:o,s=e.size;return 35345===n||35982===n?void 0!==s?this.gl.bindBufferRange(n,i,this.handle,a,s):((0,d.h)(0===a),this.gl.bindBufferBase(n,i,this.handle)):this.gl.bindBuffer(n,this.handle),this}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?this.target:t,r=e.index,i=void 0===r?this.accessor&&this.accessor.index:r,o=35345===n||35982===n;return o?this.gl.bindBufferBase(n,i,null):this.gl.bindBuffer(n,null),this}},{key:"getDebugData",value:function(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}},{key:"invalidateDebugData",value:function(){this.debugData=null}},{key:"_setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength+t;(0,d.h)(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();var r=this._getTarget();this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,this.usage),this.gl.bufferSubData(r,t,e),this.gl.bindBuffer(r,null),this.debugData=e.slice(0,10),this.bytesUsed=n,this._trackAllocatedMemory(n);var i=(0,c.O)(e);return(0,d.h)(i),this.setAccessor(new l.Z(this.accessor,{type:i})),this}},{key:"_setByteLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;(0,d.h)(e>=0),this._trackDeallocatedMemory();var n=e;0===e&&(n=new Float32Array(0));var r=this._getTarget();return this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,t),this.gl.bindBuffer(r,null),this.usage=t,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}},{key:"_getTarget",value:function(){return this.gl.webgl2?36663:this.target}},{key:"_getAvailableElementCount",value:function(e){var t=e/(0,c.vN)(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-t}},{key:"_inferType",value:function(e){this.accessor.type||this.setAccessor(new l.Z(this.accessor,{type:(0,c.O)(e)}))}},{key:"_createHandle",value:function(){return this.gl.createBuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_getParameter",value:function(e){this.gl.bindBuffer(this.target,this.handle);var t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}},{key:"type",get:function(){return f.cM.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}},{key:"bytes",get:function(){return f.cM.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}},{key:"setByteLength",value:function(e){return f.cM.deprecated("setByteLength","reallocate")(),this.reallocate(e)}},{key:"updateAccessor",value:function(e){return f.cM.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new l.Z(this.accessor,e),this}}]),u}(u.Z,Symbol.toStringTag)},8653:function(e,t,n){"use strict";n.d(t,{$:function(){return d},Z:function(){return f}});var r=n(885),i=n(8767),o=n(2033),a=6144,s=6145,u=6146,l=34041,c="clear: bad arguments";function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.framebuffer,r=void 0===n?null:n,a=t.color,s=void 0===a?null:a,u=t.depth,l=void 0===u?null:u,f=t.stencil,d=void 0===f?null:f,h={};r&&(h.framebuffer=r);var p=0;s&&(p|=16384,!0!==s&&(h.clearColor=s)),l&&(p|=256,!0!==l&&(h.clearDepth=l)),d&&(p|=1024,!0!==l&&(h.clearStencil=l)),(0,o.h)(0!==p,c),(0,i.s8)(e,h,(function(){e.clear(p)}))}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.framebuffer,f=void 0===n?null:n,d=t.buffer,h=void 0===d?a:d,p=t.drawBuffer,v=void 0===p?0:p,g=t.value,y=void 0===g?[0,0,0,0]:g;(0,i.KQ)(e),(0,i.s8)(e,{framebuffer:f},(function(){switch(h){case a:switch(y.constructor){case Int32Array:e.clearBufferiv(h,v,y);break;case Uint32Array:e.clearBufferuiv(h,v,y);break;case Float32Array:default:e.clearBufferfv(h,v,y)}break;case s:e.clearBufferfv(s,0,[y]);break;case u:e.clearBufferiv(u,0,[y]);break;case l:var t=(0,r.Z)(y,2),n=t[0],i=t[1];e.clearBufferfi(l,0,n,i);break;default:(0,o.h)(!1,c)}}))}},9507:function(e,t,n){"use strict";n.d(t,{Km:function(){return h},Lv:function(){return p},z6:function(){return f},Jb:function(){return d}});var r=n(1735),i=n(6796),o=n(7457),a=n(8767),s=n(142),u=n(2033);function l(e){switch(e){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return(0,u.h)(!1),0}}var c=n(8542);function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sourceX,r=void 0===n?0:n,i=t.sourceY,o=void 0===i?0:i,a=t.sourceFormat,l=void 0===a?6408:a,c=t.sourceAttachment,f=void 0===c?36064:c,d=t.target,h=void 0===d?null:d,p=t.sourceWidth,y=t.sourceHeight,m=t.sourceType,b=v(e),_=b.framebuffer,w=b.deleteFramebuffer;(0,u.h)(_);var x=_.gl,k=_.handle,E=_.attachments;p=p||_.width,y=y||_.height,36064===f&&null===k&&(f=1028),(0,u.h)(E[f]),h=g(h,m=m||E[f].type,l,p,y),m=m||(0,s.O)(h);var S=x.bindFramebuffer(36160,k);return x.readPixels(r,o,p,y,l,m,h),x.bindFramebuffer(36160,S||null),w&&_.delete(),h}function d(e,t){var n=t.sourceX,i=void 0===n?0:n,o=t.sourceY,s=void 0===o?0:o,c=t.sourceFormat,f=void 0===c?6408:c,d=t.target,h=void 0===d?null:d,p=t.targetByteOffset,g=void 0===p?0:p,y=t.sourceWidth,m=t.sourceHeight,b=t.sourceType,_=v(e),w=_.framebuffer,x=_.deleteFramebuffer;(0,u.h)(w),y=y||w.width,m=m||w.height;var k=(0,a.KQ)(w.gl);if(b=b||(h?h.type:5121),!h){var E=l(f),S=function(e){switch(e){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return(0,u.h)(!1),0}}(b),T=g+y*m*E*S;h=new r.Z(k,{byteLength:T,accessor:{type:b,size:E}})}return h.bind({target:35051}),(0,a.s8)(k,{framebuffer:w},(function(){k.readPixels(i,s,y,m,f,b,g)})),h.unbind({target:35051}),x&&w.delete(),h}function h(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sourceAttachment,r=void 0===n?36064:n,i=t.targetMaxHeight,o=void 0===i?Number.MAX_SAFE_INTEGER:i,a=f(e,{sourceAttachment:r}),u=e.width,l=e.height;l>o;){var c=(0,s.KS)({data:a,width:u,height:l});a=c.data,u=c.width,l=c.height}(0,s.c$)({data:a,width:u,height:l});var d=document.createElement("canvas");d.width=u,d.height=l;var h=d.getContext("2d"),p=h.createImageData(u,l);return p.data.set(a),h.putImageData(p,0,0),d.toDataURL()}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.sourceX,i=void 0===r?0:r,s=n.sourceY,l=void 0===s?0:s,c=n.targetMipmaplevel,f=void 0===c?0:c,d=n.targetInternalFormat,h=void 0===d?6408:d,p=n.targetX,g=n.targetY,y=n.targetZ,m=n.width,b=n.height,_=v(e),w=_.framebuffer,x=_.deleteFramebuffer;(0,u.h)(w);var k=w.gl,E=w.handle,S="undefined"!==typeof p||"undefined"!==typeof g||"undefined"!==typeof y;p=p||0,g=g||0,y=y||0;var T=k.bindFramebuffer(36160,E);(0,u.h)(t);var P=null;if(t instanceof o.Z&&(P=t,m=Number.isFinite(m)?m:P.width,b=Number.isFinite(b)?b:P.height,P.bind(0),t=P.target),S)switch(t){case 3553:case 34067:k.copyTexSubImage2D(t,f,p,g,i,l,m,b);break;case 35866:case 32879:var A=(0,a.KQ)(k);A.copyTexSubImage3D(t,f,p,g,y,i,l,m,b)}else k.copyTexImage2D(t,f,h,i,l,m,b,0);return P&&P.unbind(),k.bindFramebuffer(36160,T||null),x&&w.delete(),P}function v(e){return e instanceof i.Z?{framebuffer:e,deleteFramebuffer:!1}:{framebuffer:(0,c.Y)(e),deleteFramebuffer:!0}}function g(e,t,n,r,i){return e||(t=t||5121,new((0,s.vN)(t,{clamped:!1}))(r*i*l(n)))}},6796:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(4942),i=n(885),o=n(7762),a=n(5671),s=n(3144),u=n(7326),l=n(1752),c=n(1120),f=n(136),d=n(7277),h=n(8767),p=n(5210),v=n(2366),g=n(1535),y=n(8653),m=n(9507),b=n(3670),_=n(2262),w=n(2033),x="Multiple render targets not supported",k=function(e,t){(0,f.Z)(p,e);var n=(0,d.Z)(p);function p(e){var t;(0,a.Z)(this,p);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=n.call(this,e,r)).width=null,t.height=null,t.attachments={},t.readBuffer=36064,t.drawBuffers=[36064],t.ownResources=[],t.initialize(r),Object.seal((0,u.Z)(t)),t}return(0,s.Z)(p,[{key:t,get:function(){return"Framebuffer"}},{key:"MAX_COLOR_ATTACHMENTS",get:function(){var e=(0,h.KQ)(this.gl);return e.getParameter(e.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function(){var e=(0,h.KQ)(this.gl);return e.getParameter(e.MAX_DRAW_BUFFERS)}},{key:"color",get:function(){return this.attachments[36064]||null}},{key:"texture",get:function(){return this.attachments[36064]||null}},{key:"depth",get:function(){return this.attachments[36096]||this.attachments[33306]||null}},{key:"stencil",get:function(){return this.attachments[36128]||this.attachments[33306]||null}},{key:"initialize",value:function(e){var t=e.width,n=void 0===t?1:t,r=e.height,i=void 0===r?1:r,o=e.attachments,a=void 0===o?null:o,s=e.color,u=void 0===s||s,l=e.depth,c=void 0===l||l,f=e.stencil,d=void 0!==f&&f,h=e.check,p=void 0===h||h,v=e.readBuffer,g=void 0===v?void 0:v,y=e.drawBuffers,m=void 0===y?void 0:y;if((0,w.h)(n>=0&&i>=0,"Width and height need to be integers"),this.width=n,this.height=i,a)for(var b in a){var _=a[b];(Array.isArray(_)?_[0]:_).resize({width:n,height:i})}else a=this._createDefaultAttachments(u,c,d,n,i);this.update({clearAttachments:!0,attachments:a,readBuffer:g,drawBuffers:m}),a&&p&&this.checkStatus()}},{key:"delete",value:function(){var e,t=(0,o.Z)(this.ownResources);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(n){t.e(n)}finally{t.f()}return(0,l.Z)((0,c.Z)(p.prototype),"delete",this).call(this),this}},{key:"update",value:function(e){var t=e.attachments,n=void 0===t?{}:t,r=e.readBuffer,i=e.drawBuffers,o=e.clearAttachments,a=void 0!==o&&o,s=e.resizeAttachments,u=void 0===s||s;this.attach(n,{clearAttachments:a,resizeAttachments:u});var l=this.gl,c=l.bindFramebuffer(36160,this.handle);return r&&this._setReadBuffer(r),i&&this._setDrawBuffers(i),l.bindFramebuffer(36160,c||null),this}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.height;if(null===this.handle)return(0,w.h)(void 0===t&&void 0===n),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;for(var r in void 0===t&&(t=this.gl.drawingBufferWidth),void 0===n&&(n=this.gl.drawingBufferHeight),t!==this.width&&n!==this.height&&h.cM.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(t,"x").concat(n))(),this.attachments)this.attachments[r].resize({width:t,height:n});return this.width=t,this.height=n,this}},{key:"attach",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clearAttachments,o=void 0!==r&&r,a=n.resizeAttachments,s=void 0===a||a,u={};o&&Object.keys(this.attachments).forEach((function(e){u[e]=null})),Object.assign(u,e);var l=this.gl.bindFramebuffer(36160,this.handle);for(var c in u){(0,w.h)(void 0!==c,"Misspelled framebuffer binding point?");var f=Number(c),d=u[f],h=d;if(h)if(h instanceof g.Z)this._attachRenderbuffer({attachment:f,renderbuffer:h});else if(Array.isArray(d)){var p=(0,i.Z)(d,3),v=p[0],y=p[1],m=void 0===y?0:y,b=p[2],_=void 0===b?0:b;h=v,this._attachTexture({attachment:f,texture:v,layer:m,level:_})}else this._attachTexture({attachment:f,texture:h,layer:0,level:0});else this._unattach(f);s&&h&&h.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,l||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter((function(e){return!t.attachments[e]})).forEach((function(e){delete t.attachments[e]}))}},{key:"checkStatus",value:function(){this.gl;var e=this.getStatus();if(36053!==e)throw new Error(E(e));return this}},{key:"getStatus",value:function(){var e=this.gl,t=e.bindFramebuffer(36160,this.handle),n=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,t||null),n}},{key:"clear",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color,r=t.depth,i=t.stencil,o=t.drawBuffers,a=void 0===o?[]:o,s=this.gl.bindFramebuffer(36160,this.handle);return(n||r||i)&&(0,y.Z)(this.gl,{color:n,depth:r,stencil:i}),a.forEach((function(t,n){(0,y.$)(e.gl,{drawBuffer:n,value:t})})),this.gl.bindFramebuffer(36160,s||null),this}},{key:"readPixels",value:function(){return h.cM.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}},{key:"readPixelsToBuffer",value:function(){return h.cM.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}},{key:"copyToDataUrl",value:function(){return h.cM.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}},{key:"copyToImage",value:function(){return h.cM.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}},{key:"copyToTexture",value:function(){return h.cM.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"blit",value:function(){return h.cM.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}},{key:"invalidate",value:function(e){var t=e.attachments,n=void 0===t?[]:t,r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o,s=e.width,u=e.height,l=(0,h.KQ)(this.gl),c=l.bindFramebuffer(36008,this.handle);return 0===i&&0===a&&void 0===s&&void 0===u?l.invalidateFramebuffer(36008,n):l.invalidateFramebuffer(36008,n,i,a,s,u),l.bindFramebuffer(36008,c),this}},{key:"getAttachmentParameter",value:function(e,t,n){var r=this._getAttachmentParameterFallback(t);return null===r&&(this.gl.bindFramebuffer(36160,this.handle),r=this.gl.getFramebufferAttachmentParameter(36160,e,t),this.gl.bindFramebuffer(36160,null)),n&&r>1e3&&(r=(0,_.km)(this.gl,r)),r}},{key:"getAttachmentParameters",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[],i={},a=(0,o.Z)(r);try{for(a.s();!(e=a.n()).done;){var s=e.value,u=n?(0,_.km)(this.gl,s):s;i[u]=this.getAttachmentParameter(t,s,n)}}catch(l){a.e(l)}finally{a.f()}return i}},{key:"getParameters",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object.keys(this.attachments),n={},r=0,i=t;r<i.length;r++){var o=i[r],a=Number(o),s=e?(0,_.km)(this.gl,a):a;n[s]=this.getAttachmentParameters(a,e)}return n}},{key:"show",value:function(){return"undefined"!==typeof window&&window.open((0,m.Km)(this),"luma-debug-texture"),this}},{key:"log",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>h.cM.level||"undefined"===typeof window)return this;t=t||"Framebuffer ".concat(this.id);var n=(0,m.Km)(this,{targetMaxHeight:100});return h.cM.image({logLevel:e,message:t,image:n},t)(),this}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?36160:t;return this.gl.bindFramebuffer(n,this.handle),this}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?36160:t;return this.gl.bindFramebuffer(n,null),this}},{key:"_createDefaultAttachments",value:function(e,t,n,i,o){var a,s=null;e&&((s=s||{})[36064]=new v.Z(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:i,height:o,mipmaps:!1,parameters:(a={},(0,r.Z)(a,10241,9729),(0,r.Z)(a,10240,9729),(0,r.Z)(a,10242,33071),(0,r.Z)(a,10243,33071),a)}),this.ownResources.push(s[36064]));return t&&n?((s=s||{})[33306]=new g.Z(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:i,height:111}),this.ownResources.push(s[33306])):t?((s=s||{})[36096]=new g.Z(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:i,height:o}),this.ownResources.push(s[36096])):n&&(0,w.h)(!1),s}},{key:"_unattach",value:function(e){var t=this.attachments[e];t&&(t instanceof g.Z?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}},{key:"_attachRenderbuffer",value:function(e){var t=e.attachment,n=void 0===t?36064:t,r=e.renderbuffer;this.gl.framebufferRenderbuffer(36160,n,36161,r.handle),this.attachments[n]=r}},{key:"_attachTexture",value:function(e){var t=e.attachment,n=void 0===t?36064:t,r=e.texture,i=e.layer,o=e.level,a=this.gl;switch(a.bindTexture(r.target,r.handle),r.target){case 35866:case 32879:(0,h.KQ)(a).framebufferTextureLayer(36160,n,r.target,o,i);break;case 34067:var s=function(e){return e<34069?e+34069:e}(i);a.framebufferTexture2D(36160,n,s,r.handle,o);break;case 3553:a.framebufferTexture2D(36160,n,3553,r.handle,o);break;default:(0,w.h)(!1,"Illegal texture type")}a.bindTexture(r.target,null),this.attachments[n]=r}},{key:"_setReadBuffer",value:function(e){var t=(0,h.vd)(this.gl);t?t.readBuffer(e):(0,w.h)(36064===e||1029===e,x),this.readBuffer=e}},{key:"_setDrawBuffers",value:function(e){var t=this.gl,n=(0,h.KQ)(t);if(n)n.drawBuffers(e);else{var r=t.getExtension("WEBGL_draw_buffers");r?r.drawBuffersWEBGL(e):(0,w.h)(1===e.length&&(36064===e[0]||1029===e[0]),x)}this.drawBuffers=e}},{key:"_getAttachmentParameterFallback",value:function(e){var t=(0,b.N$)(this.gl);switch(e){case 36052:return t.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return t.WEBGL2?null:8;case 33297:return t.WEBGL2?null:5125;case 33296:return t.WEBGL2||t.EXT_sRGB?null:9729;default:return null}}},{key:"_createHandle",value:function(){return this.gl.createFramebuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteFramebuffer(this.handle)}},{key:"_bindHandle",value:function(e){return this.gl.bindFramebuffer(36160,e)}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.colorBufferFloat,r=t.colorBufferHalfFloat,i=!0;return n&&(i=Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),r&&(i=i&&Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("EXT_color_buffer_half_float"))),i}},{key:"getDefaultFramebuffer",value:function(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new p(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}}]),p}(p.Z,Symbol.toStringTag);function E(e){return(k.STATUS||{})[e]||"Framebuffer error ".concat(e)}k.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303]},5068:function(e,t,n){"use strict";n.d(t,{Z:function(){return G}});var r,i=n(7762),o=n(5671),a=n(3144),s=n(7326),u=n(1752),l=n(1120),c=n(136),f=n(7277),d=n(5210),h=n(7457),p=n(6796),v=n(4942),g=n(8767),y=n(1535),m=n(2033),b=(r={},(0,v.Z)(r,5126,M.bind(null,"uniform1fv",S,1,I)),(0,v.Z)(r,35664,M.bind(null,"uniform2fv",S,2,I)),(0,v.Z)(r,35665,M.bind(null,"uniform3fv",S,3,I)),(0,v.Z)(r,35666,M.bind(null,"uniform4fv",S,4,I)),(0,v.Z)(r,5124,M.bind(null,"uniform1iv",T,1,I)),(0,v.Z)(r,35667,M.bind(null,"uniform2iv",T,2,I)),(0,v.Z)(r,35668,M.bind(null,"uniform3iv",T,3,I)),(0,v.Z)(r,35669,M.bind(null,"uniform4iv",T,4,I)),(0,v.Z)(r,35670,M.bind(null,"uniform1iv",T,1,I)),(0,v.Z)(r,35671,M.bind(null,"uniform2iv",T,2,I)),(0,v.Z)(r,35672,M.bind(null,"uniform3iv",T,3,I)),(0,v.Z)(r,35673,M.bind(null,"uniform4iv",T,4,I)),(0,v.Z)(r,35674,M.bind(null,"uniformMatrix2fv",S,4,N)),(0,v.Z)(r,35675,M.bind(null,"uniformMatrix3fv",S,9,N)),(0,v.Z)(r,35676,M.bind(null,"uniformMatrix4fv",S,16,N)),(0,v.Z)(r,35678,R),(0,v.Z)(r,35680,R),(0,v.Z)(r,5125,M.bind(null,"uniform1uiv",P,1,I)),(0,v.Z)(r,36294,M.bind(null,"uniform2uiv",P,2,I)),(0,v.Z)(r,36295,M.bind(null,"uniform3uiv",P,3,I)),(0,v.Z)(r,36296,M.bind(null,"uniform4uiv",P,4,I)),(0,v.Z)(r,35685,M.bind(null,"uniformMatrix2x3fv",S,6,N)),(0,v.Z)(r,35686,M.bind(null,"uniformMatrix2x4fv",S,8,N)),(0,v.Z)(r,35687,M.bind(null,"uniformMatrix3x2fv",S,6,N)),(0,v.Z)(r,35688,M.bind(null,"uniformMatrix3x4fv",S,12,N)),(0,v.Z)(r,35689,M.bind(null,"uniformMatrix4x2fv",S,8,N)),(0,v.Z)(r,35690,M.bind(null,"uniformMatrix4x3fv",S,12,N)),(0,v.Z)(r,35678,R),(0,v.Z)(r,35680,R),(0,v.Z)(r,35679,R),(0,v.Z)(r,35682,R),(0,v.Z)(r,36289,R),(0,v.Z)(r,36292,R),(0,v.Z)(r,36293,R),(0,v.Z)(r,36298,R),(0,v.Z)(r,36299,R),(0,v.Z)(r,36300,R),(0,v.Z)(r,36303,R),(0,v.Z)(r,36306,R),(0,v.Z)(r,36307,R),(0,v.Z)(r,36308,R),(0,v.Z)(r,36311,R),r),_={},w={},x={},k=[0];function E(e,t,n,r){1===t&&"boolean"===typeof e&&(e=e?1:0),Number.isFinite(e)&&(k[0]=e,e=k);var i=e.length;if(i%t&&g.cM.warn("Uniform size should be multiples of ".concat(t),e)(),e instanceof n)return e;var o=r[i];o||(o=new n(i),r[i]=o);for(var a=0;a<i;a++)o[a]=e[a];return o}function S(e,t){return E(e,t,Float32Array,_)}function T(e,t){return E(e,t,Int32Array,w)}function P(e,t){return E(e,t,Uint32Array,x)}function A(e,t,n){var r=b[n.type];if(!r)throw new Error("Unknown GLSL uniform type ".concat(n.type));return r().bind(null,e,t)}function C(e){if("]"!==e[e.length-1])return{name:e,length:1,isArray:!1};var t=e.match(/([^[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(e));return{name:t[1],length:t[2]||1,isArray:Boolean(t[2])}}function Z(e,t,n){for(var r in e){var i=e[r];if((!n||Boolean(n[r]))&&!O(i))throw t=t?"".concat(t," "):"",console.error("".concat(t," Bad uniform ").concat(r),i),new Error("".concat(t," Bad uniform ").concat(r))}return!0}function O(e){return Array.isArray(e)||ArrayBuffer.isView(e)?function(e){if(0===e.length)return!1;for(var t=Math.min(e.length,16),n=0;n<t;++n)if(!Number.isFinite(e[n]))return!1;return!0}(e):!!isFinite(e)||(!0===e||!1===e||(e instanceof h.Z||(e instanceof y.Z||e instanceof p.Z&&Boolean(e.texture))))}function L(e,t,n){if(Array.isArray(n)||ArrayBuffer.isView(n))if(e[t])for(var r=e[t],i=0,o=n.length;i<o;++i)r[i]=n[i];else e[t]=n.slice();else e[t]=n}function R(){var e=null;return function(t,n,r){var i=e!==r;return i&&(t.uniform1i(n,r),e=r),i}}function M(e,t,n,r){var i=null,o=null;return function(a,s,u){var l=t(u,n),c=l.length,f=!1;if(null===i)i=new Float32Array(c),o=c,f=!0;else{(0,m.h)(o===c,"Uniform length cannot change.");for(var d=0;d<c;++d)if(l[d]!==i[d]){f=!0;break}}return f&&(r(a,e,s,l),i.set(l)),f}}function I(e,t,n,r){e[t](n,r)}function N(e,t,n,r){e[t](n,!1,r)}var F=n(2448),j=n(6347),D=n(3221),z=function(){function e(t){(0,o.Z)(this,e),this.id=t.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(t),this._readVaryingsFromProgram(t)}return(0,a.Z)(e,[{key:"getAttributeInfo",value:function(e){var t=Number(e);return Number.isFinite(t)?this.attributeInfosByLocation[t]:this.attributeInfosByName[e]||null}},{key:"getAttributeLocation",value:function(e){var t=this.getAttributeInfo(e);return t?t.location:-1}},{key:"getAttributeAccessor",value:function(e){var t=this.getAttributeInfo(e);return t?t.accessor:null}},{key:"getVaryingInfo",value:function(e){var t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null}},{key:"getVaryingIndex",value:function(e){var t=this.getVaryingInfo();return t?t.location:-1}},{key:"getVaryingAccessor",value:function(e){var t=this.getVaryingInfo();return t?t.accessor:null}},{key:"_readAttributesFromProgram",value:function(e){for(var t=e.gl,n=t.getProgramParameter(e.handle,35721),r=0;r<n;r++){var i=t.getActiveAttrib(e.handle,r),o=i.name,a=i.type,s=i.size,u=t.getAttribLocation(e.handle,o);u>=0&&this._addAttribute(u,o,a,s)}this.attributeInfos.sort((function(e,t){return e.location-t.location}))}},{key:"_readVaryingsFromProgram",value:function(e){var t=e.gl;if((0,g.D0)(t)){for(var n=t.getProgramParameter(e.handle,35971),r=0;r<n;r++){var i=t.getTransformFeedbackVarying(e.handle,r),o=i.name,a=i.type,s=i.size;this._addVarying(r,o,a,s)}this.varyingInfos.sort((function(e,t){return e.location-t.location}))}}},{key:"_addAttribute",value:function(e,t,n,r){var i=(0,D.hJ)(n),o={type:i.type,size:r*i.components};this._inferProperties(e,t,o);var a={location:e,name:t,accessor:new j.Z(o)};this.attributeInfos.push(a),this.attributeInfosByLocation[e]=a,this.attributeInfosByName[a.name]=a}},{key:"_inferProperties",value:function(e,t,n){/instance/i.test(t)&&(n.divisor=1)}},{key:"_addVarying",value:function(e,t,n,r){var i=(0,D.hJ)(n),o=i.type,a=i.components,s={location:e,name:t,accessor:new j.Z({type:o,size:r*a})};this.varyingInfos.push(s),this.varyingInfosByName[s.name]=s}}]),e}(),B=n(2262),U=n(1813),V=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"],G=function(e,t){(0,c.Z)(r,e);var n=(0,f.Z)(r);function r(e){var t;(0,o.Z)(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=n.call(this,e,i)).stubRemovedMethods("Program","v6.0",V),t._isCached=!1,t.initialize(i),Object.seal((0,s.Z)(t)),t._setId(i.id),t}return(0,a.Z)(r,[{key:t,get:function(){return"Program"}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hash,n=e.vs,r=e.fs,i=e.varyings,o=e.bufferMode,a=void 0===o?35981:o;return this.hash=t||"",this.vs="string"===typeof n?new F.Qh(this.gl,{id:"".concat(e.id,"-vs"),source:n}):n,this.fs="string"===typeof r?new F.gs(this.gl,{id:"".concat(e.id,"-fs"),source:r}):r,(0,m.h)(this.vs instanceof F.Qh),(0,m.h)(this.fs instanceof F.gs),this.uniforms={},this._textureUniforms={},i&&i.length>0&&((0,g.KQ)(this.gl),this.varyings=i,this.gl2.transformFeedbackVaryings(this.handle,i,a)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new z(this),this.setProps(e)}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:(0,u.Z)((0,l.Z)(r.prototype),"delete",this).call(this,e)}},{key:"setProps",value:function(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}},{key:"draw",value:function(e){var t=this,n=e.logPriority,r=e.drawMode,i=void 0===r?4:r,o=e.vertexCount,a=e.offset,s=void 0===a?0:a,u=e.start,l=e.end,c=e.isIndexed,f=void 0!==c&&c,d=e.indexType,h=void 0===d?5123:d,p=e.instanceCount,v=void 0===p?0:p,y=e.isInstanced,b=void 0===y?v>0:y,_=e.vertexArray,w=void 0===_?null:_,x=e.transformFeedback,k=e.framebuffer,E=e.parameters,S=void 0===E?{}:E,T=e.uniforms,P=e.samplers;if((T||P)&&(g.cM.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(T||{})),g.cM.priority>=n){var A=k?k.id:"default",C="mode=".concat((0,B.km)(this.gl,i)," verts=").concat(o," ")+"instances=".concat(v," indexType=").concat((0,B.km)(this.gl,h)," ")+"isInstanced=".concat(b," isIndexed=").concat(f," ")+"Framebuffer=".concat(A);g.cM.log(n,C)()}return(0,m.h)(w),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===o||b&&0===v)&&(w.bindForDraw(o,v,(function(){if(void 0!==k&&(S=Object.assign({},S,{framebuffer:k})),x){var e=(0,D.$Z)(i);x.begin(e)}t._bindTextures(),(0,g.s8)(t.gl,S,(function(){f&&b?t.gl2.drawElementsInstanced(i,o,h,s,v):f&&(0,g.D0)(t.gl)&&!isNaN(u)&&!isNaN(l)?t.gl2.drawRangeElements(i,u,l,o,h,s):f?t.gl.drawElements(i,o,h,s):b?t.gl2.drawArraysInstanced(i,s,o,v):t.gl.drawArrays(i,s,o)})),x&&x.end()})),!0)}},{key:"setUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in g.cM.priority>=2&&Z(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle),e){var n=e[t],r=this._uniformSetters[t];if(r){var i=n,o=!1;if(i instanceof p.Z&&(i=i.texture),i instanceof h.Z)if(o=this.uniforms[t]!==n){void 0===r.textureIndex&&(r.textureIndex=this._textureIndexCounter++);var a=i,s=r.textureIndex;a.bind(s),i=s,this._textureUniforms[t]=a}else i=r.textureIndex;else this._textureUniforms[t]&&delete this._textureUniforms[t];(r(i)||o)&&L(this.uniforms,t,n)}}return this}},{key:"_areTexturesRenderable",value:function(){var e=!0;for(var t in this._textureUniforms){var n=this._textureUniforms[t];n.update(),e=e&&n.loaded}return e}},{key:"_bindTextures",value:function(){for(var e in this._textureUniforms){var t=this._uniformSetters[e].textureIndex;this._textureUniforms[e].bind(t)}}},{key:"_createHandle",value:function(){return this.gl.createProgram()}},{key:"_deleteHandle",value:function(){this.gl.deleteProgram(this.handle)}},{key:"_getOptionsFromHandle",value:function(e){var t,n=this.gl.getAttachedShaders(e),r={},o=(0,i.Z)(n);try{for(o.s();!(t=o.n()).done;){var a=t.value;switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:r.vs=new F.Qh({handle:a});break;case 35632:r.fs=new F.gs({handle:a})}}}catch(s){o.e(s)}finally{o.f()}return r}},{key:"_getParameter",value:function(e){return this.gl.getProgramParameter(this.handle,e)}},{key:"_setId",value:function(e){if(!e){var t=this._getName();this.id=(0,U.hQ)(t)}}},{key:"_getName",value:function(){var e=this.vs.getName()||this.fs.getName();return e=(e=e.replace(/shader/i,""))?"".concat(e,"-program"):"program"}},{key:"_compileAndLink",value:function(){var e=this.gl;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),g.cM.time(4,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),g.cM.timeEnd(4,"linkProgram for ".concat(this._getName()))(),e.debug||g.cM.level>0){if(!e.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)));if(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(e.getProgramInfoLog(this.handle)))}}},{key:"_readUniformLocationsFromLinkedProgram",value:function(){var e=this.gl;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(var t=0;t<this._uniformCount;t++){var n=this.gl.getActiveUniform(this.handle,t),r=C(n.name).name,i=e.getUniformLocation(this.handle,r);if(this._uniformSetters[r]=A(e,i,n),n.size>1)for(var o=0;o<n.size;o++)i=e.getUniformLocation(this.handle,"".concat(r,"[").concat(o,"]")),this._uniformSetters["".concat(r,"[").concat(o,"]")]=A(e,i,n)}this._textureIndexCounter=0}},{key:"getActiveUniforms",value:function(e,t){return this.gl2.getActiveUniforms(this.handle,e,t)}},{key:"getUniformBlockIndex",value:function(e){return this.gl2.getUniformBlockIndex(this.handle,e)}},{key:"getActiveUniformBlockParameter",value:function(e,t){return this.gl2.getActiveUniformBlockParameter(this.handle,e,t)}},{key:"uniformBlockBinding",value:function(e,t){this.gl2.uniformBlockBinding(this.handle,e,t)}}]),r}(d.Z,Symbol.toStringTag)},1535:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r,i=n(5671),o=n(3144),a=n(7326),s=n(136),u=n(7277),l=n(5210),c=n(4942),f="EXT_color_buffer_float",d=(r={},(0,c.Z)(r,33189,{bpp:2}),(0,c.Z)(r,33190,{gl2:!0,bpp:3}),(0,c.Z)(r,36012,{gl2:!0,bpp:4}),(0,c.Z)(r,36168,{bpp:1}),(0,c.Z)(r,34041,{bpp:4}),(0,c.Z)(r,35056,{gl2:!0,bpp:4}),(0,c.Z)(r,36013,{gl2:!0,bpp:5}),(0,c.Z)(r,32854,{bpp:2}),(0,c.Z)(r,36194,{bpp:2}),(0,c.Z)(r,32855,{bpp:2}),(0,c.Z)(r,33321,{gl2:!0,bpp:1}),(0,c.Z)(r,33330,{gl2:!0,bpp:1}),(0,c.Z)(r,33329,{gl2:!0,bpp:1}),(0,c.Z)(r,33332,{gl2:!0,bpp:2}),(0,c.Z)(r,33331,{gl2:!0,bpp:2}),(0,c.Z)(r,33334,{gl2:!0,bpp:4}),(0,c.Z)(r,33333,{gl2:!0,bpp:4}),(0,c.Z)(r,33323,{gl2:!0,bpp:2}),(0,c.Z)(r,33336,{gl2:!0,bpp:2}),(0,c.Z)(r,33335,{gl2:!0,bpp:2}),(0,c.Z)(r,33338,{gl2:!0,bpp:4}),(0,c.Z)(r,33337,{gl2:!0,bpp:4}),(0,c.Z)(r,33340,{gl2:!0,bpp:8}),(0,c.Z)(r,33339,{gl2:!0,bpp:8}),(0,c.Z)(r,32849,{gl2:!0,bpp:3}),(0,c.Z)(r,32856,{gl2:!0,bpp:4}),(0,c.Z)(r,32857,{gl2:!0,bpp:4}),(0,c.Z)(r,36220,{gl2:!0,bpp:4}),(0,c.Z)(r,36238,{gl2:!0,bpp:4}),(0,c.Z)(r,36975,{gl2:!0,bpp:4}),(0,c.Z)(r,36214,{gl2:!0,bpp:8}),(0,c.Z)(r,36232,{gl2:!0,bpp:8}),(0,c.Z)(r,36226,{gl2:!0,bpp:16}),(0,c.Z)(r,36208,{gl2:!0,bpp:16}),(0,c.Z)(r,33325,{gl2:f,bpp:2}),(0,c.Z)(r,33327,{gl2:f,bpp:4}),(0,c.Z)(r,34842,{gl2:f,bpp:8}),(0,c.Z)(r,33326,{gl2:f,bpp:4}),(0,c.Z)(r,33328,{gl2:f,bpp:8}),(0,c.Z)(r,34836,{gl2:f,bpp:16}),(0,c.Z)(r,35898,{gl2:f,bpp:4}),r),h=n(8767),p=n(2033);function v(e,t,n){var r=n[t];if(!r)return!1;var i=(0,h.D0)(e)&&r.gl2||r.gl1;return"string"===typeof i?e.getExtension(i):i}var g=function(e,t){(0,s.Z)(r,e);var n=(0,u.Z)(r);function r(e){var t;(0,i.Z)(this,r);var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=n.call(this,e,o)).initialize(o),Object.seal((0,a.Z)(t)),t}return(0,o.Z)(r,[{key:t,get:function(){return"Renderbuffer"}},{key:"initialize",value:function(e){var t=e.format,n=e.width,r=void 0===n?1:n,i=e.height,o=void 0===i?1:i,a=e.samples,s=void 0===a?0:a;return(0,p.h)(t,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==s&&(0,h.D0)(this.gl)?this.gl.renderbufferStorageMultisample(36161,s,t,r,o):this.gl.renderbufferStorage(36161,t,r,o),this.format=t,this.width=r,this.height=o,this.samples=s,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*d[this.format].bpp),this}},{key:"resize",value:function(e){var t=e.width,n=e.height;return t!==this.width||n!==this.height?this.initialize({width:t,height:n,format:this.format,samples:this.samples}):this}},{key:"_createHandle",value:function(){return this.gl.createRenderbuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_bindHandle",value:function(e){this.gl.bindRenderbuffer(36161,e)}},{key:"_syncHandle",value:function(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}},{key:"_getParameter",value:function(e){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,e)}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null},n=t.format;return!n||v(e,n,d)}},{key:"getSamplesForFormat",value:function(e,t){var n=t.format;return e.getInternalformatParameter(36161,n,32937)}}]),r}(l.Z,Symbol.toStringTag)},5210:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(7762),i=n(5671),o=n(3144),a=n(8767),s=n(8479),u=n(2262),l=n(2033),c=n(1813),f=n(8029),d="Resource subclass must define virtual methods",h=function(e){function t(e){(0,i.Z)(this,t);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.JD)(e);var r=n.id,o=n.userData,s=void 0===o?{}:o;this.gl=e,this.gl2=e,this.id=r||(0,c.hQ)(this[Symbol.toStringTag]),this.userData=s,this._bound=!1,this._handle=n.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._initStats(),this._addStats()}return(0,o.Z)(t,[{key:e,get:function(){return"Resource"}},{key:"toString",value:function(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}},{key:"handle",get:function(){return this._handle}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.deleteChildren,n=void 0!==t&&t,r=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,r&&n&&r.filter(Boolean).forEach((function(e){return e.delete()})),this}},{key:"bind",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!==typeof t?(this._bindHandle(t),this):(this._bound?e=t():(this._bindHandle(this.handle),this._bound=!0,e=t(),this._bound=!1,this._bindHandle(null)),e)}},{key:"unbind",value:function(){this.bind(null)}},{key:"getParameter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=(0,u.sF)(this.gl,e),(0,l.h)(e);var n=this.constructor.PARAMETERS||{},r=n[e];if(r){var i=(0,a.D0)(this.gl),o=(!("webgl2"in r)||i)&&(!("extension"in r)||this.gl.getExtension(r.extension));if(!o){var s=r.webgl1,c="webgl2"in r?r.webgl2:r.webgl1,f=i?c:s;return f}}return this._getParameter(e,t)}},{key:"getParameters",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.parameters,i=t.keys,o=this.constructor.PARAMETERS||{},s=(0,a.D0)(this.gl),l={},c=n||Object.keys(o),f=(0,r.Z)(c);try{for(f.s();!(e=f.n()).done;){var d=e.value,h=o[d],p=h&&(!("webgl2"in h)||s)&&(!("extension"in h)||this.gl.getExtension(h.extension));if(p){var v=i?(0,u.km)(this.gl,d):d;l[v]=this.getParameter(d,t),i&&"GLenum"===h.type&&(l[v]=(0,u.km)(this.gl,l[v]))}}}catch(g){f.e(g)}finally{f.f()}return l}},{key:"setParameter",value:function(e,t){e=(0,u.sF)(this.gl,e),(0,l.h)(e);var n=(this.constructor.PARAMETERS||{})[e];if(n){var r=(0,a.D0)(this.gl);if(!((!("webgl2"in n)||r)&&(!("extension"in n)||this.gl.getExtension(n.extension))))throw new Error("Parameter not available on this platform");"GLenum"===n.type&&(t=(0,u.sF)(t))}return this._setParameter(e,t),this}},{key:"setParameters",value:function(e){for(var t in e)this.setParameter(t,e[t]);return this}},{key:"stubRemovedMethods",value:function(e,t,n){return(0,f.F)(this,e,t,n)}},{key:"initialize",value:function(e){}},{key:"_createHandle",value:function(){throw new Error(d)}},{key:"_deleteHandle",value:function(){throw new Error(d)}},{key:"_bindHandle",value:function(e){throw new Error(d)}},{key:"_getOptsFromHandle",value:function(){throw new Error(d)}},{key:"_getParameter",value:function(e,t){throw new Error(d)}},{key:"_setParameter",value:function(e,t){throw new Error(d)}},{key:"_context",value:function(){return this.gl.luma=this.gl.luma||{},this.gl.luma}},{key:"_initStats",value:function(){this.gl.stats=this.gl.stats||new s.Zj}},{key:"_addStats",value:function(){var e=this[Symbol.toStringTag],t=s.lR.get("Resource Counts");t.get("Resources Created").incrementCount(),t.get("".concat(e,"s Created")).incrementCount(),t.get("".concat(e,"s Active")).incrementCount()}},{key:"_removeStats",value:function(){var e=this[Symbol.toStringTag];s.lR.get("Resource Counts").get("".concat(e,"s Active")).decrementCount()}},{key:"_trackAllocatedMemory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];this._doTrackAllocatedMemory(e,t),this._doTrackAllocatedMemory(e,t,this.gl.stats.get("Memory Usage"))}},{key:"_doTrackAllocatedMemory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.lR.get("Memory Usage");n.get("GPU Memory").addCount(e),n.get("".concat(t," Memory")).addCount(e),this.byteLength=e}},{key:"_trackDeallocatedMemory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];this._doTrackDeallocatedMemory(e),this._doTrackDeallocatedMemory(e,this.gl.stats.get("Memory Usage"))}},{key:"_doTrackDeallocatedMemory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.lR.get("Memory Usage");t.get("GPU Memory").subtractCount(this.byteLength),t.get("".concat(e," Memory")).subtractCount(this.byteLength),this.byteLength=0}}]),t}(Symbol.toStringTag)},2448:function(e,t,n){"use strict";n.d(t,{gs:function(){return y},Qh:function(){return g}});var r=n(5671),i=n(3144),o=n(136),a=n(7277),s=n(8767);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed",n=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/,r=e.match(n);return r?r[1]:t}function l(e,t,n,r){for(var i=e.split(/\r?\n/),o={},a={},s=r||u(t)||"(unnamed)",l="".concat(function(e){switch(e){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}(n)," shader ").concat(s),d=0;d<i.length;d++){var h=i[d];if(!(h.length<=1)){var p=h.split(":"),v=p[0],g=parseInt(p[2],10);if(isNaN(g))throw new Error("GLSL compilation error in ".concat(l,": ").concat(e));"WARNING"!==v?o[g]=h:a[g]=h}}var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ",r=e.split(/\r?\n/),i=String(r.length+t-1).length;return r.map((function(e,r){var o=String(r+t),a=o.length;return f(o,i-a)+n+e}))}(t);return{shaderName:l,errors:c(o,y),warnings:c(a,y)}}function c(e,t){for(var n="",r=0;r<t.length;r++){var i=t[r];if((e[r+3]||e[r+2]||e[r+1])&&(n+="".concat(i,"\n"),e[r+1])){var o=e[r+1],a=o.split(":",3),s=a[0],u=parseInt(a[1],10)||0,l=o.substring(a.join(":").length+1).trim();n+=f("^^^ ".concat(s,": ").concat(l,"\n\n"),u)}}return n}function f(e,t){for(var n="",r=0;r<t;++r)n+=" ";return"".concat(n).concat(e)}var d=n(2033),h=n(1813),p=n(5210),v=function(e,t){(0,o.Z)(c,e);var n=(0,a.Z)(c);function c(e,t){var i;(0,r.Z)(this,c),(0,s.JD)(e),(0,d.h)("string"===typeof t.source,"Shader: GLSL source code must be a JavaScript string");var o=u(t.source,null)||t.id||(0,h.hQ)("unnamed ".concat(c.getTypeName(t.shaderType)));return(i=n.call(this,e,{id:o})).shaderType=t.shaderType,i.source=t.source,i.initialize(t),i}return(0,i.Z)(c,[{key:t,get:function(){return"Shader"}},{key:"initialize",value:function(e){var t=e.source,n=u(t,null);n&&(this.id=(0,h.hQ)(n)),this._compile(t)}},{key:"getParameter",value:function(e){return this.gl.getShaderParameter(this.handle,e)}},{key:"toString",value:function(){return"".concat(c.getTypeName(this.shaderType),":").concat(this.id)}},{key:"getName",value:function(){return u(this.source)||"unnamed-shader"}},{key:"getSource",value:function(){return this.gl.getShaderSource(this.handle)}},{key:"getTranslatedSource",value:function(){var e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}},{key:"_compile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;e.startsWith("#version ")||(e="#version 100\n".concat(e)),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle);var t=this.getParameter(35713);if(!t){var n=this.gl.getShaderInfoLog(this.handle),r=l(n,this.source,this.shaderType,this.id),i=r.shaderName,o=r.errors,a=r.warnings;throw s.cM.error("GLSL compilation errors in ".concat(i,"\n").concat(o))(),s.cM.warn("GLSL compilation warnings in ".concat(i,"\n").concat(a))(),new Error("GLSL compilation errors in ".concat(i))}}},{key:"_deleteHandle",value:function(){this.gl.deleteShader(this.handle)}},{key:"_getOptsFromHandle",value:function(){return{type:this.getParameter(35663),source:this.getSource()}}}],[{key:"getTypeName",value:function(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return(0,d.h)(!1),"unknown"}}}]),c}(p.Z,Symbol.toStringTag),g=function(e,t){(0,o.Z)(s,e);var n=(0,a.Z)(s);function s(e,t){return(0,r.Z)(this,s),"string"===typeof t&&(t={source:t}),n.call(this,e,Object.assign({},t,{shaderType:35633}))}return(0,i.Z)(s,[{key:t,get:function(){return"VertexShader"}},{key:"_createHandle",value:function(){return this.gl.createShader(35633)}}]),s}(v,Symbol.toStringTag),y=function(e,t){(0,o.Z)(s,e);var n=(0,a.Z)(s);function s(e,t){return(0,r.Z)(this,s),"string"===typeof t&&(t={source:t}),n.call(this,e,Object.assign({},t,{shaderType:35632}))}return(0,i.Z)(s,[{key:t,get:function(){return"FragmentShader"}},{key:"_createHandle",value:function(){return this.gl.createShader(35632)}}]),s}(v,Symbol.toStringTag)},2366:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(5671),i=n(3144),o=n(7326),a=n(136),s=n(7277),u=n(8767),l=n(7457),c=n(2033),f="";function d(e,t){return(0,c.h)("string"===typeof e),e=f+e,new Promise((function(n,r){try{var i=new Image;i.onload=function(){return n(i)},i.onerror=function(){return r(new Error("Could not load image ".concat(e,".")))},i.crossOrigin=t&&t.crossOrigin||"anonymous",i.src=e}catch(o){r(o)}}))}var h=function(e,t){(0,a.Z)(c,e);var n=(0,s.Z)(c);function c(e){var t;(0,r.Z)(this,c);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.JD)(e),(i instanceof Promise||"string"===typeof i)&&(i={data:i}),"string"===typeof i.data&&(i=Object.assign({},i,{data:d(i.data)})),(t=n.call(this,e,Object.assign({},i,{target:3553}))).initialize(i),Object.seal((0,o.Z)(t)),t}return(0,i.Z)(c,[{key:t,get:function(){return"Texture2D"}}],[{key:"isSupported",value:function(e,t){return l.Z.isSupported(e,t)}}]),c}(l.Z,Symbol.toStringTag)},8137:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(5671),i=n(3144),o=n(7326),a=n(136),s=n(7277),u=n(8767),l=n(7457),c=n(6027),f=n(1735),d=function(e,t){(0,a.Z)(l,e);var n=(0,s.Z)(l);function l(e){var t;(0,r.Z)(this,l);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.KQ)(e),i=Object.assign({depth:1},i,{target:32879,unpackFlipY:!1}),(t=n.call(this,e,i)).initialize(i),Object.seal((0,o.Z)(t)),t}return(0,i.Z)(l,[{key:t,get:function(){return"Texture3D"}},{key:"setImageData",value:function(e){var t=this,n=e.level,r=void 0===n?0:n,i=e.dataFormat,o=void 0===i?6408:i,a=e.width,s=e.height,l=e.depth,d=void 0===l?1:l,h=e.border,p=void 0===h?0:h,v=e.format,g=e.type,y=void 0===g?5121:g,m=e.offset,b=void 0===m?0:m,_=e.data,w=e.parameters,x=void 0===w?{}:w;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),(0,u.s8)(this.gl,x,(function(){ArrayBuffer.isView(_)&&t.gl.texImage3D(t.target,r,o,a,s,d,p,v,y,_),_ instanceof f.Z&&(t.gl.bindBuffer(35052,_.handle),t.gl.texImage3D(t.target,r,o,a,s,d,p,v,y,b))})),_&&_.byteLength)this._trackAllocatedMemory(_.byteLength,"Texture");else{var k=c.C[this.dataFormat]||4,E=c.pH[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*k*E,"Texture")}return this.loaded=!0,this}}],[{key:"isSupported",value:function(e){return(0,u.D0)(e)}}]),l}(l.Z,Symbol.toStringTag)},5872:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(4165),i=n(5861),o=n(5671),a=n(3144),s=n(7326),u=n(136),l=n(7277),c=n(8767),f=n(7457),d=[34069,34070,34071,34072,34073,34074],h=function(e,t){(0,u.Z)(f,e);var n=(0,l.Z)(f);function f(e){var t;(0,o.Z)(this,f);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.JD)(e),(t=n.call(this,e,Object.assign({},r,{target:34067}))).initialize(r),Object.seal((0,s.Z)(t)),t}return(0,a.Z)(f,[{key:t,get:function(){return"TextureCube"}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.mipmaps,r=void 0===n||n,i=t.parameters,o=void 0===i?{}:i;return this.opts=t,this.setCubeMapImageData(t).then((function(){e.loaded=!0,r&&e.generateMipmap(t),e.setParameters(o)})),this}},{key:"subImage",value:function(e){var t=e.face,n=e.data,r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o,s=e.mipmapLevel,u=void 0===s?0:s;return this._subImage({target:t,data:n,x:i,y:a,mipmapLevel:u})}},{key:"setCubeMapImageData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,o,a,s,u,l,f,h,p,v,g,y,m=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.width,i=t.height,o=t.pixels,a=t.data,s=t.border,u=void 0===s?0:s,l=t.format,f=void 0===l?6408:l,h=t.type,p=void 0===h?5121:h,v=this.gl,g=o||a,e.next=5,Promise.all(d.map((function(e){var t=g[e];return Promise.all(Array.isArray(t)?t:[t])})));case 5:y=e.sent,this.bind(),d.forEach((function(e,t){y[t].length>1&&!1!==m.opts.mipmaps&&c.cM.warn("".concat(m.id," has mipmap and multiple LODs."))(),y[t].forEach((function(t,r){n&&i?v.texImage2D(e,r,f,n,i,u,f,p,t):v.texImage2D(e,r,f,f,p,t)}))})),this.unbind();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setImageDataForFace",value:function(e){var t=this,n=e.face,r=e.width,i=e.height,o=e.pixels,a=e.data,s=e.border,u=void 0===s?0:s,l=e.format,c=void 0===l?6408:l,f=e.type,d=void 0===f?5121:f,h=this.gl,p=o||a;return this.bind(),p instanceof Promise?p.then((function(r){return t.setImageDataForFace(Object.assign({},e,{face:n,data:r,pixels:r}))})):this.width||this.height?h.texImage2D(n,0,c,r,i,u,c,d,p):h.texImage2D(n,0,c,c,d,p),this}}]),f}(f.Z,Symbol.toStringTag);h.FACES=d},6027:function(e,t,n){"use strict";n.d(t,{C:function(){return l},KR:function(){return d},ae:function(){return u},br:function(){return f},pH:function(){return c}});var r,i,o,a=n(4942),s=n(8767),u=(r={},(0,a.Z)(r,6407,{dataFormat:6407,types:[5121,33635]}),(0,a.Z)(r,6408,{dataFormat:6408,types:[5121,32819,32820]}),(0,a.Z)(r,6406,{dataFormat:6406,types:[5121]}),(0,a.Z)(r,6409,{dataFormat:6409,types:[5121]}),(0,a.Z)(r,6410,{dataFormat:6410,types:[5121]}),(0,a.Z)(r,33326,{dataFormat:6403,types:[5126],gl2:!0}),(0,a.Z)(r,33328,{dataFormat:33319,types:[5126],gl2:!0}),(0,a.Z)(r,34837,{dataFormat:6407,types:[5126],gl2:!0}),(0,a.Z)(r,34836,{dataFormat:6408,types:[5126],gl2:!0}),r),l=(i={},(0,a.Z)(i,6403,1),(0,a.Z)(i,36244,1),(0,a.Z)(i,33319,2),(0,a.Z)(i,33320,2),(0,a.Z)(i,6407,3),(0,a.Z)(i,36248,3),(0,a.Z)(i,6408,4),(0,a.Z)(i,36249,4),(0,a.Z)(i,6402,1),(0,a.Z)(i,34041,1),(0,a.Z)(i,6406,1),(0,a.Z)(i,6409,1),(0,a.Z)(i,6410,2),i),c=(o={},(0,a.Z)(o,5126,4),(0,a.Z)(o,5125,4),(0,a.Z)(o,5124,4),(0,a.Z)(o,5123,2),(0,a.Z)(o,5122,2),(0,a.Z)(o,5131,2),(0,a.Z)(o,5120,1),(0,a.Z)(o,5121,1),o);function f(e,t){var n=u[t];if(!n)return!1;if(void 0===n.gl1&&void 0===n.gl2)return!0;var r=(0,s.D0)(e)&&n.gl2||n.gl1;return"string"===typeof r?e.getExtension(r):r}function d(e,t){var n=u[t];switch(n&&n.types[0]){case 5126:return e.getExtension("OES_texture_float_linear");case 5131:return e.getExtension("OES_texture_half_float_linear");default:return!0}}},7457:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(885),i=n(7762),o=n(5671),a=n(3144),s=n(136),u=n(7277),l=n(8767),c=n(5210),f=n(1735),d=n(6027),h=n(2033),p=n(1813),v=[9729,9728],g=globalThis.WebGLBuffer||function(){},y=function(e,t){(0,s.Z)(c,e);var n=(0,u.Z)(c);function c(e,t){var r;(0,o.Z)(this,c);var i=t.id,a=void 0===i?(0,p.hQ)("texture"):i,s=t.handle,u=t.target;return(r=n.call(this,e,{id:a,handle:s})).target=u,r.textureUnit=void 0,r.loaded=!1,r.width=void 0,r.height=void 0,r.depth=void 0,r.format=void 0,r.type=void 0,r.dataFormat=void 0,r.border=void 0,r.textureUnit=void 0,r.mipmaps=void 0,r}return(0,a.Z)(c,[{key:t,get:function(){return"Texture"}},{key:"toString",value:function(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.data;if(n instanceof Promise)return n.then((function(n){return e.initialize(Object.assign({},t,{pixels:n,data:n}))})),this;var r="undefined"!==typeof HTMLVideoElement&&n instanceof HTMLVideoElement;if(r&&n.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,n.addEventListener("loadeddata",(function(){return e.initialize(t)})),this;var i=t.pixels,o=void 0===i?null:i,a=t.format,s=void 0===a?6408:a,u=t.border,c=void 0===u?0:u,f=t.recreate,d=void 0!==f&&f,h=t.parameters,p=void 0===h?{}:h,v=t.pixelStore,g=void 0===v?{}:v,y=t.textureUnit,m=void 0===y?void 0:y;n||(n=o);var b=t.width,_=t.height,w=t.dataFormat,x=t.type,k=t.compressed,E=void 0!==k&&k,S=t.mipmaps,T=void 0===S||S,P=t.depth,A=void 0===P?0:P,C=this._deduceParameters({format:s,type:x,dataFormat:w,compressed:E,data:n,width:b,height:_});return b=C.width,_=C.height,E=C.compressed,w=C.dataFormat,x=C.type,this.width=b,this.height=_,this.depth=A,this.format=s,this.type=x,this.dataFormat=w,this.border=c,this.textureUnit=m,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),T&&this._isNPOT()&&(l.cM.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),T=!1,this._updateForNPOT(p)),this.mipmaps=T,this.setImageData({data:n,width:b,height:_,depth:A,format:s,type:x,dataFormat:w,border:c,mipmaps:T,parameters:g,compressed:E}),T&&this.generateMipmap(),this.setParameters(p),d&&(this.data=n),r&&(this._video={video:n,parameters:p,lastTime:n.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?n.currentTime:-1}),this}},{key:"update",value:function(){if(this._video){var e=this._video,t=e.video,n=e.parameters;if(e.lastTime===t.currentTime||t.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:t,parameters:n}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=t.currentTime}}},{key:"resize",value:function(e){var t=e.height,n=e.width,r=e.mipmaps,i=void 0!==r&&r;return n!==this.width||t!==this.height?this.initialize({width:n,height:t,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:i}):this}},{key:"generateMipmap",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(l.cM.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),(0,l.s8)(this.gl,t,(function(){e.gl.generateMipmap(e.target)})),this.gl.bindTexture(this.target,null),this)}},{key:"setImageData",value:function(e){this._trackDeallocatedMemory("Texture");var t=e.target,n=void 0===t?this.target:t,o=e.pixels,a=void 0===o?null:o,s=e.level,u=void 0===s?0:s,c=e.format,f=void 0===c?this.format:c,p=e.border,v=void 0===p?this.border:p,g=e.offset,y=void 0===g?0:g,m=e.parameters,b=void 0===m?{}:m,_=e.data,w=void 0===_?null:_,x=e.type,k=void 0===x?this.type:x,E=e.width,S=void 0===E?this.width:E,T=e.height,P=void 0===T?this.height:T,A=e.dataFormat,C=void 0===A?this.dataFormat:A,Z=e.compressed,O=void 0!==Z&&Z;w||(w=a);var L=this._deduceParameters({format:f,type:k,dataFormat:C,compressed:O,data:w,width:S,height:P});k=L.type,C=L.dataFormat,O=L.compressed,S=L.width,P=L.height;var R=this.gl;R.bindTexture(this.target,this.handle);var M,I,N=this._getDataType({data:w,compressed:O});w=N.data,M=N.dataType;var F=0;if((0,l.s8)(this.gl,b,(function(){switch(M){case"null":R.texImage2D(n,u,f,S,P,v,C,k,w);break;case"typed-array":R.texImage2D(n,u,f,S,P,v,C,k,w,y);break;case"buffer":(I=(0,l.KQ)(R)).bindBuffer(35052,w.handle||w),I.texImage2D(n,u,f,S,P,v,C,k,y),I.bindBuffer(35052,null);break;case"browser-object":(0,l.D0)(R)?R.texImage2D(n,u,f,S,P,v,C,k,w):R.texImage2D(n,u,f,C,k,w);break;case"compressed":var e,t=(0,i.Z)(w.entries());try{for(t.s();!(e=t.n()).done;){var o=(0,r.Z)(e.value,2),a=o[0],s=o[1];R.compressedTexImage2D(n,a,s.format,s.width,s.height,v,s.data),F+=s.levelSize}}catch(c){t.e(c)}finally{t.f()}break;default:(0,h.h)(!1,"Unknown image data type")}})),"compressed"===M)this._trackAllocatedMemory(F,"Texture");else if(w&&w.byteLength)this._trackAllocatedMemory(w.byteLength,"Texture");else{var j=d.C[this.dataFormat]||4,D=d.pH[this.type]||1;this._trackAllocatedMemory(this.width*this.height*j*D,"Texture")}return this.loaded=!0,this}},{key:"setSubImageData",value:function(e){var t=this,n=e.target,r=void 0===n?this.target:n,i=e.pixels,o=void 0===i?null:i,a=e.data,s=void 0===a?null:a,u=e.x,c=void 0===u?0:u,d=e.y,p=void 0===d?0:d,v=e.width,y=void 0===v?this.width:v,m=e.height,b=void 0===m?this.height:m,_=e.level,w=void 0===_?0:_,x=e.format,k=void 0===x?this.format:x,E=e.type,S=void 0===E?this.type:E,T=e.dataFormat,P=void 0===T?this.dataFormat:T,A=e.compressed,C=void 0!==A&&A,Z=e.offset,O=void 0===Z?0:Z,L=e.border,R=(void 0===L&&this.border,e.parameters),M=void 0===R?{}:R,I=this._deduceParameters({format:k,type:S,dataFormat:P,compressed:C,data:s,width:y,height:b});if(S=I.type,P=I.dataFormat,C=I.compressed,y=I.width,b=I.height,(0,h.h)(0===this.depth,"texSubImage not supported for 3D textures"),s||(s=o),s&&s.data){var N=s;s=N.data,y=N.shape[0],b=N.shape[1]}s instanceof f.Z&&(s=s.handle),this.gl.bindTexture(this.target,this.handle),(0,l.s8)(this.gl,M,(function(){if(C)t.gl.compressedTexSubImage2D(r,w,c,p,y,b,k,s);else if(null===s)t.gl.texSubImage2D(r,w,c,p,y,b,P,S,null);else if(ArrayBuffer.isView(s))t.gl.texSubImage2D(r,w,c,p,y,b,P,S,s,O);else if(s instanceof g){var e=(0,l.KQ)(t.gl);e.bindBuffer(35052,s),e.texSubImage2D(r,w,c,p,y,b,P,S,O),e.bindBuffer(35052,null)}else if((0,l.D0)(t.gl)){(0,l.KQ)(t.gl).texSubImage2D(r,w,c,p,y,b,P,S,s)}else t.gl.texSubImage2D(r,w,c,p,P,S,s)})),this.gl.bindTexture(this.target,null)}},{key:"copyFramebuffer",value:function(){return l.cM.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"getActiveUnit",value:function(){return this.gl.getParameter(34016)-33984}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,t=this.gl;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,this.handle),e}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,t=this.gl;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,null),e}},{key:"_getDataType",value:function(e){var t=e.data,n=e.compressed;return void 0!==n&&n?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof f.Z?{data:t.handle,dataType:"buffer"}:t instanceof g?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}},{key:"_deduceParameters",value:function(e){var t=e.format,n=e.data,r=e.width,i=e.height,o=e.dataFormat,a=e.type,s=e.compressed,u=d.ae[t];o=o||u&&u.dataFormat,a=a||u&&u.types[0],s=s||u&&u.compressed;var l=this._deduceImageSize(n,r,i);return{dataFormat:o,type:a,compressed:s,width:r=l.width,height:i=l.height,format:t,data:n}}},{key:"_deduceImageSize",value:function(e,t,n){var r;return r="undefined"!==typeof ImageData&&e instanceof ImageData?{width:e.width,height:e.height}:"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?{width:e.width,height:e.height}:"undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:n}:{width:t>=0?t:1,height:n>=0?n:1},(0,h.h)(r,"Could not deduced texture size"),(0,h.h)(void 0===t||r.width===t,"Deduced texture width does not match supplied width"),(0,h.h)(void 0===n||r.height===n,"Deduced texture height does not match supplied height"),r}},{key:"_createHandle",value:function(){return this.gl.createTexture()}},{key:"_deleteHandle",value:function(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}},{key:"_getParameter",value:function(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);var t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}},{key:"_setParameter",value:function(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,t);break;case 4096:case 4097:(0,h.h)(!1);break;default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this}},{key:"_isNPOT",value:function(){return!(0,l.D0)(this.gl)&&(!(!this.width||!this.height)&&(!(0,p.wt)(this.width)||!(0,p.wt)(this.height)))}},{key:"_updateForNPOT",value:function(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}},{key:"_getNPOTParam",value:function(e,t){if(this._isNPOT())switch(e){case 10241:-1===v.indexOf(t)&&(t=9729);break;case 10242:case 10243:33071!==t&&(t=33071)}return t}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.format,r=t.linearFiltering,i=!0;return n&&(i=(i=i&&(0,d.br)(e,n))&&(!r||(0,d.KR)(e,n))),i}}]),c}(c.Z,Symbol.toStringTag)},6177:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(5671),i=n(3144),o=n(7326),a=n(136),s=n(7277),u=n(8767),l=n(5210),c=n(1735),f=n(1813),d=function(e,t){(0,a.Z)(l,e);var n=(0,s.Z)(l);function l(e){var t;(0,r.Z)(this,l);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.KQ)(e),(t=n.call(this,e,i)).initialize(i),t.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal((0,o.Z)(t)),t}return(0,i.Z)(l,[{key:t,get:function(){return"TransformFeedback"}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,(0,f.nK)(this.buffers)||this.bind((function(){return e._unbindBuffers()})),this.setProps(t),this}},{key:"setProps",value:function(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}},{key:"setBuffers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind((function(){for(var n in t)e.setBuffer(n,t[n])})),this}},{key:"setBuffer",value:function(e,t){var n=this._getVaryingIndex(e),r=this._getBufferParams(t),i=r.buffer,o=r.byteSize,a=r.byteOffset;return n<0?(this.unused[e]=i,u.cM.warn("".concat(this.id," unused varying buffer ").concat(e))(),this):(this.buffers[n]=t,this.bindOnUse||this._bindBuffer(n,i,a,o),this)}},{key:"begin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}},{key:"end",value:function(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}},{key:"_getBufferParams",value:function(e){var t,n,r;return e instanceof c.Z===!1?(r=e.buffer,n=e.byteSize,t=e.byteOffset):r=e,void 0===t&&void 0===n||(t=t||0,n=n||r.byteLength-t),{buffer:r,byteOffset:t,byteSize:n}}},{key:"_getVaryingInfo",value:function(e){return this.configuration&&this.configuration.getVaryingInfo(e)}},{key:"_getVaryingIndex",value:function(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;var t=Number(e);return Number.isFinite(t)?t:-1}},{key:"_bindBuffers",value:function(){if(this.bindOnUse)for(var e in this.buffers){var t=this._getBufferParams(this.buffers[e]),n=t.buffer,r=t.byteSize,i=t.byteOffset;this._bindBuffer(e,n,i,r)}}},{key:"_unbindBuffers",value:function(){if(this.bindOnUse)for(var e in this.buffers)this._bindBuffer(e,null)}},{key:"_bindBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=t&&t.handle;return i&&void 0!==r?this.gl.bindBufferRange(35982,e,i,n,r):this.gl.bindBufferBase(35982,e,i),this}},{key:"_createHandle",value:function(){return this.gl.createTransformFeedback()}},{key:"_deleteHandle",value:function(){this.gl.deleteTransformFeedback(this.handle)}},{key:"_bindHandle",value:function(e){this.gl.bindTransformFeedback(36386,this.handle)}}],[{key:"isSupported",value:function(e){return(0,u.D0)(e)}}]),l}(l.Z,Symbol.toStringTag)},3670:function(e,t,n){"use strict";n.d(t,{N$:function(){return l},U6:function(){return s},ag:function(){return u}});var r=n(7762),i=n(109),o=n(8767),a=n(2033);function s(e,t){return u(e,t)}function u(e,t){return(t=Array.isArray(t)?t:[t]).every((function(t){return c(e,t)}))}function l(e){for(var t in e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},i.Z)void 0===e.luma.caps[t]&&(e.luma.caps[t]=c(e,t));return e.luma.caps}function c(e,t){return e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},void 0===e.luma.caps[t]&&(e.luma.caps[t]=function(e,t){var n,s=i.Z[t];(0,a.h)(s,t);var u=(0,o.D0)(e)&&s[1]||s[0];if("function"===typeof u)n=u(e);else if(Array.isArray(u)){n=!0;var l,c=(0,r.Z)(u);try{for(c.s();!(l=c.n()).done;){var f=l.value;n=n&&Boolean(e.getExtension(f))}}catch(d){c.e(d)}finally{c.f()}}else"string"===typeof u?n=Boolean(e.getExtension(u)):"boolean"===typeof u?n=u:(0,a.h)(!1);return n}(e,t)),e.luma.caps[t]||o.cM.log(2,"Feature: ".concat(t," not supported"))(),e.luma.caps[t]}},109:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r,i=n(4942),o=n(6796),a=n(2366),s={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};t.Z=(r={},(0,i.Z)(r,s.WEBGL2,[!1,!0]),(0,i.Z)(r,s.VERTEX_ARRAY_OBJECT,["OES_vertex_array_object",!0]),(0,i.Z)(r,s.TIMER_QUERY,["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"]),(0,i.Z)(r,s.INSTANCED_RENDERING,["ANGLE_instanced_arrays",!0]),(0,i.Z)(r,s.MULTIPLE_RENDER_TARGETS,["WEBGL_draw_buffers",!0]),(0,i.Z)(r,s.ELEMENT_INDEX_UINT32,["OES_element_index_uint",!0]),(0,i.Z)(r,s.BLEND_EQUATION_MINMAX,["EXT_blend_minmax",!0]),(0,i.Z)(r,s.FLOAT_BLEND,["EXT_float_blend"]),(0,i.Z)(r,s.COLOR_ENCODING_SRGB,["EXT_sRGB",!0]),(0,i.Z)(r,s.TEXTURE_DEPTH,["WEBGL_depth_texture",!0]),(0,i.Z)(r,s.TEXTURE_FLOAT,["OES_texture_float",!0]),(0,i.Z)(r,s.TEXTURE_HALF_FLOAT,["OES_texture_half_float",!0]),(0,i.Z)(r,s.TEXTURE_FILTER_LINEAR_FLOAT,["OES_texture_float_linear"]),(0,i.Z)(r,s.TEXTURE_FILTER_LINEAR_HALF_FLOAT,["OES_texture_half_float_linear"]),(0,i.Z)(r,s.TEXTURE_FILTER_ANISOTROPIC,["EXT_texture_filter_anisotropic"]),(0,i.Z)(r,s.COLOR_ATTACHMENT_RGBA32F,[function(e){var t=new a.Z(e,{format:6408,type:5126,dataFormat:6408}),n=new o.Z(e,{id:"test-framebuffer",check:!1,attachments:(0,i.Z)({},36064,t)}),r=n.getStatus();return t.delete(),n.delete(),36053===r},"EXT_color_buffer_float"]),(0,i.Z)(r,s.COLOR_ATTACHMENT_FLOAT,[!1,"EXT_color_buffer_float"]),(0,i.Z)(r,s.COLOR_ATTACHMENT_HALF_FLOAT,["EXT_color_buffer_half_float"]),(0,i.Z)(r,s.GLSL_FRAG_DATA,["WEBGL_draw_buffers",!0]),(0,i.Z)(r,s.GLSL_FRAG_DEPTH,["EXT_frag_depth",!0]),(0,i.Z)(r,s.GLSL_DERIVATIVES,["OES_standard_derivatives",!0]),(0,i.Z)(r,s.GLSL_TEXTURE_LOD,["EXT_shader_texture_lod",!0]),r)},8479:function(e,t,n){"use strict";n.d(t,{Zj:function(){return l},lR:function(){return c}});var r=n(5671),i=n(3144),o=n(8767),a=n(9574),s=n(857),u="8.5.16",l=function(){function e(){(0,r.Z)(this,e),this.stats=new Map}return(0,i.Z)(e,[{key:"get",value:function(e){return this.stats.has(e)||this.stats.set(e,new a.jk({id:e})),this.stats.get(e)}}]),e}(),c=new l;if(globalThis.luma&&globalThis.luma.VERSION!==u)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(u));globalThis.luma||((0,s.Z)()&&o.cM.log(1,"luma.gl ".concat(u," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),globalThis.luma=globalThis.luma||{VERSION:u,version:u,log:o.cM,stats:c,globals:{modules:{},nodeIO:{}}});globalThis.luma},2033:function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}n.d(t,{h:function(){return r}})},5221:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(8767);function i(e,t,n){var i=n.removedProps,o=void 0===i?{}:i,a=n.deprecatedProps,s=void 0===a?{}:a,u=n.replacedProps,l=void 0===u?{}:u;for(var c in o)if(c in t){var f=o[c]?"".concat(e,".").concat(o[c]):"N/A";r.cM.removed("".concat(e,".").concat(c),f)()}for(var d in s)if(d in t){var h=s[d];r.cM.deprecated("".concat(e,".").concat(d),"".concat(e,".").concat(h))()}var p=null;for(var v in l)if(v in t){var g=l[v];r.cM.deprecated("".concat(e,".").concat(v),"".concat(e,".").concat(g))(),(p=p||Object.assign({},t))[g]=t[v],delete p[v]}return p||t}},8029:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var r=n(8767);function i(e,t,n,i){var o="See luma.gl ".concat(n," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),a=Object.getPrototypeOf(e);i.forEach((function(e){a.methodName||(a[e]=function(){throw r.cM.removed("Calling removed method ".concat(t,".").concat(e,": "),o)(),new Error(e)})}))}},1813:function(e,t,n){"use strict";n.d(t,{hQ:function(){return o},nK:function(){return s},wt:function(){return a}});var r=n(2033),i={};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";i[e]=i[e]||1;var t=i[e]++;return"".concat(e,"-").concat(t)}function a(e){return(0,r.h)("number"===typeof e,"Input must be a number"),e&&0===(e&e-1)}function s(e){var t=!0;for(var n in e){t=!1;break}return t}},3221:function(e,t,n){"use strict";n.d(t,{$Z:function(){return f},hJ:function(){return d},jG:function(){return h}});var r,i=n(885),o=n(4942),a=n(2033),s=5126,u=5124,l=5125,c=(r={},(0,o.Z)(r,s,[s,1,"float"]),(0,o.Z)(r,35664,[s,2,"vec2"]),(0,o.Z)(r,35665,[s,3,"vec3"]),(0,o.Z)(r,35666,[s,4,"vec4"]),(0,o.Z)(r,u,[u,1,"int"]),(0,o.Z)(r,35667,[u,2,"ivec2"]),(0,o.Z)(r,35668,[u,3,"ivec3"]),(0,o.Z)(r,35669,[u,4,"ivec4"]),(0,o.Z)(r,l,[l,1,"uint"]),(0,o.Z)(r,36294,[l,2,"uvec2"]),(0,o.Z)(r,36295,[l,3,"uvec3"]),(0,o.Z)(r,36296,[l,4,"uvec4"]),(0,o.Z)(r,35670,[s,1,"bool"]),(0,o.Z)(r,35671,[s,2,"bvec2"]),(0,o.Z)(r,35672,[s,3,"bvec3"]),(0,o.Z)(r,35673,[s,4,"bvec4"]),(0,o.Z)(r,35674,[s,8,"mat2"]),(0,o.Z)(r,35685,[s,8,"mat2x3"]),(0,o.Z)(r,35686,[s,8,"mat2x4"]),(0,o.Z)(r,35675,[s,12,"mat3"]),(0,o.Z)(r,35687,[s,12,"mat3x2"]),(0,o.Z)(r,35688,[s,12,"mat3x4"]),(0,o.Z)(r,35676,[s,16,"mat4"]),(0,o.Z)(r,35689,[s,16,"mat4x2"]),(0,o.Z)(r,35690,[s,16,"mat4x3"]),r);function f(e){switch(e){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return(0,a.h)(!1),0}}function d(e){var t=c[e];if(!t)return null;var n=(0,i.Z)(t,2);return{type:n[0],components:n[1]}}function h(e,t){switch(e){case 5120:case 5121:case 5122:case 5123:e=s}for(var n in c){var r=(0,i.Z)(c[n],3),o=r[0],a=r[1],u=r[2];if(o===e&&a===t)return{glType:n,name:u}}return null}},2262:function(e,t,n){"use strict";n.d(t,{km:function(){return o},sF:function(){return i}});var r=n(2033);function i(e,t){if("string"!==typeof t)return t;var n=Number(t);if(!isNaN(n))return n;var i=e[t=t.replace(/^.*\./,"")];return(0,r.h)(void 0!==i,"Accessing undefined constant GL.".concat(t)),i}function o(e,t){for(var n in t=Number(t),e)if(e[n]===t)return"GL.".concat(n);return String(t)}},8542:function(e,t,n){"use strict";n.d(t,{Y:function(){return c},h:function(){return l}});var r=n(4942),i=n(2366),o=n(5872),a=n(8137),s=n(6796),u=n(2033);function l(e,t){(0,u.h)(e instanceof i.Z||e instanceof o.Z||e instanceof a.Z);var n=e.constructor,r=e.gl,s=e.width,l=e.height,c=e.format,f=e.type,d=e.dataFormat,h=e.border,p=e.mipmaps;return new n(r,Object.assign({width:s,height:l,format:c,type:f,dataFormat:d,border:h,mipmaps:p},t))}function c(e,t){var n=e.gl,i=e.width,o=e.height,a=e.id;return new s.Z(n,Object.assign({},t,{id:"framebuffer-for-".concat(a),width:i,height:o,attachments:(0,r.Z)({},36064,e)}))}},142:function(e,t,n){"use strict";n.d(t,{KS:function(){return a},O:function(){return r},c$:function(){return o},vN:function(){return i}});function r(e){switch(ArrayBuffer.isView(e)?e.constructor:e){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error("Failed to deduce GL constant from typed array")}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.clamped,r=void 0===n||n;switch(e){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return r?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function o(e){var t=e.data,n=e.width,r=e.height,i=e.bytesPerPixel,o=void 0===i?4:i,a=e.temp,s=n*o;a=a||new Uint8Array(s);for(var u=0;u<r/2;++u){var l=u*s,c=(r-u-1)*s;a.set(t.subarray(l,l+s)),t.copyWithin(l,c,c+s),t.set(a,c)}}function a(e){for(var t=e.data,n=e.width,r=e.height,i=Math.round(n/2),o=Math.round(r/2),a=new Uint8Array(i*o*4),s=0;s<o;s++)for(var u=0;u<i;u++)for(var l=0;l<4;l++)a[4*(s*i+u)+l]=t[4*(2*s*n+2*u)+l];return{data:a,width:i,height:o}}},259:function(e){"use strict";e.exports=n,e.exports.default=n;var t=1e20;function n(e,t,n,r,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer,s=a+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function r(e,t,n,r,o,a){for(var s=0;s<t;s++)i(e,s,t,n,r,o,a);for(var u=0;u<n;u++)i(e,u*t,1,t,r,o,a)}function i(e,n,r,i,o,a,s){var u,l,c,f;for(a[0]=0,s[0]=-t,s[1]=t,u=0;u<i;u++)o[u]=e[n+u*r];for(u=1,l=0,c=0;u<i;u++){do{f=a[l],c=(o[u]-o[f]+u*u-f*f)/(u-f)/2}while(c<=s[l]&&--l>-1);a[++l]=u,s[l]=c,s[l+1]=t}for(u=0,l=0;u<i;u++){for(;s[l+1]<u;)l++;f=a[l],e[n+u*r]=o[f]+(u-f)*(u-f)}}n.prototype._draw=function(e,n){var i,o,a,s,u,l,c,f,d,h=this.ctx.measureText(e),p=h.width,v=2*this.buffer;n&&this.useMetrics?(u=Math.floor(h.actualBoundingBoxAscent),f=this.buffer+Math.ceil(h.actualBoundingBoxAscent),l=this.buffer,c=this.buffer,i=(o=Math.min(this.size,Math.ceil(h.actualBoundingBoxRight-h.actualBoundingBoxLeft)))+v,a=(s=Math.min(this.size-l,Math.ceil(h.actualBoundingBoxAscent+h.actualBoundingBoxDescent)))+v,this.ctx.textBaseline="alphabetic"):(i=o=this.size,a=s=this.size,u=19*this.fontSize/24,l=c=0,f=this.middle,this.ctx.textBaseline="middle"),o&&s&&(this.ctx.clearRect(c,l,o,s),this.ctx.fillText(e,this.buffer,f),d=this.ctx.getImageData(c,l,o,s));var g=new Uint8ClampedArray(i*a);return function(e,n,r,i,o,a,s){a.fill(t,0,n*r),s.fill(0,0,n*r);for(var u=(n-i)/2,l=0;l<o;l++)for(var c=0;c<i;c++){var f=(l+u)*n+c+u,d=e.data[4*(l*i+c)+3]/255;if(1===d)a[f]=0,s[f]=t;else if(0===d)a[f]=t,s[f]=0;else{var h=Math.max(0,.5-d),p=Math.max(0,d-.5);a[f]=h*h,s[f]=p*p}}}(d,i,a,o,s,this.gridOuter,this.gridInner),r(this.gridOuter,i,a,this.f,this.v,this.z),r(this.gridInner,i,a,this.f,this.v,this.z),function(e,t,n,r,i,o,a){for(var s=0;s<t*n;s++){var u=Math.sqrt(r[s])-Math.sqrt(i[s]);e[s]=Math.round(255-255*(u/o+a))}}(g,i,a,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:g,metrics:{width:o,height:s,sdfWidth:i,sdfHeight:a,top:u,left:0,advance:p}}},n.prototype.draw=function(e){return this._draw(e,!1).data},n.prototype.drawWithMetrics=function(e){return this._draw(e,!0)}},9259:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(5671),i=n(3144),o=n(136),a=n(7277),s=n(1783);var u=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)this[n]=e[n+t];return this.check()}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)e[t+n]=this[n];return e}},{key:"from",value:function(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}},{key:"to",value:function(e){return e===this?this:(0,s.kJ)(e)?this.toArray(e):this.toObject(e)}},{key:"toTarget",value:function(e){return e?this.to(e):this}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(s.vc)}},{key:"formatString",value:function(e){for(var t="",n=0;n<this.ELEMENTS;++n)t+=(n>0?", ":"")+(0,s.Bw)(this[n],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}},{key:"equals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(!(0,s.fS)(this[t],e[t]))return!1;return!0}},{key:"exactEquals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}},{key:"negate",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}},{key:"lerp",value:function(e,t,n){if(void 0===n)return this.lerp(this,e,t);for(var r=0;r<this.ELEMENTS;++r){var i=e[r];this[r]=i+n*(t[r]-i)}return this.check()}},{key:"min",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}},{key:"max",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}},{key:"clamp",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e[n]),t[n]);return this.check()}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]+=o[a];return this.check()}},{key:"subtract",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]-=o[a];return this.check()}},{key:"scale",value:function(e){if("number"===typeof e)for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;else for(var n=0;n<this.ELEMENTS&&n<e.length;++n)this[n]*=e[n];return this.check()}},{key:"multiplyByScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"check",value:function(){if(s.vc.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var e=this.length===this.ELEMENTS,t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}},{key:"sub",value:function(e){return this.subtract(e)}},{key:"setScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}},{key:"addScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}},{key:"subScalar",value:function(e){return this.addScalar(-e)}},{key:"multiplyScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"divideScalar",value:function(e){return this.multiplyByScalar(1/e)}},{key:"clampScalar",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e),t);return this.check()}},{key:"elements",get:function(){return this}}]),n}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Array))},6911:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r,i=n(5671),o=n(3144),a=n(136),s=n(7277),u=n(9259),l=n(8202),c=n(1783),f=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"toString",value:function(){var e="[";if(c.vc.printRowMajor){e+="row-major:";for(var t=0;t<this.RANK;++t)for(var n=0;n<this.RANK;++n)e+=" ".concat(this[n*this.RANK+t])}else{e+="column-major:";for(var r=0;r<this.ELEMENTS;++r)e+=" ".concat(this[r])}return e+="]"}},{key:"getElementIndex",value:function(e,t){return t*this.RANK+e}},{key:"getElement",value:function(e,t){return this[t*this.RANK+e]}},{key:"setElement",value:function(e,t,n){return this[t*this.RANK+e]=(0,l.u5)(n),this}},{key:"getColumn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),n=e*this.RANK,r=0;r<this.RANK;++r)t[r]=this[n+r];return t}},{key:"setColumn",value:function(e,t){for(var n=e*this.RANK,r=0;r<this.RANK;++r)this[n+r]=t[r];return this}}]),n}(u.Z),d=n(561),h=n(9880),p=n(9874),v=n(8679),g=n(8255);!function(e){e[e.COL0ROW0=0]="COL0ROW0",e[e.COL0ROW1=1]="COL0ROW1",e[e.COL0ROW2=2]="COL0ROW2",e[e.COL0ROW3=3]="COL0ROW3",e[e.COL1ROW0=4]="COL1ROW0",e[e.COL1ROW1=5]="COL1ROW1",e[e.COL1ROW2=6]="COL1ROW2",e[e.COL1ROW3=7]="COL1ROW3",e[e.COL2ROW0=8]="COL2ROW0",e[e.COL2ROW1=9]="COL2ROW1",e[e.COL2ROW2=10]="COL2ROW2",e[e.COL2ROW3=11]="COL2ROW3",e[e.COL3ROW0=12]="COL3ROW0",e[e.COL3ROW1=13]="COL3ROW1",e[e.COL3ROW2=14]="COL3ROW2",e[e.COL3ROW3=15]="COL3ROW3"}(r||(r={}));var y,m,b=45*Math.PI/180,_=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),w=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?r.copy(e):r.identity(),r}return(0,o.Z)(n,[{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}},{key:"INDICES",get:function(){return r}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}},{key:"set",value:function(e,t,n,r,i,o,a,s,u,l,c,f,d,h,p,v){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this[9]=l,this[10]=c,this[11]=f,this[12]=d,this[13]=h,this[14]=p,this[15]=v,this.check()}},{key:"setRowMajor",value:function(e,t,n,r,i,o,a,s,u,l,c,f,d,h,p,v){return this[0]=e,this[1]=i,this[2]=u,this[3]=d,this[4]=t,this[5]=o,this[6]=l,this[7]=h,this[8]=n,this[9]=a,this[10]=c,this[11]=p,this[12]=r,this[13]=s,this[14]=f,this[15]=v,this.check()}},{key:"toRowMajor",value:function(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}},{key:"identity",value:function(){return this.copy(_)}},{key:"fromObject",value:function(e){return this.check()}},{key:"fromQuaternion",value:function(e){return h.en(this,e),this.check()}},{key:"frustum",value:function(e){var t=e.left,n=e.right,r=e.bottom,i=e.top,o=e.near,a=void 0===o?.1:o,s=e.far,u=void 0===s?500:s;return u===1/0?function(e,t,n,r,i,o){var a=2*o/(n-t),s=2*o/(i-r),u=(n+t)/(n-t),l=(i+r)/(i-r),c=-1,f=-1,d=-2*o;e[0]=a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=u,e[9]=l,e[10]=c,e[11]=f,e[12]=0,e[13]=0,e[14]=d,e[15]=0}(this,t,n,r,i,a):h.oy(this,t,n,r,i,a,u),this.check()}},{key:"lookAt",value:function(e){var t=e.eye,n=e.center,r=void 0===n?[0,0,0]:n,i=e.up,o=void 0===i?[0,1,0]:i;return h.zB(this,t,r,o),this.check()}},{key:"ortho",value:function(e){var t=e.left,n=e.right,r=e.bottom,i=e.top,o=e.near,a=void 0===o?.1:o,s=e.far,u=void 0===s?500:s;return h.M5(this,t,n,r,i,a,u),this.check()}},{key:"orthographic",value:function(e){var t=e.fovy,n=void 0===t?b:t,r=e.aspect,i=void 0===r?1:r,o=e.focalDistance,a=void 0===o?1:o,s=e.near,u=void 0===s?.1:s,l=e.far,c=void 0===l?500:l;E(n);var f=n/2,d=a*Math.tan(f),h=d*i;return this.ortho({left:-h,right:h,bottom:-d,top:d,near:u,far:c})}},{key:"perspective",value:function(e){var t=e.fovy,n=void 0===t?45*Math.PI/180:t,r=e.aspect,i=void 0===r?1:r,o=e.near,a=void 0===o?.1:o,s=e.far,u=void 0===s?500:s;return E(n),h.G3(this,n,i,a,u),this.check()}},{key:"determinant",value:function(){return h.GH(this)}},{key:"getScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}},{key:"getTranslation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}},{key:"getRotation",value:function(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];var n=this.getScale(t),r=1/n[0],i=1/n[1],o=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=0,e[4]=this[4]*r,e[5]=this[5]*i,e[6]=this[6]*o,e[7]=0,e[8]=this[8]*r,e[9]=this[9]*i,e[10]=this[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"getRotationMatrix3",value:function(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];var n=this.getScale(t),r=1/n[0],i=1/n[1],o=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=this[4]*r,e[4]=this[5]*i,e[5]=this[6]*o,e[6]=this[8]*r,e[7]=this[9]*i,e[8]=this[10]*o,e}},{key:"transpose",value:function(){return h.p4(this,this),this.check()}},{key:"invert",value:function(){return h.U_(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return h.Jp(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return h.Jp(this,this,e),this.check()}},{key:"rotateX",value:function(e){return h.lM(this,this,e),this.check()}},{key:"rotateY",value:function(e){return h.uD(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return h.jI(this,this,e),this.check()}},{key:"rotateXYZ",value:function(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}},{key:"rotateAxis",value:function(e,t){return h.U1(this,this,e,t),this.check()}},{key:"scale",value:function(e){return h.bA(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}},{key:"translate",value:function(e){return h.Iu(this,this,e),this.check()}},{key:"transform",value:function(e,t){return 4===e.length?(t=g.fF(t||[-0,-0,-0,-0],e,this),(0,l.IL)(t,4),t):this.transformAsPoint(e,t)}},{key:"transformAsPoint",value:function(e,t){var n;switch(e.length){case 2:n=p.fF(t||[-0,-0],e,this);break;case 3:n=v.fF(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return(0,l.IL)(n,e.length),n}},{key:"transformAsVector",value:function(e,t){var n;switch(e.length){case 2:n=(0,d.pb)(t||[-0,-0],e,this);break;case 3:n=(0,d.pL)(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return(0,l.IL)(n,e.length),n}},{key:"transformPoint",value:function(e,t){return this.transformAsPoint(e,t)}},{key:"transformVector",value:function(e,t){return this.transformAsPoint(e,t)}},{key:"transformDirection",value:function(e,t){return this.transformAsVector(e,t)}},{key:"makeRotationX",value:function(e){return this.identity().rotateX(e)}},{key:"makeTranslation",value:function(e,t,n){return this.identity().translate([e,t,n])}}],[{key:"IDENTITY",get:function(){return k()}},{key:"ZERO",get:function(){return x()}}]),n}(f);function x(){return y||(y=new w([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(y)),y}function k(){return m||(m=new w,Object.freeze(m)),m}function E(e){if(e>2*Math.PI)throw Error("expected radians")}},347:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(5671),i=n(3144),o=n(136),a=n(7277),s=n(9259),u=n(8202);function l(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}var c,f=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"x",get:function(){return this[0]},set:function(e){this[0]=(0,u.u5)(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=(0,u.u5)(e)}},{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var e=0,t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(e){for(var t=0,n=0;n<this.ELEMENTS;++n){var r=this[n]-e[n];t+=r*r}return(0,u.u5)(t)}},{key:"dot",value:function(e){for(var t=0,n=0;n<this.ELEMENTS;++n)t+=this[n]*e[n];return(0,u.u5)(t)}},{key:"normalize",value:function(){var e=this.magnitude();if(0!==e)for(var t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}},{key:"multiply",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]*=o[a];return this.check()}},{key:"divide",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]/=o[a];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(e){return this.distance(e)}},{key:"distanceToSquared",value:function(e){return this.distanceSquared(e)}},{key:"getComponent",value:function(e){return l(e>=0&&e<this.ELEMENTS,"index is out of range"),(0,u.u5)(this[e])}},{key:"setComponent",value:function(e,t){return l(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}},{key:"addVectors",value:function(e,t){return this.copy(e).add(t)}},{key:"subVectors",value:function(e,t){return this.copy(e).subtract(t)}},{key:"multiplyVectors",value:function(e,t){return this.copy(e).multiply(t)}},{key:"addScaledVector",value:function(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}]),n}(s.Z),d=n(1783),h=n(8679),p=n(561),v=[0,0,0],g=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,r.Z)(this,n),e=t.call(this,-0,-0,-0),1===arguments.length&&(0,d.kJ)(i)?e.copy(i):(d.vc.debug&&((0,u.u5)(i),(0,u.u5)(o),(0,u.u5)(a)),e[0]=i,e[1]=o,e[2]=a),e}return(0,i.Z)(n,[{key:"set",value:function(e,t,n){return this[0]=e,this[1]=t,this[2]=n,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}},{key:"fromObject",value:function(e){return d.vc.debug&&((0,u.u5)(e.x),(0,u.u5)(e.y),(0,u.u5)(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}},{key:"ELEMENTS",get:function(){return 3}},{key:"z",get:function(){return this[2]},set:function(e){this[2]=(0,u.u5)(e)}},{key:"angle",value:function(e){return h.EU(this,e)}},{key:"cross",value:function(e){return h.kC(this,this,e),this.check()}},{key:"rotateX",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?v:n;return h.lM(this,this,r,t),this.check()}},{key:"rotateY",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?v:n;return h.uD(this,this,r,t),this.check()}},{key:"rotateZ",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?v:n;return h.jI(this,this,r,t),this.check()}},{key:"transform",value:function(e){return this.transformAsPoint(e)}},{key:"transformAsPoint",value:function(e){return h.fF(this,this,e),this.check()}},{key:"transformAsVector",value:function(e){return(0,p.pL)(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return h.kK(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return(0,p.eQ)(this,this,e),this.check()}},{key:"transformByQuaternion",value:function(e){return h.VC(this,this,e),this.check()}}],[{key:"ZERO",get:function(){return c||(c=new n(0,0,0),Object.freeze(c)),c}}]),n}(f)},1783:function(e,t,n){"use strict";n.d(t,{Bw:function(){return a},RW:function(){return l},fS:function(){return d},kJ:function(){return s},t7:function(){return f},uR:function(){return u},uZ:function(){return c},vc:function(){return o}});var r=1/Math.PI*180,i=1/180*Math.PI,o={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.precision,r=void 0===n?o.precision:n;return e=h(e),"".concat(parseFloat(e.toPrecision(r)))}function s(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function u(e,t){return p(e,(function(e){return e*i}),t)}function l(e,t){return p(e,(function(e){return e*r}),t)}function c(e,t,n){return p(e,(function(e){return Math.max(t,Math.min(n,e))}))}function f(e,t,n){return s(e)?e.map((function(e,r){return f(e,t[r],n)})):n*t+(1-n)*e}function d(e,t,n){var r=o.EPSILON;n&&(o.EPSILON=n);try{if(e===t)return!0;if(s(e)&&s(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!d(e[i],t[i]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):"number"===typeof e&&"number"===typeof t&&Math.abs(e-t)<=o.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{o.EPSILON=r}}function h(e){return Math.round(e/o.EPSILON)*o.EPSILON}function p(e,t,n){if(s(e)){var r=e;n=n||function(e){return e.clone?e.clone():new Array(e.length)}(r);for(var i=0;i<n.length&&i<r.length;++i)n[i]=t(e[i],i,n);return n}return t(e)}},561:function(e,t,n){"use strict";function r(e,t,n){var r=t[0],i=t[1],o=n[3]*r+n[7]*i||1;return e[0]=(n[0]*r+n[4]*i)/o,e[1]=(n[1]*r+n[5]*i)/o,e}function i(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o||1;return e[0]=(n[0]*r+n[4]*i+n[8]*o)/a,e[1]=(n[1]*r+n[5]*i+n[9]*o)/a,e[2]=(n[2]*r+n[6]*i+n[10]*o)/a,e}function o(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e[2]=t[2],e}n.d(t,{eQ:function(){return o},pL:function(){return i},pb:function(){return r}})},8202:function(e,t,n){"use strict";n.d(t,{IL:function(){return a},u5:function(){return o}});var r=n(1783);function i(e,t){if(e.length!==t)return!1;for(var n=0;n<e.length;++n)if(!Number.isFinite(e[n]))return!1;return!0}function o(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(r.vc.debug&&!i(e,t))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return e}},4305:function(e,t,n){"use strict";n.d(t,{eG:function(){return T},Lu:function(){return C},Xg:function(){return R},if:function(){return U},sj:function(){return Z},zX:function(){return I},ro:function(){return S},up:function(){return V},Bf:function(){return E},wl:function(){return A},lf:function(){return P},w5:function(){return x},QA:function(){return F},CT:function(){return L},es:function(){return k},aW:function(){return O}});var r=n(8255);function i(e,t){var n=(0,r.fF)([],t,e);return(0,r.bA)(n,n,1/n[3]),n}function o(e,t){var n=e%t;return n<0?t+n:n}function a(e,t,n){return e<t?t:e>n?n:e}var s=Math.log2||function(e){return Math.log(e)*Math.LOG2E},u=n(885),l=n(9880),c=n(9874),f=n(8679);function d(e,t){if(!e)throw new Error(t||"@math.gl/web-mercator: assertion failed.")}var h=Math.PI,p=h/4,v=h/180,g=180/h,y=512,m=4003e4,b=85.051129;function _(e){return Math.pow(2,e)}function w(e){return s(e)}function x(e){var t=(0,u.Z)(e,2),n=t[0],r=t[1];d(Number.isFinite(n)),d(Number.isFinite(r)&&r>=-90&&r<=90,"invalid latitude");var i=r*v;return[y*(n*v+h)/(2*h),y*(h+Math.log(Math.tan(p+.5*i)))/(2*h)]}function k(e){var t=(0,u.Z)(e,2),n=t[0],r=t[1],i=n/y*(2*h)-h,o=2*(Math.atan(Math.exp(r/y*(2*h)-h))-p);return[i*g,o*g]}function E(e){var t=e.latitude;d(Number.isFinite(t));var n=Math.cos(t*v);return w(m*n)-9}function S(e){var t=e.latitude,n=e.longitude,r=e.highPrecision,i=void 0!==r&&r;d(Number.isFinite(t)&&Number.isFinite(n));var o=Math.cos(t*v),a=512/360,s=a/o,u=12790407194604047e-21/o,l={unitsPerMeter:[u,u,u],metersPerUnit:[1/u,1/u,1/u],unitsPerDegree:[a,s,u],degreesPerUnit:[.703125,1/s,1/u]};if(i){var c=v*Math.tan(t*v)/o,f=a*c/2,h=12790407194604047e-21*c,p=h/s*u;l.unitsPerDegree2=[0,f,h],l.unitsPerMeter2=[p,0,p]}return l}function T(e,t){var n=(0,u.Z)(e,3),r=n[0],i=n[1],o=n[2],a=(0,u.Z)(t,3),s=a[0],l=a[1],c=a[2],f=S({longitude:r,latitude:i,highPrecision:!0}),d=f.unitsPerMeter,h=f.unitsPerMeter2,p=x(e);p[0]+=s*(d[0]+h[0]*l),p[1]+=l*(d[1]+h[1]*l);var v=k(p),g=(o||0)+(c||0);return Number.isFinite(o)||Number.isFinite(c)?[v[0],v[1],g]:v}function P(e){var t=e.height,n=e.pitch,r=e.bearing,i=e.altitude,o=e.scale,a=e.center,s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];l.Iu(s,s,[0,0,-i]),l.lM(s,s,-n*v),l.jI(s,s,r*v);var u=o/t;return l.bA(s,s,[u,u,u]),a&&l.Iu(s,s,f.tk([],a)),s}function A(e){var t=e.width,n=e.height,r=e.altitude,i=e.pitch,o=void 0===i?0:i,s=e.offset,u=e.center,l=e.scale,c=e.nearZMultiplier,f=void 0===c?1:c,d=e.farZMultiplier,h=void 0===d?1:d,p=e.fovy,g=void 0===p?C(1.5):p;void 0!==r&&(g=C(r));var y=g*v,m=o*v,b=Z(g),_=b;u&&(_+=u[2]*l/Math.cos(m)/n);var w=y*(.5+(s?s[1]:0)/n),x=Math.sin(w)*_/Math.sin(a(Math.PI/2-m-w,.01,Math.PI-.01)),k=Math.sin(m)*x+_,E=10*_;return{fov:y,aspect:t/n,focalDistance:b,near:f,far:Math.min(k*h,E)}}function C(e){return 2*Math.atan(.5/e)*g}function Z(e){return.5/Math.tan(.5*e*v)}function O(e,t){var n=(0,u.Z)(e,3),r=n[0],o=n[1],a=n[2],s=void 0===a?0:a;return d(Number.isFinite(r)&&Number.isFinite(o)&&Number.isFinite(s)),i(t,[r,o,s,1])}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(0,u.Z)(e,3),o=r[0],a=r[1],s=r[2];if(d(Number.isFinite(o)&&Number.isFinite(a),"invalid pixel coordinate"),Number.isFinite(s)){var l=i(t,[o,a,s,1]);return l}var f=i(t,[o,a,0,1]),h=i(t,[o,a,1,1]),p=f[2],v=h[2],g=p===v?0:((n||0)-p)/(v-p);return c.t7([],f,h,g)}function R(e){var t=e.width,n=e.height,r=e.bounds,i=e.minExtent,o=void 0===i?0:i,l=e.maxZoom,c=void 0===l?24:l,f=e.offset,h=void 0===f?[0,0]:f,p=(0,u.Z)(r,2),v=(0,u.Z)(p[0],2),g=v[0],y=v[1],m=(0,u.Z)(p[1],2),_=m[0],w=m[1],E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("number"===typeof e)return{top:e,bottom:e,left:e,right:e};return d(Number.isFinite(e.top)&&Number.isFinite(e.bottom)&&Number.isFinite(e.left)&&Number.isFinite(e.right)),e}(e.padding),S=x([g,a(w,-85.051129,b)]),T=x([_,a(y,-85.051129,b)]),P=[Math.max(Math.abs(T[0]-S[0]),o),Math.max(Math.abs(T[1]-S[1]),o)],A=[t-E.left-E.right-2*Math.abs(h[0]),n-E.top-E.bottom-2*Math.abs(h[1])];d(A[0]>0&&A[1]>0);var C=A[0]/P[0],Z=A[1]/P[1],O=(E.right-E.left)/2/C,L=(E.top-E.bottom)/2/Z,R=k([(T[0]+S[0])/2+O,(T[1]+S[1])/2+L]),M=Math.min(c,s(Math.abs(Math.min(C,Z))));return d(Number.isFinite(M)),{longitude:R[0],latitude:R[1],zoom:M}}var M=Math.PI/180;function I(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.width,o=e.height,a=e.unproject,s={targetZ:r},u=a([0,o],s),l=a([i,o],s),c=e.fovy?.5*e.fovy*M:Math.atan(.5/e.altitude),f=(90-e.pitch)*M;return c>f-.01?(t=N(e,0,r),n=N(e,i,r)):(t=a([0,0],s),n=a([i,0],s)),[u,l,n,t]}function N(e,t,n){var r=e.pixelUnprojectionMatrix,o=i(r,[t,0,1,1]),a=i(r,[t,e.height,1,1]),s=(n*e.distanceScales.unitsPerMeter[2]-o[2])/(a[2]-o[2]),u=k(c.t7([],o,a,s));return u.push(n),u}function F(e){var t=e.width,n=e.height,r=e.pitch,i=void 0===r?0:r,a=e.longitude,u=e.latitude,l=e.zoom,c=e.bearing,f=void 0===c?0:c;(a<-180||a>180)&&(a=o(a+180,360)-180),(f<-180||f>180)&&(f=o(f+180,360)-180);var d=s(n/512);if(l<=d)l=d,u=0;else{var h=n/2/Math.pow(2,l),p=k([0,h])[1];if(u<p)u=p;else{var v=k([0,512-h])[1];u>v&&(u=v)}}return{width:t,height:n,longitude:a,latitude:u,zoom:l,pitch:i,bearing:f}}var j=n(1413),D=n(7762),z=["longitude","latitude","zoom"],B={curve:1.414,speed:1.2};function U(e,t,n,r){var i,o=G(e,t,r),a=o.startZoom,s=o.startCenterXY,u=o.uDelta,l=o.w0,f=o.u1,d=o.S,h=o.rho,p=o.rho2,v=o.r0;if(f<.01){var g,y={},m=(0,D.Z)(z);try{for(m.s();!(g=m.n()).done;){var b=g.value,_=e[b],x=t[b];y[b]=(i=n)*x+(1-i)*_}}catch(Z){m.e(Z)}finally{m.f()}return y}var E=n*d,S=Math.cosh(v)/Math.cosh(v+h*E),T=l*((Math.cosh(v)*Math.tanh(v+h*E)-Math.sinh(v))/p)/f,P=a+w(1/S),A=c.bA([],u,T);c.IH(A,A,s);var C=k(A);return{longitude:C[0],latitude:C[1],zoom:P}}function V(e,t,n){var r,i=(0,j.Z)((0,j.Z)({},B),n),o=i.screenSpeed,a=i.speed,s=i.maxDuration,u=G(e,t,i),l=u.S,c=u.rho,f=1e3*l;return r=Number.isFinite(o)?f/(o/c):f/a,Number.isFinite(s)&&r>s?0:r}function G(e,t,n){var r=(n=Object.assign({},B,n)).curve,i=e.zoom,o=[e.longitude,e.latitude],a=_(i),s=t.zoom,u=[t.longitude,t.latitude],l=_(s-i),f=x(o),d=x(u),h=c.lu([],d,f),p=Math.max(e.width,e.height),v=p/l,g=c.kE(h)*a,y=Math.max(g,.01),m=r*r,b=(v*v-p*p+m*m*y*y)/(2*p*m*y),w=(v*v-p*p-m*m*y*y)/(2*v*m*y),k=Math.log(Math.sqrt(b*b+1)-b),E=Math.log(Math.sqrt(w*w+1)-w);return{startZoom:i,startCenterXY:f,uDelta:h,w0:p,u1:g,S:(E-k)/r,rho:r,rho2:m,r0:k,r1:E}}},5877:function(e,t,n){var r,i,o,a;e.exports=(r=n(2277),i=n(7637),o=n(3134),a=n(1156),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=150)}([function(e,t,n){"use strict";n.r(t),n.d(t,"Angles",(function(){return r})),n.d(t,"EmptyArray",(function(){return i})),n.d(t,"EmptyObject",(function(){return o})),n.d(t,"TreeTypes",(function(){return a})),n.d(t,"Shapes",(function(){return s}));var r={Degrees0:0,Degrees45:.25*Math.PI,Degrees90:.5*Math.PI,Degrees180:Math.PI,Degrees270:1.5*Math.PI,Degrees360:2*Math.PI},i=[],o={},a={Circular:"cr",Diagonal:"dg",Hierarchical:"hr",Radial:"rd",Rectangular:"rc"},s={Chevron:"chevron",ChevronInverted:"chevron-inverted",ChevronLeft:"chevron-left",ChevronRight:"chevron-right",Circle:"circle",Cross:"cross",Diamond:"diamond",Dot:"dot",DoubleChevron:"double-chevron",DoubleChevronInverted:"double-chevron-inverted",DoubleChevronLeft:"double-chevron-left",DoubleChevronRight:"double-chevron-right",Heptagon:"heptagon",HeptagonInverted:"heptagon-inverted",Heptagram:"heptagram",HeptagramInverted:"heptagram-inverted",Hexagon:"hexagon",Hexagram:"hexagram",Octagon:"octagon",Octagram:"octagram",Pentagon:"pentagon",PentagonInverted:"pentagon-inverted",Pentagram:"pentagram",PentagramInverted:"pentagram-inverted",Plus:"plus",Square:"square",Star:"pentagram",StarInverted:"pentagram-inverted",Tetragram:"tetragram",Triangle:"triangle",TriangleInverted:"triangle-inverted",TriangleLeft:"triangle-left",TriangleRight:"triangle-right",Wye:"wye",WyeInverted:"wye-inverted"}},function(e,t,n){"use strict";var r=n(0);t.a=Object.freeze({alignLabels:!1,backgroundColour:null,blockHeaderFontSize:13,blockPadding:4,blocks:[],blockSize:16,branchLengthsDigits:4,branchLengthsFormat:null,branchZoom:0,centre:[.5,.5],collapsedIds:r.EmptyArray,edgeOverlapFactor:-.5,fillColour:[51,51,51,255],fontColour:[51,51,51,255],fontFamily:"monospace",fontSize:16,haloRadius:12,haloWidth:4,highlightColour:[60,115,131,255],interactive:!1,metadata:{},minScale:.01,nodeOverlapFactor:.1,nodeShape:"circle",nodeSize:14,padding:16,rootId:null,rotatedIds:r.EmptyArray,scaleLineAlpha:!1,selectedIds:r.EmptyArray,shapeBorderAlpha:.28,shapeBorderWidth:1,showBlockHeaders:!1,showBlockLabels:!1,showBranchLengths:!1,showEdges:!0,showInternalLabels:!1,showLabels:!1,showLeafLabels:!1,showPiecharts:!1,showShapeBorders:!1,showShapes:!0,size:{height:150,width:300},stepZoom:0,strokeColour:[34,34,34,255],strokeWidth:1,styleLeafLabels:!1,styleNodeEdges:!1,styles:{},treeToCanvasRatio:.25,type:r.TreeTypes.Rectangular,zoom:0})},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),i=null,o=null,a=null,s=function e(n){if(null===i||null===n.props||i!==n.props){for(var s=[],u=0;u<t.length;u++)s.push(t[u].call(null,n));s.push(n);var l=!1;if(null===o||null===s)l=!0;else for(var c=0;c<s.length;c++)if(o[c]!==s[c]){l=!0;break}if(l)if(n.log&&e.displayName){var f=performance.now();a=r.apply(null,s);var d=performance.now();n.log("selector %s took:",e.displayName,d-f)}else a=r.apply(null,s);o=s}return i=n.props,a};return s}function i(){var e=arguments,t=Symbol("selector"),n=function n(i){var o=i.cache.get(t);return void 0===o&&((o=r.apply(null,e)).displayName=n.displayName,i.cache.set(t,o)),o.apply(null,arguments)};return n}n.r(t),n.d(t,"default",(function(){return i}))},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=r},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(25),i=new Map,o=[0,0,0,0];function a(e){if(Array.isArray(e))return e;if("transparent"===e)return o;var t=Object(r.default)(),n=i.get(e);return void 0===n&&(t.fillStyle="rgba(0, 0, 0, 0)",t.fillStyle=e,t.fillRect(0,0,1,1),n=t.getImageData(0,0,1,1).data,i.set(e,n)),n}o.isTransparent=!0},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=i},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(50);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(48).default,i=n(120);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";function r(e){return Math.pow(2,e)}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){var r=n(58),i=n(59),o=n(52),a=n(60);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(119);function i(t,n,o){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get,e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},e.exports.default=e.exports,e.exports.__esModule=!0),i(t,n,o||t)}e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.r(t),t.default=function(e){return Math.log2(e)}},function(e,t,n){var r=n(69),i=n(70),o=n(52),a=n(71);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.r(t);var r=n(0);function i(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=r.Angles.Degrees270,a=r.Angles.Degrees360/e,s=[],u=0;u<=e;u+=1)s.push([t+i*Math.cos(o+u*a),n+i*Math.sin(o+u*a)]);return s.push(s[0]),s}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=.5*r,o=Math.PI/e,a=[],s=Math.PI/2*3;a.push([t,n-r]);for(var u=0;u<e;u++)a.push([t+Math.cos(s)*r,n+Math.sin(s)*r]),s+=o,a.push([t+Math.cos(s)*i,n+Math.sin(s)*i]),s+=o;return a.push([t,n-r]),a}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:180;return{renderCanvas:function(n,i,o,a){return a.rotate(t/180*r.Angles.Degrees180),e.renderCanvas(n,i,o,a)},renderSvg:function(n,r,i,o){return e.renderSvg(n,r,i,'transform="rotate('.concat(t,",").concat(n,",").concat(r,')" ').concat(o))}}}function s(e){return{renderCanvas:function(t,n,r,i){i.moveTo(t+r*e[0][0],n+r*e[0][1]);for(var o=0;o<e.length;o++){var a=e[o];null===a?i.moveTo(t+r*e[o+1][0],n+r*e[o+1][1]):i.lineTo(t+r*a[0],n+r*a[1])}},renderSvg:function(t,n,r,i){var o=[];o.push("M ".concat(t+r*e[0][0],",").concat(n+r*e[0][1]));for(var a=0;a<e.length;a++){var s=e[a];null===s?o.push("M ".concat(t+r*e[a+1][0],",").concat(n+r*e[a+1][1])):o.push("L ".concat(t+r*s[0],",").concat(n+r*s[1]))}return'<path d="'.concat(o.join(" "),'Z" ').concat(i," />")}}}var u={};u.circle={renderCanvas:function(e,t,n,i){i.arc(e,t,n,r.Angles.Degrees0,r.Angles.Degrees360)},renderSvg:function(e,t,n,r){return'<circle cx="'.concat(e,'" cy="').concat(t,'" r="').concat(n,'" ').concat(r," />")}},u.diamond=s(i(4)),u.dot={renderCanvas:function(e,t,n,i){i.arc(e,t,n/8,r.Angles.Degrees0,r.Angles.Degrees360)},renderSvg:function(e,t,n,r){return'<circle cx="'.concat(e,'" cy="').concat(t,'" r="').concat(n/8,'" ').concat(r," />")}},u.heptagon=s(i(7)),u["heptagon-inverted"]=a(u.heptagon),u.heptagram=s(o(7)),u["heptagram-inverted"]=a(u.heptagram),u.hexagon=s(i(6)),u.hexagram=s(o(6)),u.octagon=s(i(8)),u.octagram=s(o(8)),u.pentagon=s(i(5)),u["pentagon-inverted"]=a(u.pentagon),u.pentagram=s(o(5)),u["pentagram-inverted"]=a(u.pentagram),u.plus=s([[-1/4,-1],[1/4,-1],[1/4,-1/4],[1,-1/4],[1,1/4],[1/4,1/4],[1/4,1],[-1/4,1],[-1/4,1/4],[-1,1/4],[-1,-1/4],[-1/4,-1/4],[-1/4,-1]]),u.cross=a(u.plus,45),u.square=s([[-1,-1],[-1,1],[1,1],[1,-1],[-1,-1]]),u.tetragram=s(o(4)),u.triangle=s(i(3)),u["triangle-inverted"]=a(u.triangle),u["triangle-right"]=a(u.triangle,90),u["triangle-left"]=a(u.triangle,-90),u.chevron=s([[0,-1],[1,0],[1,1],[0,0],[-1,1],[-1,0],[0,-1]]),u["double-chevron"]=s([[0,-1],[1,-.5],[1,0],[0,-.5],[-1,0],[-1,-.5],[0,-1],null,[0,0],[1,.5],[1,1],[0,.5],[-1,1],[-1,.5],[0,0]]),u["chevron-inverted"]=a(u.chevron),u["double-chevron-inverted"]=a(u["double-chevron"]),u["chevron-right"]=a(u.chevron,90),u["double-chevron-right"]=a(u["double-chevron"],90),u["chevron-left"]=a(u.chevron,-90),u["double-chevron-left"]=a(u["double-chevron"],-90),u.wye=s([[.366025,.211325],[.366025,.943376],[-.366025,.943376],[-.366025,.211325],[-1,-.154701],[-.633975,-.788675],[0,-.42265],[.633975,-.788675],[1,-.154701]]),u["wye-inverted"]=a(u.wye),u.star=u.pentagram,t.default=u},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(24);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){var t,n=[],o=i(Object(r.default)(e));try{for(o.s();!(t=o.n()).done;){var a=t.value,s=a.name||a.id||"";if(a.isLeaf)n.push("".concat(s,":").concat(a.branchLength));else if(a!==e){var u=n.splice(n.length-a.children.length,a.children.length);n.push("(".concat(u.join(","),")").concat(s,":").concat(a.branchLength))}}}catch(e){o.e(e)}finally{o.f()}return"(".concat(n.join(","),");")}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){var n=e.indexOf(t);if(-1===n)return e.concat(t);var r=e.concat();return r.splice(n,1),r}return[t]}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(e,t){var n,i;return!0===(null!==(n=e.props.interactive)&&void 0!==n?n:r.a.interactive)||!0===(null===(i=e.props.interactive)||void 0===i?void 0:i[t])}},function(e,t,n){"use strict";var r=n(13),i=n.n(r),o=n(1),a=n(2);t.a=Object(a.default)((function(e){return e.getStrokeColour()}),(function(e){var t;return null!==(t=e.props.shapeBorderAlpha)&&void 0!==t?t:o.a.shapeBorderAlpha}),(function(e,t){var n=i()(e);return n[3]=255*t,n}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(0);function i(e){var t=e.angle/r.Angles.Degrees360*360;return e.inverted?180-t:360-t}},function(e,t){e.exports=o},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(13),i=n.n(r);function o(e){for(var t=[],n=[e];n.length;){var r=n.pop();Array.isArray(r.children)&&n.push.apply(n,i()(r.children)),t.push(r)}return t.reverse()}},function(e,t,n){"use strict";var r;n.r(t),t.default=function(){return r||(r=document.createElement("canvas").getContext("2d")),r}},function(e,t,n){"use strict";function r(e,t){var n=e.getCanvasSize(),r=e.getDrawingArea(),i=[n.width/2,n.height/2],o=[r.width/2+r.left,r.height/2+r.top],a=[i[0]-o[0],i[1]-o[1]];return[(-t[0]+a[0])/n.width+.5,(-t[1]+a[1])/n.height+.5]}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(26);function i(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"xy",a=e.unprojectPoint(i),s=n/t,u=[a[0]*s,a[1]*s],l=e.projectPoint(u),c=e.getScale(),f="x"===o||"xy"===o?(l[0]-i[0])/c:0,d="y"===o||"xy"===o?(l[1]-i[1])/c:0,h=e.getView(),p=[h.target[0]+f,h.target[1]+d];return Object(r.default)(e,p)}},function(e,t){e.exports=a},function(e,t){e.exports.parse_newick=function(e){for(var t=[],n={},r=e.split(/\s*(;|\(|\)|,|:)\s*/),i=0;i<r.length;i++){var o=r[i];switch(o){case"(":var a={};n.children=[a],t.push(n),n=a;break;case",":a={},t[t.length-1].children.push(a),n=a;break;case")":n=t.pop();break;case":":break;default:var s=r[i-1];")"==s||"("==s||","==s?n.name=o:":"==s&&(n.branch_length=parseFloat(o))}}return n}},function(e,t,n){"use strict";var r=n(0),i=n(2);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=Object(i.default)((function(e){return e.getTreeType()}),(function(e){return e.getGraphAfterLayout()}),(function(e){return e.getBranchScale()}),(function(e){return e.getStepScale()}),(function(e){return e.getScale()}),(function(e){return e.getFontSize()}),(function(e,t,n,i,o,a){if(e===r.TreeTypes.Circular||e===r.TreeTypes.Radial){var s=t.root.totalSubtreeLength*n*o,u=.75*a,l=2*Math.asin(u/(2*s)),c=Math.floor(r.Angles.Degrees360/l);return Math.ceil(t.root.totalLeaves/c)}var f=t.root.totalLeaves*i*o/a,d=t.root.totalLeaves/f;return d<=1?1:Math.pow(2,Math.ceil(Math.log(d)/Math.log(2)))})),u=Object(i.default)((function(e){return e.getGraphWithStyles()}),(function(e){return e.getTreeType()}),s,(function(e,t,n){if(n<=1){var i,a=[],s=o(e.leaves);try{for(s.s();!(i=s.n()).done;){var u=i.value;u.label&&a.push(u)}}catch(e){s.e(e)}finally{s.f()}return a}for(var l=e.leaves.length-(t===r.TreeTypes.Circular||t===r.TreeTypes.Radial?Math.ceil(n/2):0),c=[],f=0;f<e.leaves.length;f++)if(f<l&&f%n==0){var d=e.leaves[f];d.label&&c.push(d)}return c}));u.displayName="labelled-leaf-nodes",t.a=u},function(e,t,n){"use strict";var r=n(2);t.a=Object(r.default)((function(e){return e.getAlignLeafLabels()}),(function(e){return e.getGraphAfterLayout().root.totalSubtreeLength}),(function(e){return e.getBranchScale()}),(function(e){return e.getScale()}),(function(e){return e.getShowShapes()?e.getNodeSize():0}),(function(e,t,n,r,i){return function(o){var a=i/r;return e&&(a+=(t-o.distanceFromRoot)*n),[o.x+a*Math.cos(o.angle),o.y+a*Math.sin(o.angle)]}}))},function(e,t,n){"use strict";var r=n(1);t.a=function(e){var t;return null!==(t=e.props.shapeBorderWidth)&&void 0!==t?t:r.a.shapeBorderWidth}},function(e,t,n){"use strict";var r=n(2),i=n(5),o=n(0);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=Object(r.default)((function(e){return e.getGraphWithStyles()}),(function(e){return e.getAlignLeafLabels()}),(function(e){return e.props.metadata||o.EmptyObject}),(function(e){return e.props.blocks||o.EmptyArray}),(function(e){return e.getMetadataColumnWidth()}),(function(e){return e.getBranchScale()}),(function(e,t,n,r,o,s){var u,l=[],c=a(e.leaves);try{for(c.s();!(u=c.n()).done;){var f=u.value;if(f.shape&&!f.isHidden&&f.id in n)for(var d=n[f.id],h=t?s*(e.root.totalSubtreeLength-f.distanceFromRoot):0,p=[f.x+h*Math.cos(f.angle),f.y+h*Math.sin(f.angle)],v=0,g=0;g<r.length;g++){var y=r[g],m=d[y];m&&m.colour&&l.push({position:p,offsetX:v+o/2,colour:Object(i.default)(m.colour),columnName:y,block:m,node:f}),v+=o}}}catch(e){c.e(e)}finally{c.f()}return l}))},function(e,t,n){"use strict";var r=n(0),i=n(2);t.a=Object(i.default)((function(e){return e.getGraphWithStyles()}),(function(e){return e.getAlignLeafLabels()}),(function(e){return e.hasMetadataLabels()}),(function(e){return e.props.blocks}),(function(e){return e.getMetadataColumnWidth()}),(function(e){return e.getBranchScale()}),(function(e){return e.getBlockSize()}),(function(e,t,n,i,o,a,s){var u=[],l=e.postorderTraversal[e.root.postIndex-e.root.totalNodes+1],c=l.angle>r.Angles.Degrees90&&l.angle<r.Angles.Degrees270,f=t?a*(e.root.totalSubtreeLength-l.distanceFromRoot):0,d=[l.x+f*Math.cos(l.angle),l.y+f*Math.sin(l.angle)],h=l.angle;n||(h-=r.Angles.Degrees90);for(var p=0,v=(0===h?1:-1)*s,g=0;g<i.length;g++){var y=i[g];u.push({node:l,inverted:c,position:d,offsetX:p+o/2,offsetY:v,text:y,angle:360-h/r.Angles.Degrees360*360}),p+=o}return u}))},function(e,t,n){"use strict";var r=n(2);t.a=Object(r.default)((function(e){return e.getPixelOffsets().length}),(function(e){return function(t){var n=t.offsetX+e;return t.offsetY?[n*Math.cos(t.node.angle)+t.offsetY*Math.sin(t.node.angle),n*Math.sin(t.node.angle)+t.offsetY*Math.cos(t.node.angle)]:[n*Math.cos(t.node.angle),n*Math.sin(t.node.angle)]}}))},function(e,t,n){"use strict";t.a=function(e){var t=e.getBlockSize(),n=e.getBlockHeaderFontSize();return Math.min(t,n)}},function(e,t,n){"use strict";n.r(t);var r=n(13),i=n.n(r);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n){var r,a=[],s=o(n.children);try{for(s.s();!(r=s.n()).done;){var u=r.value,l=e.splice(t,u.totalNodes);a.push(l)}}catch(e){s.e(e)}finally{s.f()}for(var c=0,f=a;c<f.length;c++){var d=f[c];e.splice.apply(e,[t,0].concat(i()(d)))}}t.default=function(e,t){var n=e.preorderTraversal,r=e.postorderTraversal;s(n,n.indexOf(t)+1,t);for(var i=0;i<n.length;i++)n[i].preIndex=i;s(r,r.indexOf(t)-t.totalNodes+1,t);for(var o=0;o<r.length;o++)r[o].postIndex=o;t.children.reverse()}},function(e,t,n){"use strict";var r=n(2),i=n(39),o=Object(r.default)((function(e){return e.getScale()}),(function(e){return e.getMaxScale()}),(function(e){var t;return null!==(t=e.props.minLineAlpha)&&void 0!==t?t:71}),(function(e,t,n){if(e<=1)return n;if(e+.01>=t)return 255;var r=Object(i.default)([1,t],[n,255])(e);return Math.floor(r)})),a=Object(r.default)((function(e){return e.getStrokeColour()}),(function(e){return e.props.scaleLineAlpha?o(e):255}),(function(e,t){return[e[0],e[1],e[2],t]}));t.a=a},function(e,t,n){"use strict";n.r(t);var r=n(16),i=n.n(r);t.default=function(e,t){var n=i()(e,2),r=n[0],o=n[1],a=i()(t,2),s=a[0],u=a[1],l=r-1,c=s,f=(u-s)/Math.log10(o-l);return function(e){return f*Math.log10(e-l)+c}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(41),i=n(17);function o(e,t,n,o,a,s,u){if(o<=0||"none"===e)return"";var l=Object(r.default)(e);if(l)return'<text x="'.concat(t,'" y="').concat(n,'" font-size="').concat(2*o,'px" font-family="Segoe UI Emoji" text-anchor="middle" dominant-baseline="middle" fill="').concat(a,'">').concat(l,"</text>");if(e in i.default)return i.default[e].renderSvg(t,n,o,'fill="'.concat(a,'" stroke="').concat(s,'" stroke-width="').concat(u,'"'));throw new Error("Invalid shape ".concat(e))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/i,i={ad:"\ud83c\udde6\ud83c\udde9",ae:"\ud83c\udde6\ud83c\uddea",af:"\ud83c\udde6\ud83c\uddeb",ag:"\ud83c\udde6\ud83c\uddec",ai:"\ud83c\udde6\ud83c\uddee",al:"\ud83c\udde6\ud83c\uddf1",am:"\ud83c\udde6\ud83c\uddf2",ao:"\ud83c\udde6\ud83c\uddf4",aq:"\ud83c\udde6\ud83c\uddf6",ar:"\ud83c\udde6\ud83c\uddf7",as:"\ud83c\udde6\ud83c\uddf8",at:"\ud83c\udde6\ud83c\uddf9",au:"\ud83c\udde6\ud83c\uddfa",aw:"\ud83c\udde6\ud83c\uddfc",ax:"\ud83c\udde6\ud83c\uddfd",az:"\ud83c\udde6\ud83c\uddff",ba:"\ud83c\udde7\ud83c\udde6",bb:"\ud83c\udde7\ud83c\udde7",bd:"\ud83c\udde7\ud83c\udde9",be:"\ud83c\udde7\ud83c\uddea",bf:"\ud83c\udde7\ud83c\uddeb",bg:"\ud83c\udde7\ud83c\uddec",bh:"\ud83c\udde7\ud83c\udded",bi:"\ud83c\udde7\ud83c\uddee",bj:"\ud83c\udde7\ud83c\uddef",bl:"\ud83c\udde7\ud83c\uddf1",bm:"\ud83c\udde7\ud83c\uddf2",bn:"\ud83c\udde7\ud83c\uddf3",bo:"\ud83c\udde7\ud83c\uddf4",bq:"\ud83c\udde7\ud83c\uddf6",br:"\ud83c\udde7\ud83c\uddf7",bs:"\ud83c\udde7\ud83c\uddf8",bt:"\ud83c\udde7\ud83c\uddf9",bv:"\ud83c\udde7\ud83c\uddfb",bw:"\ud83c\udde7\ud83c\uddfc",by:"\ud83c\udde7\ud83c\uddfe",bz:"\ud83c\udde7\ud83c\uddff",ca:"\ud83c\udde8\ud83c\udde6",cc:"\ud83c\udde8\ud83c\udde8",cd:"\ud83c\udde8\ud83c\udde9",cf:"\ud83c\udde8\ud83c\uddeb",cg:"\ud83c\udde8\ud83c\uddec",ch:"\ud83c\udde8\ud83c\udded",ci:"\ud83c\udde8\ud83c\uddee",ck:"\ud83c\udde8\ud83c\uddf0",cl:"\ud83c\udde8\ud83c\uddf1",cm:"\ud83c\udde8\ud83c\uddf2",cn:"\ud83c\udde8\ud83c\uddf3",co:"\ud83c\udde8\ud83c\uddf4",cr:"\ud83c\udde8\ud83c\uddf7",cu:"\ud83c\udde8\ud83c\uddfa",cv:"\ud83c\udde8\ud83c\uddfb",cw:"\ud83c\udde8\ud83c\uddfc",cx:"\ud83c\udde8\ud83c\uddfd",cy:"\ud83c\udde8\ud83c\uddfe",cz:"\ud83c\udde8\ud83c\uddff",de:"\ud83c\udde9\ud83c\uddea",dj:"\ud83c\udde9\ud83c\uddef",dk:"\ud83c\udde9\ud83c\uddf0",dm:"\ud83c\udde9\ud83c\uddf2",do:"\ud83c\udde9\ud83c\uddf4",dz:"\ud83c\udde9\ud83c\uddff",ec:"\ud83c\uddea\ud83c\udde8",ee:"\ud83c\uddea\ud83c\uddea",eg:"\ud83c\uddea\ud83c\uddec",eh:"\ud83c\uddea\ud83c\udded",er:"\ud83c\uddea\ud83c\uddf7",es:"\ud83c\uddea\ud83c\uddf8",et:"\ud83c\uddea\ud83c\uddf9",eu:"\ud83c\uddea\ud83c\uddfa",fi:"\ud83c\uddeb\ud83c\uddee",fj:"\ud83c\uddeb\ud83c\uddef",fk:"\ud83c\uddeb\ud83c\uddf0",fm:"\ud83c\uddeb\ud83c\uddf2",fo:"\ud83c\uddeb\ud83c\uddf4",fr:"\ud83c\uddeb\ud83c\uddf7",ga:"\ud83c\uddec\ud83c\udde6",gb:"\ud83c\uddec\ud83c\udde7",gd:"\ud83c\uddec\ud83c\udde9",ge:"\ud83c\uddec\ud83c\uddea",gf:"\ud83c\uddec\ud83c\uddeb",gg:"\ud83c\uddec\ud83c\uddec",gh:"\ud83c\uddec\ud83c\udded",gi:"\ud83c\uddec\ud83c\uddee",gl:"\ud83c\uddec\ud83c\uddf1",gm:"\ud83c\uddec\ud83c\uddf2",gn:"\ud83c\uddec\ud83c\uddf3",gp:"\ud83c\uddec\ud83c\uddf5",gq:"\ud83c\uddec\ud83c\uddf6",gr:"\ud83c\uddec\ud83c\uddf7",gs:"\ud83c\uddec\ud83c\uddf8",gt:"\ud83c\uddec\ud83c\uddf9",gu:"\ud83c\uddec\ud83c\uddfa",gw:"\ud83c\uddec\ud83c\uddfc",gy:"\ud83c\uddec\ud83c\uddfe",hk:"\ud83c\udded\ud83c\uddf0",hm:"\ud83c\udded\ud83c\uddf2",hn:"\ud83c\udded\ud83c\uddf3",hr:"\ud83c\udded\ud83c\uddf7",ht:"\ud83c\udded\ud83c\uddf9",hu:"\ud83c\udded\ud83c\uddfa",id:"\ud83c\uddee\ud83c\udde9",ie:"\ud83c\uddee\ud83c\uddea",il:"\ud83c\uddee\ud83c\uddf1",im:"\ud83c\uddee\ud83c\uddf2",in:"\ud83c\uddee\ud83c\uddf3",io:"\ud83c\uddee\ud83c\uddf4",iq:"\ud83c\uddee\ud83c\uddf6",ir:"\ud83c\uddee\ud83c\uddf7",is:"\ud83c\uddee\ud83c\uddf8",it:"\ud83c\uddee\ud83c\uddf9",je:"\ud83c\uddef\ud83c\uddea",jm:"\ud83c\uddef\ud83c\uddf2",jo:"\ud83c\uddef\ud83c\uddf4",jp:"\ud83c\uddef\ud83c\uddf5",ke:"\ud83c\uddf0\ud83c\uddea",kg:"\ud83c\uddf0\ud83c\uddec",kh:"\ud83c\uddf0\ud83c\udded",ki:"\ud83c\uddf0\ud83c\uddee",km:"\ud83c\uddf0\ud83c\uddf2",kn:"\ud83c\uddf0\ud83c\uddf3",kp:"\ud83c\uddf0\ud83c\uddf5",kr:"\ud83c\uddf0\ud83c\uddf7",kw:"\ud83c\uddf0\ud83c\uddfc",ky:"\ud83c\uddf0\ud83c\uddfe",kz:"\ud83c\uddf0\ud83c\uddff",la:"\ud83c\uddf1\ud83c\udde6",lb:"\ud83c\uddf1\ud83c\udde7",lc:"\ud83c\uddf1\ud83c\udde8",li:"\ud83c\uddf1\ud83c\uddee",lk:"\ud83c\uddf1\ud83c\uddf0",lr:"\ud83c\uddf1\ud83c\uddf7",ls:"\ud83c\uddf1\ud83c\uddf8",lt:"\ud83c\uddf1\ud83c\uddf9",lu:"\ud83c\uddf1\ud83c\uddfa",lv:"\ud83c\uddf1\ud83c\uddfb",ly:"\ud83c\uddf1\ud83c\uddfe",ma:"\ud83c\uddf2\ud83c\udde6",mc:"\ud83c\uddf2\ud83c\udde8",md:"\ud83c\uddf2\ud83c\udde9",me:"\ud83c\uddf2\ud83c\uddea",mf:"\ud83c\uddf2\ud83c\uddeb",mg:"\ud83c\uddf2\ud83c\uddec",mh:"\ud83c\uddf2\ud83c\udded",mk:"\ud83c\uddf2\ud83c\uddf0",ml:"\ud83c\uddf2\ud83c\uddf1",mm:"\ud83c\uddf2\ud83c\uddf2",mn:"\ud83c\uddf2\ud83c\uddf3",mo:"\ud83c\uddf2\ud83c\uddf4",mp:"\ud83c\uddf2\ud83c\uddf5",mq:"\ud83c\uddf2\ud83c\uddf6",mr:"\ud83c\uddf2\ud83c\uddf7",ms:"\ud83c\uddf2\ud83c\uddf8",mt:"\ud83c\uddf2\ud83c\uddf9",mu:"\ud83c\uddf2\ud83c\uddfa",mv:"\ud83c\uddf2\ud83c\uddfb",mw:"\ud83c\uddf2\ud83c\uddfc",mx:"\ud83c\uddf2\ud83c\uddfd",my:"\ud83c\uddf2\ud83c\uddfe",mz:"\ud83c\uddf2\ud83c\uddff",na:"\ud83c\uddf3\ud83c\udde6",nc:"\ud83c\uddf3\ud83c\udde8",ne:"\ud83c\uddf3\ud83c\uddea",nf:"\ud83c\uddf3\ud83c\uddeb",ng:"\ud83c\uddf3\ud83c\uddec",ni:"\ud83c\uddf3\ud83c\uddee",nl:"\ud83c\uddf3\ud83c\uddf1",no:"\ud83c\uddf3\ud83c\uddf4",np:"\ud83c\uddf3\ud83c\uddf5",nr:"\ud83c\uddf3\ud83c\uddf7",nu:"\ud83c\uddf3\ud83c\uddfa",nz:"\ud83c\uddf3\ud83c\uddff",om:"\ud83c\uddf4\ud83c\uddf2",pa:"\ud83c\uddf5\ud83c\udde6",pe:"\ud83c\uddf5\ud83c\uddea",pf:"\ud83c\uddf5\ud83c\uddeb",pg:"\ud83c\uddf5\ud83c\uddec",ph:"\ud83c\uddf5\ud83c\udded",pk:"\ud83c\uddf5\ud83c\uddf0",pl:"\ud83c\uddf5\ud83c\uddf1",pm:"\ud83c\uddf5\ud83c\uddf2",pn:"\ud83c\uddf5\ud83c\uddf3",pr:"\ud83c\uddf5\ud83c\uddf7",ps:"\ud83c\uddf5\ud83c\uddf8",pt:"\ud83c\uddf5\ud83c\uddf9",pw:"\ud83c\uddf5\ud83c\uddfc",py:"\ud83c\uddf5\ud83c\uddfe",qa:"\ud83c\uddf6\ud83c\udde6",re:"\ud83c\uddf7\ud83c\uddea",ro:"\ud83c\uddf7\ud83c\uddf4",rs:"\ud83c\uddf7\ud83c\uddf8",ru:"\ud83c\uddf7\ud83c\uddfa",rw:"\ud83c\uddf7\ud83c\uddfc",sa:"\ud83c\uddf8\ud83c\udde6",sb:"\ud83c\uddf8\ud83c\udde7",sc:"\ud83c\uddf8\ud83c\udde8",sd:"\ud83c\uddf8\ud83c\udde9",se:"\ud83c\uddf8\ud83c\uddea",sg:"\ud83c\uddf8\ud83c\uddec",sh:"\ud83c\uddf8\ud83c\udded",si:"\ud83c\uddf8\ud83c\uddee",sj:"\ud83c\uddf8\ud83c\uddef",sk:"\ud83c\uddf8\ud83c\uddf0",sl:"\ud83c\uddf8\ud83c\uddf1",sm:"\ud83c\uddf8\ud83c\uddf2",sn:"\ud83c\uddf8\ud83c\uddf3",so:"\ud83c\uddf8\ud83c\uddf4",sr:"\ud83c\uddf8\ud83c\uddf7",ss:"\ud83c\uddf8\ud83c\uddf8",st:"\ud83c\uddf8\ud83c\uddf9",sv:"\ud83c\uddf8\ud83c\uddfb",sx:"\ud83c\uddf8\ud83c\uddfd",sy:"\ud83c\uddf8\ud83c\uddfe",sz:"\ud83c\uddf8\ud83c\uddff",tc:"\ud83c\uddf9\ud83c\udde8",td:"\ud83c\uddf9\ud83c\udde9",tf:"\ud83c\uddf9\ud83c\uddeb",tg:"\ud83c\uddf9\ud83c\uddec",th:"\ud83c\uddf9\ud83c\udded",tj:"\ud83c\uddf9\ud83c\uddef",tk:"\ud83c\uddf9\ud83c\uddf0",tl:"\ud83c\uddf9\ud83c\uddf1",tm:"\ud83c\uddf9\ud83c\uddf2",tn:"\ud83c\uddf9\ud83c\uddf3",to:"\ud83c\uddf9\ud83c\uddf4",tr:"\ud83c\uddf9\ud83c\uddf7",tt:"\ud83c\uddf9\ud83c\uddf9",tv:"\ud83c\uddf9\ud83c\uddfb",tw:"\ud83c\uddf9\ud83c\uddfc",tz:"\ud83c\uddf9\ud83c\uddff",ua:"\ud83c\uddfa\ud83c\udde6",ug:"\ud83c\uddfa\ud83c\uddec",um:"\ud83c\uddfa\ud83c\uddf2",us:"\ud83c\uddfa\ud83c\uddf8",uy:"\ud83c\uddfa\ud83c\uddfe",uz:"\ud83c\uddfa\ud83c\uddff",va:"\ud83c\uddfb\ud83c\udde6",vc:"\ud83c\uddfb\ud83c\udde8",ve:"\ud83c\uddfb\ud83c\uddea",vg:"\ud83c\uddfb\ud83c\uddec",vi:"\ud83c\uddfb\ud83c\uddee",vn:"\ud83c\uddfb\ud83c\uddf3",vu:"\ud83c\uddfb\ud83c\uddfa",wf:"\ud83c\uddfc\ud83c\uddeb",ws:"\ud83c\uddfc\ud83c\uddf8",ye:"\ud83c\uddfe\ud83c\uddea",yt:"\ud83c\uddfe\ud83c\uddf9",za:"\ud83c\uddff\ud83c\udde6",zm:"\ud83c\uddff\ud83c\uddf2",zw:"\ud83c\uddff\ud83c\uddfc"};function o(e){return e in i?i[e]:r.test(e)?e:void 0}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n(0),i=n(43);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n,o,a){var s=Number.MAX_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;if(a)s=-e.root.totalSubtreeLength,u=-e.root.totalSubtreeLength,l=e.root.totalSubtreeLength,c=e.root.totalSubtreeLength;else{var f=Object(i.default)(e.postorderTraversal,t,n,"bx","by");s=f.min[0],u=f.min[1],l=f.max[0],c=f.max[1]}for(var d=(l+s)/2,h=(c+u)/2,p=t;p<=n;p++){var v=e.postorderTraversal[p];v.bx-=d,v.by-=h,o&&(v.bcx-=d,v.bcy-=h),v.angleDegrees=360-v.angle/r.Angles.Degrees360*360}return{min:[s-d,u-h],max:[l-d,c-h]}}function u(e,t,n){var i=e.root.postIndex-e.root.totalNodes+1,a=e.root.postIndex;if(t===r.TreeTypes.Circular){for(var u=0,l=i;l<a;l++){var c=e.postorderTraversal[l];if(c.isLeaf)c.angle=u*(r.Angles.Degrees360/e.root.visibleLeaves);else{var f=c.children[0].angle,d=c.children[c.children.length-1].angle;c.angle=(d+f)/2}c.coangle=c.angle+r.Angles.Degrees90;var h=Math.cos(c.angle),p=Math.sin(c.angle);c.bx=c.distanceFromRoot*h,c.by=c.distanceFromRoot*p,c.bcx=c.parent.distanceFromRoot*h,c.bcy=c.parent.distanceFromRoot*p,c.inverted=c.angle>r.Angles.Degrees90&&c.angle<=r.Angles.Degrees270,c.isHidden||!c.isLeaf&&!c.isCollapsed||(u+=1)}return e.root.bx=0,e.root.by=0,e.root.inverted=e.root.angle>r.Angles.Degrees90&&e.root.angle<=r.Angles.Degrees270,s(e,i,a,!0,n)}if(t===r.TreeTypes.Diagonal){for(var v=0,g=i;g<=a;g++){var y=e.postorderTraversal[g];if(y.angle=r.Angles.Degrees0,y.inverted=!1,y.bx=(e.root.visibleLeaves-y.visibleLeaves)/2,y.isLeaf)y.by=v;else if(y.isCollapsed)y.by=v;else{var m=y.visibleLeaves-y.children[0].visibleLeaves;y.by=y.children[0].by+m/2}y.isLeaf&&(v+=1)}return s(e,i,a)}if(t===r.TreeTypes.Hierarchical){for(var b=0,_=i;_<=a;_++){var w=e.postorderTraversal[_];if(w.angle=r.Angles.Degrees90,w.inverted=!1,w.by=w.distanceFromRoot,w.isLeaf)w.bx=-1*b;else if(w.isCollapsed)w.bx=b;else{var x=w.children[0].bx,k=w.children[w.children.length-1].bx;w.bx=(k+x)/2}w.isHidden||!w.isLeaf&&!w.isCollapsed||(b+=1)}return s(e,i,a)}if(t===r.TreeTypes.Radial){for(var E=0,S=i;S<=a;S++){var T=e.postorderTraversal[S];if(T.isLeaf)T.angle=E*(r.Angles.Degrees360/e.root.visibleLeaves);else{var P,A=0,C=o(T.children);try{for(C.s();!(P=C.n()).done;){var Z=P.value;A+=Z.angle*Z.totalLeaves}}catch(e){C.e(e)}finally{C.f()}T.angle=A/T.totalLeaves}T.isHidden||!T.isLeaf&&!T.isCollapsed||(E+=1)}e.root.bx=e.root.branchLength*Math.cos(e.root.angle),e.root.by=e.root.branchLength*Math.sin(e.root.angle),e.root.inverted=e.root.angle>r.Angles.Degrees90&&e.root.angle<=r.Angles.Degrees270,e.root.quarter=Math.floor(e.root.angle/r.Angles.Degrees90)+1;for(var O=1;O<e.root.totalNodes;O++){var L=e.preorderTraversal[e.root.preIndex+O];L.bx=L.parent.bx+L.branchLength*Math.cos(L.angle),L.by=L.parent.by+L.branchLength*Math.sin(L.angle),L.inverted=L.angle>r.Angles.Degrees90&&L.angle<=r.Angles.Degrees270,L.quarter=Math.floor(L.angle/r.Angles.Degrees90)+1}return s(e,i,a)}if(t===r.TreeTypes.Rectangular){for(var R=0,M=i;M<=a;M++){var I=e.postorderTraversal[M];if(I.angle=r.Angles.Degrees0,I.inverted=!1,I.bx=I.distanceFromRoot,I.isLeaf)I.by=R;else if(I.isCollapsed)I.by=R;else{var N=I.children[0].by,F=I.children[I.children.length-1].by;I.by=(F+N)/2}I.isHidden||!I.isLeaf&&!I.isCollapsed||(R+=1)}return s(e,i,a)}throw new Error("Invalid tree type")}},function(e,t,n){"use strict";function r(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"x",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"y",o=Number.MAX_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER,l=t;l<=n;l++){var c=e[l];c[r]<o&&(o=c[r]),c[i]<a&&(a=c[i]),c[r]>s&&(s=c[r]),c[i]>u&&(u=c[i])}return{min:[o,a],max:[s,u],centre:[(s+o)/2,(u+a)/2],width:s-o,height:u-a}}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t);var r=n(54),i=n.n(r),o=n(45),a=["type","data"],s=n(29);t.default=function(e){performance.mark("parse");var t=e;"string"==typeof e&&(t={type:"newick",data:e});var n=t,r=n.type,u=n.data,l=i()(n,a),c=null;if("newick"===r||void 0===r)performance.mark("parse newick"),c=s.parse_newick(u),performance.measure("  parse newick","parse newick");else{if("biojs"!==r)throw new Error("Source type is not supported: ".concat(r));c=u}performance.mark("treeTraversal");var f=Object(o.default)(c,l);return performance.measure("  treeTraversal","treeTraversal"),performance.measure("parse","parse"),f}},function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){for(var t=[],n=[e];n.length;){var r=n.pop();r.children&&Array.prototype.push.apply(n,r.children),t.push(r)}return t.reverse()}function a(e){for(var t=[],n=[e];n.length;){var r=n.shift();t.push(r),r.children&&Array.prototype.unshift.apply(n,r.children)}return t}function s(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).trimQuotes,n=void 0===t||t;performance.mark("getPostorderTraversal");var i=o(e);performance.measure("    getPostorderTraversal","getPostorderTraversal"),performance.mark("getPreorderTraversal");var s=a(e);performance.measure("    getPreorderTraversal","getPreorderTraversal");var u=i.every((function(e){return 0===(e.branchLength||e.branch_length||0)}));if(u){e.branchLength=0;for(var l=0;l<s.length;l++){var c=s[l];if(c.children){var f,d=r(c.children);try{for(d.s();!(f=d.n()).done;)f.value.branchLength=c.branchLength+1}catch(e){d.e(e)}finally{d.f()}}}}performance.mark("bottom-up traversal");for(var h=0;h<i.length;h++){var p=i[h];if(p.postIndex=h,p.isLeaf=!Array.isArray(p.children),p.branchLength=Math.abs(p.branchLength||p.branch_length||0),delete p.branch_length,p.isLeaf&&"string"==typeof p.name&&(p.id=n?p.name.trim().replace(/^['"]|['"]$/g,""):p.name,delete p.name),p.totalNodes=1,p.totalLeaves=1,p.totalSubtreeLength=0,!p.isLeaf){p.totalNodes=1,p.totalLeaves=0;var v,g=0,y=r(p.children);try{for(y.s();!(v=y.n()).done;){var m=v.value;p.totalNodes+=m.totalNodes,p.totalLeaves+=m.totalLeaves,m.totalSubtreeLength+m.branchLength>g&&(g=m.totalSubtreeLength+m.branchLength),m.parent=p}}catch(e){y.e(e)}finally{y.f()}p.totalSubtreeLength=g}}performance.measure("    bottom-up traversal","bottom-up traversal"),performance.mark("top-down traversal");for(var b={},_=0;_<s.length;_++){var w=s[_];w.preIndex=_,w.id||(w.id=_.toString()),b[w.id]=w,w.visibleLeaves=w.totalLeaves,w.isCollapsed=!1,w.isHidden=!1}return performance.measure("    top-down traversal","top-down traversal"),{nodeById:b,rootNode:e,postorderTraversal:i,preorderTraversal:s}}n.r(t),n.d(t,"default",(function(){return s}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(25);function i(e,t,n){var i=Object(r.default)();i.font="".concat(n,"px ").concat(t);var o=i.measureText(e);return Math.ceil(o.width)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var r=n(6),i=n.n(r),o=n(8),a=n.n(o),s=n(9),u=n.n(s),l=n(14),c=n.n(l),f=n(10),d=n.n(f),h=n(11),p=n.n(h),v=n(3),g=n.n(v),y=n(7),m=n(15);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}function x(e){return function(t){d()(r,t);var n=w(r);function r(){return a()(this,r),n.apply(this,arguments)}return u()(r,[{key:"getPointFromEvent",value:function(e){var t=this.getCenter(e);return!!this.isPointInBounds(t,e)&&t}},{key:"calculateScaleDeltaFromWheelDelta",value:function(e){var t=2/(1+Math.exp(-Math.abs(.01*e)));return e<0&&0!==t?1/t:t}},{key:"_onWheel",value:function(t){if(t.srcEvent.metaKey||t.srcEvent.ctrlKey){t.preventDefault();var n=this.getPointFromEvent(t);if(n){var i=this.calculateScaleDeltaFromWheelDelta(t.delta),o=Object(m.default)(i),a=e.getBranchZoom()+o;e.setBranchZoom(a,n)}return!0}if(t.srcEvent.altKey||t.srcEvent.shiftKey){t.preventDefault();var s=this.getPointFromEvent(t);if(s){var u=this.calculateScaleDeltaFromWheelDelta(t.delta),l=Object(m.default)(u),f=e.getStepZoom()+l;e.setStepZoom(f,s)}return!0}return c()(g()(r.prototype),"_onWheel",this).call(this,t)}},{key:"zoomIn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:64,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getCanvasCentrePoint(),r=this.calculateScaleDeltaFromWheelDelta(t);this.zoom(r,n)}},{key:"zoomOut",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:64,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getCanvasCentrePoint(),r=this.calculateScaleDeltaFromWheelDelta(-t);this.zoom(r,n)}},{key:"zoom",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getCanvasCentrePoint(),r=this.ControllerState;this.controllerState=new r(_(_({makeViewport:this.makeViewport},this.controllerStateProps),this._state));var i=this.controllerState.zoom({pos:n,scale:t});this.updateViewport(i,{transitionDuration:0},{isZooming:!0,isPanning:!0})}}]),r}(y.OrthographicController)}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n){var r=e[t];e[t]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return n.call(e,r.bind(e),i)}}n.r(t),t.default=function(e,t,n){var i,a=r(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;if("function"!=typeof s)throw new Error("Invalid plugin");s.call(e,e,o.bind(e,e),n)}}catch(e){a.e(e)}finally{a.f()}}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(51);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(50),i=n(55);function o(t,n,a){return i()?(e.exports=o=Reflect.construct,e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},e.exports.default=e.exports,e.exports.__esModule=!0),o.apply(null,arguments)}e.exports=o,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(89);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";function r(e,t,n){var r={id:e,isVisible:t,renderLayer:n};return this.layers.push(r),r}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(18);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(){var e,t=this.getGraphAfterLayout(),n=i(t.postorderTraversal);try{for(n.s();!(e=n.n()).done;){var o=e.value;o.children&&o.children.sort((function(e,t){return t.totalNodes-e.totalNodes}))}}catch(e){n.e(e)}finally{n.f()}this.setSource(Object(r.default)(t.root),this.props.source)}},function(e,t,n){var r=n(51);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=function(){switch(this.getTreeType()){case r.TreeTypes.Rectangular:return"x";case r.TreeTypes.Hierarchical:return"y";case r.TreeTypes.Circular:case r.TreeTypes.Radial:return"xy";default:return}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(19);function i(e){var t=this.findNodeById(e);if(t){var n=Object(r.default)(this.props.collapsedIds,t.id);this.setProps({collapsedIds:n})}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(18);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(){var e,t=this.getGraphAfterLayout(),n=i(t.postorderTraversal);try{for(n.s();!(e=n.n()).done;){var o=e.value;o.children&&o.children.sort((function(e,t){return e.totalNodes-t.totalNodes}))}}catch(e){n.e(e)}finally{n.f()}this.setSource(Object(r.default)(t.root),this.props.source)}},function(e,t,n){"use strict";function r(){this.deck.finalize(),this.deck=void 0,delete this.deck,this.cache.clear(),this.cache=void 0,delete this.cache,this.view=void 0,delete this.view,this.layers=void 0,delete this.layers}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return JSON.stringify(this.props,t,e)}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";function r(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getGraphAfterLayout(),r=e?this.findNodeById(e):n.root,i=t.excludeCollapsed,o=void 0===i||i,a=[],s=r.postIndex-r.totalNodes+1;s<r.postIndex;s++){var u=n.postorderTraversal[s];if(u.isLeaf)a.push("".concat(u.label||u.id,":").concat(u.branchLength));else if(o&&u.isCollapsed)a.push("[".concat(u.totalLeaves," hidden ").concat(1===u.totalLeaves?"leaf":"leaves","]:").concat(u.branchLength));else{var l=a.splice(a.length-u.children.length,u.children.length);a.push("(".concat(l.join(","),"):").concat(u.branchLength))}}return"(".concat(a.join(","),");")}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";function r(){this.deck.setProps({glOptions:{preserveDrawingBuffer:!0}}),this.deck.redraw(!0);var e=this.deck.canvas.toDataURL();return this.deck.setProps({glOptions:void 0}),this.deck.redraw(!0),e}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var r=n(16),i=n.n(r),o=n(30),a=n(31),s=n(32),u=n(21),l=n(33),c=n(34),f=n(35),d=n(36),h=n(38),p=n(40),v=n(0);function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=i()(e,4),r=n[0],o=n[1],a=n[2],s=n[3],u=void 0===s?255:s;return 0===u?"none":t||255===u?"rgb(".concat(r,", ").concat(o,", ").concat(a,")"):"rgba(".concat(r,", ").concat(o,", ").concat(a,", ").concat(u/255,")")}function b(e,t,n,r){return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}}function _(e,t,n,r,i){var o=b(e,t,n,i),a=b(e,t,n,r),s=i-r<=Math.PI?"0":"1",u=["M",o.x,o.y,"A",n,n,0,s,0,a.x,a.y];return'<path fill="none" d="'.concat(u.join(" "),'" />')}function w(){var e=this.getGraphAfterLayout(),t=this.getCanvasSize(),n=this.getTreeType(),r=.5*this.getNodeSize(),y=[],b=this.getDrawingArea(),w=[b.width/2+b.left,b.height/2+b.top];y.push('<svg viewBox="0 0 '.concat(t.width," ").concat(t.height,'" xmlns="http://www.w3.org/2000/svg">\n')),y.push('<g transform="translate('.concat(w.join(" "),')" >\n'));var x=this.getStrokeWidth(),k=m(Object(h.a)(this));y.push('<g stroke="'.concat(k,'" stroke-width="').concat(x,'" >\n'));for(var E=e.firstIndex+1;E<e.lastIndex;E++){var S=e.preorderTraversal[E];if(n===v.TreeTypes.Circular){if(y.push('<line x1="'.concat(S.x,'" y1="').concat(S.y,'" x2="').concat(S.cx,'" y2="').concat(S.cy,'"  />\n')),S.children&&S.children.length&&!S.isCollapsed){var T=S.children[0],P=S.children[S.children.length-1];y.push(_(e.root.x,e.root.y,S.dist,T.angle,P.angle))}}else n===v.TreeTypes.Diagonal||n===v.TreeTypes.Radial?y.push('<line x1="'.concat(S.x,'" y1="').concat(S.y,'" x2="').concat(S.parent.x,'" y2="').concat(S.parent.y,'"  />\n')):n===v.TreeTypes.Hierarchical?(y.push('<line x1="'.concat(S.x,'" y1="').concat(S.y,'" x2="').concat(S.x,'" y2="').concat(S.parent.y,'"  />\n')),y.push('<line x1="'.concat(S.x,'" y1="').concat(S.parent.y,'" x2="').concat(S.parent.x,'" y2="').concat(S.parent.y,'"  />\n'))):n===v.TreeTypes.Rectangular&&(y.push('<line x1="'.concat(S.x,'" y1="').concat(S.y,'" x2="').concat(S.parent.x,'" y2="').concat(S.y,'"  />\n')),y.push('<line x1="'.concat(S.parent.x,'" y1="').concat(S.y,'" x2="').concat(S.parent.x,'" y2="').concat(S.parent.y,'"  />\n')));S.isCollapsed&&(E+=S.totalNodes-1)}y.push("</g>\n");var A="",C="";this.props.showShapeBorders&&(A=Object(s.a)(this),C=m(Object(u.a)(this))),y.push("<g>\n");for(var Z=e.firstIndex;Z<e.lastIndex;Z++){var O=e.preorderTraversal[Z];O.isLeaf&&O.shape&&!O.isHidden&&(y.push(Object(p.default)(O.shape,O.x,O.y,r,m(O.fillColour),C,A)),y.push("\n")),O.isCollapsed&&(Z+=O.totalNodes-1)}if(y.push("</g>\n"),this.props.showLabels&&this.props.showLeafLabels){var L=Object(o.a)(this),R=Object(a.a)(this),M=this.getFontFamily(),I=this.getFontSize();y.push('<g font-family="'.concat(M.replace(/"/g,"'"),'" font-size="').concat(I,'">\n'));var N,F=g(L);try{for(F.s();!(N=F.n()).done;){var j=N.value,D=R(j),z=i()(D,2),B=z[0],U=z[1],V=j.angle/v.Angles.Degrees360*360+(j.inverted?180:0);y.push('<text x="'.concat(B,'" y="').concat(U,'" text-anchor="').concat(j.inverted?"end":"start",'" dominant-baseline="middle" transform="rotate(').concat(V,",").concat(B,",").concat(U,')">').concat(j.label,"</text>\n"))}}catch(e){F.e(e)}finally{F.f()}y.push("</g>\n")}var G,W=this.getPixelOffsets().length,H=this.getBlockSize(),X=H/2,Y=this.getStepScale(),K=!this.isOrthogonal()||Y>H?H:Y,q=K/2,Q=g(Object(l.a)(this));try{for(Q.s();!(G=Q.n()).done;){var $=G.value,J=$.node.angle/v.Angles.Degrees360*360+($.node.inverted?180:0),ee=$.position[0]+($.offsetX+W)*Math.cos($.node.angle),te=$.position[1]+($.offsetX+W)*Math.sin($.node.angle);y.push('<rect x="'.concat(ee-X,'" y="').concat(te-q,'" width="').concat(H,'" height="').concat(K,'" transform="rotate(').concat(J,",").concat(ee,",").concat(te,')" fill="').concat(m($.colour),'" />\n'))}}catch(e){Q.e(e)}finally{Q.f()}if(this.hasMetadataHeaders()){var ne=Object(c.a)(this),re=this.getFontFamily(),ie=Object(d.a)(this),oe=Object(f.a)(this);y.push('<g font-family="'.concat(re.replace(/"/g,"'"),'" font-size="').concat(ie,'">\n'));var ae,se=g(ne);try{for(se.s();!(ae=se.n()).done;){var ue=ae.value,le=oe(ue),ce=i()(le,2),fe=ce[0],de=ce[1],he=i()(ue.position,2),pe=he[0],ve=he[1],ge=pe+fe,ye=ve+de,me=ue.angle+180;y.push('<text x="'.concat(ge,'" y="').concat(ye,'" text-anchor="').concat(ue.inverted?"end":"start",'" dominant-baseline="middle" transform="rotate(').concat(me,",").concat(ge,",").concat(ye,')">').concat(ue.text,"</text>\n"))}}catch(e){se.e(e)}finally{se.f()}y.push("</g>\n")}return y.push("</g>\n"),y.push("</svg>\n"),new Blob(y,{type:"image/svg+xml"})}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";function r(e){var t,n=this.getGraphAfterLayout();"string"==typeof e||"number"==typeof e?t=e:e&&"id"in e&&(t=e.id);var r=n.ids[t];return null!=r?r:void 0}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(){this.setProps({branchZoom:r.a.branchZoom,centre:r.a.centre,stepZoom:r.a.stepZoom,zoom:r.a.zoom})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(0),i=n(1);function o(){switch(this.getTreeType()){case r.TreeTypes.Circular:case r.TreeTypes.Hierarchical:case r.TreeTypes.Rectangular:return this.props.alignLabels||i.a.alignLabels;case r.TreeTypes.Diagonal:case r.TreeTypes.Radial:return!1;default:return}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(){var e;return null!==(e=this.props.blockHeaderFontSize)&&void 0!==e?e:r.a.blockHeaderFontSize}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(){return this.props.blockPadding||r.a.blockPadding}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(){return this.props.blockSize||r.a.blockSize}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n(0),i=n(2),o=n(12),a=Object(i.default)((function(e){return e.getGraphBeforeLayout()}),(function(e){return e.getTreeType()}),(function(e){return e.getDrawingArea()}),(function(e,t,n){if(e.root.totalSubtreeLength>0)switch(t){case r.TreeTypes.Diagonal:case r.TreeTypes.Rectangular:return n.width/e.root.totalSubtreeLength;case r.TreeTypes.Hierarchical:return n.height/e.root.totalSubtreeLength;case r.TreeTypes.Circular:case r.TreeTypes.Radial:var i=e.width,o=e.height;return n.width/i>n.height/o?n.height/o:n.width/i}throw new Error("Cannot compute default branch scale")}));a.displayName="branchRatio";var s=Object(i.default)(a,(function(e){return e.getBranchZoom()}),(function(e,t){return e*Object(o.default)(t)}));function u(){return s(this)}s.displayName="branch-scale"},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(){var e;return null!==(e=this.props.branchZoom)&&void 0!==e?e:r.a.branchZoom}},function(e,t,n){"use strict";function r(){return[this.props.size.width/2,this.props.size.height/2]}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t);var r=n(1);t.default=function(){return this.props.size||r.a.size}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(1),i=n(2),o=Object(i.default)((function(e){return e.getCanvasSize()}),(function(e){return e.props.treeToCanvasRatio||r.a.treeToCanvasRatio}),(function(e){return e.getPadding()}),(function(e){return e.getPixelOffsets()}),(function(e,t,n,r){var i=n+r.left,o=n+r.top,a=e.width-n-r.right,s=e.height-n-r.bottom,u=a-i;if(u<e.width*t){var l=e.width*(.5-t/2),c=e.width*(.5+t/2);i>l&&a<c?(i=l,a=c):i>l?i=e.width*t:a<c&&(a=e.width*t),u=a-i}var f=s-o;if(f<e.height*t){var d=e.height*(.5-t/2),h=e.height*(.5+t/2);o>d&&s<h?(o=d,s=h):o>d?o=e.height*t:s<h&&(s=e.height*t),f=s-o}return{width:u,height:f,left:i,top:o,right:a,bottom:s}}));function a(){return o(this)}o.displayName="drawing-area"},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(1),i=n(5);function o(){return Object(i.default)(this.props.fillColour||r.a.fillColour)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(){return this.props.fontFamily||r.a.fontFamily}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(){return this.props.fontSize||r.a.fontSize}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n(6),i=n.n(r),o=n(0),a=n(2);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return{min:[e.min[0]*t,e.min[1]*n],max:[e.max[0]*t,e.max[1]*n]}}var c=Object(a.default)((function(e){return e.getGraphBeforeLayout()}),(function(e){return e.getTreeType()}),(function(e){return e.getBranchScale()}),(function(e){return e.getStepScale()}),(function(e,t,n,r){var i=e.root.postIndex-e.root.totalNodes+1,a=e.root.postIndex;if(t===o.TreeTypes.Circular){e.root.x=e.root.bx*n,e.root.y=e.root.by*n;for(var s=0;s<e.root.totalNodes;s++){var c=e.preorderTraversal[e.root.preIndex+s];c.x=c.bx*n,c.y=c.by*n,c.dist=c.distanceFromRoot*n,c.cx=c.bcx*n,c.cy=c.bcy*n}return u(u({},e),{},{bounds:l(e.bounds,n,n)})}if(t===o.TreeTypes.Diagonal){e.root.x=e.root.bx*r,e.root.y=e.root.by*r;for(var f=1;f<e.root.totalNodes;f++){var d=e.preorderTraversal[e.root.preIndex+f];d.x=d.bx*r,d.y=d.by*r}return u(u({},e),{},{bounds:l(e.bounds,n,r)})}if(t===o.TreeTypes.Hierarchical){for(var h=i;h<=a;h++){var p=e.postorderTraversal[h];p.x=p.bx*r,p.y=p.by*n}return u(u({},e),{},{bounds:l(e.bounds,n,r)})}if(t===o.TreeTypes.Radial){e.root.x=e.root.bx*n,e.root.y=e.root.by*n;for(var v=1;v<e.root.totalNodes;v++){var g=e.preorderTraversal[e.root.preIndex+v];g.x=g.bx*n,g.y=g.by*n}return u(u({},e),{},{bounds:l(e.bounds,n,n)})}if(t===o.TreeTypes.Rectangular){for(var y=i;y<=a;y++){var m=e.postorderTraversal[y];m.x=m.bx*n,m.y=m.by*r}return u(u({},e),{},{bounds:l(e.bounds,n,r)})}throw new Error("Invalid tree type")}));function f(){return c(this)}c.displayName="graph-after-layout"},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(6),i=n.n(r),o=n(2),a=n(42);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=Object(o.default)((function(e){return e.getGraphWithoutLayout()}),(function(e){return e.getTreeType()}),(function(e){return e.getAlignLeafLabels()&&e.hasLeafLabels()}),(function(e,t,n){var r=Object(a.default)(e,t,n);return u(u({},e),{},{width:2*Math.max(-r.min[0],r.max[0]),height:2*Math.max(-r.min[1],r.max[1]),bounds:r})}));function c(){return l(this)}l.displayName="graph-before-layout"},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n(6),i=n.n(r),o=n(2),a=n(44),s=n(37);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=Object(o.default)((function(e){return e.props.source}),(function(e){var t=Object(a.default)(e),n=t.nodeById,r=t.rootNode;return{ids:n,postorderTraversal:t.postorderTraversal,preorderTraversal:t.preorderTraversal,source:e,originalRoot:r,originalSource:e.original||e}}));d.displayName="parse-source";var h=Object(o.default)(d,(function(e){return e.props.rotatedIds}),(function(e,t){for(var n=new Set(t||[]),r=0;r<e.postorderTraversal.length;r++){var i=e.preorderTraversal[r];i.isRotated&&!n.has(i.id)?(Object(s.default)(e,i),i.isRotated=!1):!i.isRotated&&n.has(i.id)&&(Object(s.default)(e,i),i.isRotated=!0)}return n}));h.displayName="rotate-nodes";var p=Object(o.default)(d,(function(e){return e.props.collapsedIds}),(function(e,t){for(var n=new Set(t),r=1;r<e.postorderTraversal.length;r++){var i=e.preorderTraversal[r];i.isCollapsed=n.has(i.id),i.isHidden=i.parent.isCollapsed||i.parent.isHidden}for(var o=0;o<e.postorderTraversal.length;o++){var a=e.postorderTraversal[o];if(a.isLeaf)a.visibleLeaves=1;else if(a.isCollapsed)a.visibleLeaves=1;else{a.visibleLeaves=0;var s,u=c(a.children);try{for(u.s();!(s=u.n()).done;){var l=s.value;a.visibleLeaves+=l.visibleLeaves}}catch(e){u.e(e)}finally{u.f()}}}return n}));p.displayName="collapse-nodes";var v=Object(o.default)(d,(function(e){return e.props.rootId}),h,p,(function(e,t){var n=e.ids[t]||e.preorderTraversal[0];n.distanceFromRoot=0;for(var r=1;r<n.totalNodes;r++){var i=e.preorderTraversal[n.preIndex+r];i.distanceFromRoot=i.parent.distanceFromRoot+i.branchLength}for(var o=n.preIndex,a=n.preIndex+n.totalNodes,s=[],u=1;u<n.totalNodes;u++){var c=e.preorderTraversal[n.preIndex+u];c.isLeaf&&s.push(c),c.isCollapsed&&(u+=c.totalNodes-1)}return l(l({},e),{},{root:n,firstIndex:o,lastIndex:a,leaves:s})}));function g(){return v(this)}v.displayName="graph-without-layout"},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n(6),i=n.n(r),o=n(1),a=n(2),s=n(5);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={},d=Object(a.default)((function(e){return e.getGraphAfterLayout()}),(function(e){return e.props.styles||o.a.styles}),(function(e){return e.props.styleNodeEdges||o.a.styleNodeEdges}),(function(e){return e.props.showPiecharts||o.a.showPiecharts}),(function(e){var t;return null!==(t=e.props.nodeShape)&&void 0!==t?t:o.a.nodeShape}),(function(e){return e.getFillColour()}),(function(e){return e.getStrokeColour()}),(function(e,t,n,r,o,a,c){for(var d=e.root.preIndex,h=e.root.preIndex+e.root.totalNodes,p=d;p<h;p++){var v=e.preorderTraversal[p];if(v.isLeaf){var g=t[v.id]||f;v.shape=void 0===g.shape?o:g.shape,v.fillColour=g.fillColour?Object(s.default)(g.fillColour):a,v.strokeColour=n&&g.strokeColour?Object(s.default)(g.strokeColour):c,v.label=void 0===g.label?v.id:g.label}!r&&v.isCollapsed&&(p+=v.totalNodes-1)}if(n)for(var y=e.root.postIndex-e.root.totalNodes+1,m=e.root.postIndex,b=y;b<=m;b++){var _=e.postorderTraversal[b];if(!_.isLeaf){_.strokeColour=_.children[0].strokeColour;var w,x=l(_.children);try{for(x.s();!(w=x.n()).done;)if(w.value.strokeColour!==_.strokeColour){_.strokeColour=c;break}}catch(e){x.e(e)}finally{x.f()}}}return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}));function h(){return d(this)}d.displayName="graph-with-styles"},function(e,t,n){"use strict";function r(){var e;return void 0!==(null!==(e=this.props.highlightedId)&&void 0!==e?e:void 0)?this.getGraphAfterLayout().ids[this.props.highlightedId]:null}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(0);function i(){var e=this.getTreeType(),t=this.getCanvasSize(),n=this.getNodeSize(),i=this.getStepScale();switch(e){case r.TreeTypes.Hierarchical:return t.width/(2*i);case r.TreeTypes.Diagonal:case r.TreeTypes.Rectangular:return t.height/(2*i);case r.TreeTypes.Radial:case r.TreeTypes.Circular:return Math.max(t.width,t.height)/n}return Number.MAX_SAFE_INTEGER}},function(e,t,n){"use strict";n.r(t);var r=n(15);t.default=function(){return Object(r.default)(this.getMaxScale())}},function(e,t,n){"use strict";function r(){return this.getBlockSize()+this.getBlockPadding()}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(){var e;return null!==(e=this.props.minScale)&&void 0!==e?e:r.a.minScale}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(15);function i(){return Object(r.default)(this.getMinScale())}},function(e,t,n){"use strict";n.r(t);var r=n(1);t.default=function(){return this.props.nodeSize||r.a.nodeSize}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(){var e;return null!==(e=this.props.padding)&&void 0!==e?e:r.a.padding}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(0),i=n(2),o=n(46),a=Object(i.default)((function(e){return e.getGraphWithoutLayout()}),(function(e){return e.props.styles||r.EmptyObject}),(function(e,t){for(var n="",r=0;r<e.root.totalNodes;r++){var i=e.preorderTraversal[e.root.preIndex+r];if(i.isLeaf&&!i.isHidden){var o=(i.id in t?t[i.id].label:null)||i.label||i.id;o.length>n.length&&(n=o)}}return n}));a.displayName="longest-label";var s=Object(i.default)(a,(function(e){return e.getFontFamily()}),(function(e){return e.getFontSize()}),o.default);s.displayName="max-label-width",s.metadataTotalLengthMemo="metadata-total-length";var u=Object(i.default)((function(e){return e.getTreeType()}),(function(e){return e.getShowShapes()?e.getNodeSize():0}),(function(e){return e.hasLeafLabels()?s(e):0}),(function(e){return e.hasMetadataHeaders()?e.getFontSize():0}),(function(e){return e.hasMetadata()?function(e){return e.getMetadataColumnWidth()*(e.props.blocks||r.EmptyArray).length}(e):0}),(function(e,t,n,i,o){var a=0;a+=t,a+=n,a+=o;var s=0,u=0,l=0,c=0;switch(e){case r.TreeTypes.Rectangular:case r.TreeTypes.Diagonal:l=Math.max(i,t/2),u=a,c=t/2;break;case r.TreeTypes.Hierarchical:s=Math.max(i,t/2),c=a,l=t/2;break;case r.TreeTypes.Circular:case r.TreeTypes.Radial:s=a,l=a,u=a,c=a}return{length:t+n,left:s,top:l,right:u,bottom:c}}));function l(){return u(this)}u.displayName="pixel-offsets"},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(12);function i(){var e;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Object(r.default)(this.getZoom()):null!==(e=this.props.fixedScale)&&void 0!==e?e:Object(r.default)(this.getZoom())}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(){var e;return null!==(e=this.props.showShapes)&&void 0!==e?e:r.a.showShapes}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n(0),i=n(2),o=n(12),a=Object(i.default)((function(e){return e.getGraphWithoutLayout()}),(function(e){return e.getTreeType()}),(function(e){return e.getDrawingArea()}),(function(e,t,n){if(t===r.TreeTypes.Rectangular||t===r.TreeTypes.Diagonal)return n.height/e.root.visibleLeaves;if(t===r.TreeTypes.Hierarchical)return n.width/e.root.visibleLeaves;if(t===r.TreeTypes.Circular||t===r.TreeTypes.Radial)return r.Angles.Degrees360/e.root.visibleLeaves;throw new Error("Invalid tree type")}));a.displayName="step-ratio";var s=Object(i.default)(a,(function(e){return e.getStepZoom()}),(function(e,t){return e*Object(o.default)(t)}));function u(){return s(this)}s.displayName="step-scale"},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(){var e;return null!==(e=this.props.stepZoom)&&void 0!==e?e:r.a.stepZoom}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(0);function i(){switch(this.getTreeType()){case r.TreeTypes.Hierarchical:return"x";case r.TreeTypes.Diagonal:case r.TreeTypes.Rectangular:return"y";default:return}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(1),i=n(5);function o(){var e;return Object(i.default)(null!==(e=this.props.strokeColour)&&void 0!==e?e:r.a.strokeColour)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(){var e;return null!==(e=this.props.strokeWidth)&&void 0!==e?e:r.a.strokeWidth}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(){return this.props.type||r.a.type}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n(1),i=n(2),o=Object(i.default)((function(e){var t;return null!==(t=e.props.centre)&&void 0!==t?t:r.a.centre}),(function(e){return e.getCanvasSize()}),(function(e){return e.getDrawingArea()}),(function(e,t,n){var r=[t.width/2,t.height/2],i=[n.width/2+n.left,n.height/2+n.top],o=[r[0]-i[0],r[1]-i[1]];return[-((e[0]-.5)*t.width-o[0]),-((e[1]-.5)*t.height-o[1])]})),a=Object(i.default)(o,(function(e){var t;return null!==(t=e.props.zoom)&&void 0!==t?t:r.a.zoom}),(function(e){return e.getMaxZoom()}),(function(e){return e.getMinZoom()}),(function(e,t,n,r){return{target:e,zoom:t,maxZoom:n,minZoom:r}}));function s(){return a(this)}},function(e,t,n){"use strict";function r(){var e=this.getGraphAfterLayout().bounds,t=this.getPixelOffsets(),n=this.getScale();return{min:[e.min[0]-t.left/n,e.min[1]-t.top/n],max:[e.max[0]+t.right/n,e.max[1]+t.bottom/n]}}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(){var e;return null!==(e=this.props.zoom)&&void 0!==e?e:r.a.zoom}},function(e,t,n){"use strict";function r(e,t){var n=this.pickNodeFromLayer(e);this.selectNode(n,t.srcEvent.metaKey||t.srcEvent.ctrlKey)}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t);var r=n(20);t.default=function(e,t){var n=Object(r.default)(this,"highlight"),i=Object(r.default)(this,"tooltip");if(n||i){var o=this.pickNodeFromLayer(e);if(n&&this.highlightNode(o,t.srcEvent.metaKey||t.srcEvent.ctrlKey),i){var a="";if(o){var s,u,l=null!==(s=o.label)&&void 0!==s?s:o.id;o.isLeaf?a=l:(a+="Leaves in subtree: ".concat(o.totalLeaves,"."),o.label&&(a+=" Subtree label: ".concat(o.label,"."))),e.object.columnName&&e.object.block&&(a+=". ".concat(e.object.columnName,": ").concat(null!==(u=e.object.block.label)&&void 0!==u?u:e.object.block.colour,"."))}this.setTooltip(a)}}}},function(e,t,n){"use strict";function r(){return this.props.showLabels&&this.props.showLeafLabels}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";function r(){return!!this.props.metadata&&this.props.blocks&&this.props.blocks.length}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(0);function i(){if(this.hasMetadata()&&this.props.showLabels&&this.props.showBlockHeaders){var e=this.getTreeType();return e===r.TreeTypes.Diagonal||this.props.alignLabels&&(e===r.TreeTypes.Rectangular||e===r.TreeTypes.Hierarchical)}return!1}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(){var e;return this.props.showLabels&&(null!==(e=this.props.showBlockLabels)&&void 0!==e?e:r.a.showBlockLabels)}},function(e,t,n){"use strict";function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=null!==t?this.findNodeById(t):null,r=n&&!n.isHidden?n.id:null;(null!==(e=this.props.highlightedId)&&void 0!==e?e:null)!==r&&this.setProps({highlightedId:r},"hover")}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t),t.default=function(e,t){this.setProps(JSON.parse(e,t))}},function(e,t,n){var r=n(3);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.getCanvasSize();return e[0]>=t&&e[0]<=n.width-t&&e[1]>=t&&e[1]<=n.height-t}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(0);function i(){switch(this.getTreeType()){case r.TreeTypes.Diagonal:case r.TreeTypes.Hierarchical:case r.TreeTypes.Rectangular:return!0;case r.TreeTypes.Circular:case r.TreeTypes.Radial:return!1;default:throw new Error("Invalid tree type")}}},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.projectPoint(e);return this.isCanvasPointOnScreen(n,t)}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t);var r=n(18);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var e,t=this.getGraphAfterLayout(),n=[],o=i(t.leaves);try{for(o.s();!(e=o.n()).done;){for(var a=e.value,s=[],u=a;u.parent;)s.unshift(u.parent),u=u.parent;n.push(s)}}catch(e){o.e(e)}finally{o.f()}for(var l,c,f=0,d=0;d<t.leaves.length;d++)for(var h=d+1;h<t.leaves.length;h++){for(var p=t.leaves[d],v=t.leaves[h],g=void 0,y=0;y<n[d].length&&y<n[h].length&&n[d][y]===n[h][y];y++)g=n[d][y];var m=p.distanceFromRoot+v.distanceFromRoot-2*g.distanceFromRoot;m>f&&(f=m,l=p,c=v)}var b=f/2,_=l.distanceFromRoot>b?l:c,w=n[t.leaves.indexOf(_)];w.push(_);var x,k,E=_.distanceFromRoot-b,S=i(w);try{for(S.s();!(k=S.n()).done;){var T=k.value;if(T.distanceFromRoot>E){x=T;break}}}catch(e){S.e(e)}finally{S.f()}var P={branchLength:0,children:[]};x.branchLength=x.parent.distanceFromRoot-E,function e(t,n,r,o){var a={branchLength:o.branchLength,children:[],parent:r};r.children.push(a);var s,u=i(o.parent.children);try{for(u.s();!(s=u.n()).done;){var l=s.value;l!==o&&a.children.push(l)}}catch(e){u.e(e)}finally{u.f()}o.parent.parent&&o.parent!==n&&e(t,n,a,o.parent)}(this,t.root,P,x),P.children.push(x),x.branchLength=x.distanceFromRoot-E,x.parent=P;var A={type:"newick",original:this.props.source,data:Object(r.default)(P)};this.setSource(A)}},function(e,t,n){"use strict";function r(e,t){var n=this.deck.pickObject({x:e,y:t});return n?this.pickNodeFromLayer(n):null}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";function r(e){var t,n,r=e.layer,i=e.object;return r&&i&&("shapes"===r.id||"edges"===r.id||"leaf-labels"===r.id?n=i:"piecharts"===r.id||"metadata"===r.id?n=i.node:this.log&&this.log("Unknown layer ".concat(r.id))),null!==(t=n)&&void 0!==t?t:null}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){var n=this.getView(this).target,r=null!=t?t:this.getScale(),i=this.getCanvasCentrePoint();return[(e[0]-n[0])*r+i[0],(e[1]-n[1])*r+i[1]]}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.r(t),t.default=function(){if(this.deferred.count>0)return this.deferred.render=!0,void(this.log&&this.log("render is suspended"));var e=performance.now();this.getGraphAfterLayout();var t,n=performance.now(),i=[],o=r(this.layers);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(!0===a.isVisible||a.isVisible(this.props)){a.renderer||(a.renderer=a.renderLayer(this));var s=a.renderer(this);i.push(s)}else a.renderer=null}}catch(e){o.e(e)}finally{o.f()}var u=this.getView(),l=performance.now();this.view.style.width="".concat(this.props.size.width,"px"),this.view.style.height="".concat(this.props.size.height,"px"),this.deck.setProps({viewState:u,width:this.props.size.width,height:this.props.size.height,layers:i});var c=performance.now();this.log&&this.log("layout took ",n-e," milliseconds.","\nrender took ",l-n," milliseconds.","\nupdate took ",c-l," milliseconds.")}},function(e,t,n){"use strict";n.r(t);var r=n(24);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){var t,n=[],o=i(Object(r.default)(e));try{for(o.s();!(t=o.n()).done;){var a=t.value;if(a.isLeaf)n.push("".concat(a.id,":").concat(a.branchLength));else if(a!==e){var s=n.splice(n.length-a.children.length,a.children.length);n.push("(".concat(s.join(","),")").concat(a.name||"",":").concat(a.branchLength))}}}catch(e){o.e(e)}finally{o.f()}return"(".concat(n.join(","),");")}t.default=function(e){var t=this.findNodeById(e),n=this.getGraphAfterLayout();if(t.parent){var r={branchLength:0,children:[]};!function e(t,n,r,o){var a={branchLength:o.branchLength,children:[],parent:r,name:o.name};r.children.push(a);var s,u=i(o.parent.children);try{for(u.s();!(s=u.n()).done;){var l=s.value;l!==o&&a.children.push(l)}}catch(e){u.e(e)}finally{u.f()}o.parent.parent&&o.parent!==n&&e(t,n,a,o.parent)}(this,n.root,r,t),r.children.push(t);var o={type:"newick",original:this.props.source,data:a(r)};this.setSource(o)}}},function(e,t,n){"use strict";n.r(t),t.default=function(e,t){this.setProps({size:{width:e,height:t}})}},function(e,t,n){"use strict";n.r(t),t.default=function(){this.deferred.count>0&&(this.deferred.count-=1),0===this.deferred.count&&this.deferred.render&&(this.render(),this.deferred.render=!1)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(19);function i(e){var t=this.findNodeById(e);t&&this.setProps({rotatedIds:Object(r.default)(this.props.rotatedIds,t.id)})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n(0);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&e.length){var n,o=new Set(e),a=i(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;o.add(s)}}catch(e){a.e(e)}finally{a.f()}return Array.from(o)}return t.length?t:r.EmptyArray}function s(e,t){e&&Array.isArray(e)&&this.setProps({selectedIds:a(this.props.selectedIds,e,t)})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(1),i=n(19);function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e?this.findNodeById(e):null;if(n&&n.isLeaf){var o=Object(i.default)(this.props.selectedIds,n.id,t);this.setProps({selectedIds:o})}else n||this.setProps({selectedIds:r.a.selectedIds})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(1),i=n(27),o=n(12);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCanvasCentrePoint(),n=this.branchZoomingAxis();if(n){var a=null!=e?e:r.a.branchZoom;if(t){var s,u=null!==(s=this.props.branchZoom)&&void 0!==s?s:r.a.branchZoom,l=Object(o.default)(u),c=Object(o.default)(a),f=Object(i.default)(this,l,c,t,n);this.setProps({centre:f,branchZoom:a})}else this.setProps({branchZoom:a})}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n(6),i=n.n(r);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){e&&(this.props=Object.freeze(a(a({},this.props),e))),this.render()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(6),i=n.n(r),o=n(0),a=n(1);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.EmptyObject,n=this.findNodeById(e);this.setProps(u({rootId:n?n.id:null,centre:a.a.centre,branchZoom:a.a.branchZoom,stepZoom:a.a.stepZoom,zoom:a.a.zoom},t))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(1),i=n(15);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCanvasCentrePoint(),n=null!=e?e:r.a.scale,o=Object(i.default)(n);this.setZoom(o,t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(e,t){var n=e;t&&(n={type:"newick",original:t,data:e}),this.setProps({source:n,rootId:r.a.rootId,collapsedIds:r.a.collapsedIds,rotatedIds:r.a.rotatedId,centre:r.a.centre,branchZoom:r.a.branchZoom,stepZoom:r.a.stepZoom,zoom:r.a.zoom})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(1),i=n(27),o=n(12);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCanvasCentrePoint(),n=this.getStepZoomingAxis();if(n){var a=null!=e?e:r.a.stepZoom;if(t){var s,u=null!==(s=this.props.stepZoom)&&void 0!==s?s:r.a.stepZoom,l=Object(o.default)(u),c=Object(o.default)(a),f=Object(i.default)(this,l,c,t,n);this.setProps({centre:f,stepZoom:a})}else this.setProps({stepZoom:a})}}},function(e,t,n){"use strict";function r(e){this.view.title=e?"".concat(e).concat("\u200b".repeat(Math.floor(16*Math.random()))):""}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(1);function i(e){this.setProps({type:e,centre:r.a.centre,branchZoom:r.a.branchZoom,stepZoom:r.a.stepZoom,zoom:r.a.zoom})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(12);function i(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this.getView(),o=null!==(e=n.zoom)&&void 0!==e?e:i.zoom,a=null!==(t=n.centre)&&void 0!==t?t:i.centre;if(o<i.zoom){var s=this.getGraphAfterLayout().bounds,u=this.getPixelOffsets(),l=Object(r.default)(this.getZoom()),c=this.getPadding(),f={min:[s.min[0]-u.left/l,s.min[1]-u.top/l],max:[s.max[0]+u.right/l,s.max[1]+u.bottom/l]};if(this.isCanvasPointOnScreen(this.projectPoint(f.min,l),c)&&this.isCanvasPointOnScreen(this.projectPoint(f.max,l),c))return}this.setProps({fixedScale:n.fixedScale,centre:a,zoom:o},"viewport")}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(1),i=n(12);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCanvasCentrePoint(),n=null!=e?e:r.a.zoom;if(t){var o=this.getScale(),a=Object(i.default)(n)/o;this.deck.viewManager.controllers.OrthographicView.zoom(a,t)}else this.setView({zoom:n})}},function(e,t,n){"use strict";n.r(t),t.default=function(){this.deferred.count+=1}},function(e,t,n){"use strict";function r(e){var t=this.getView(this).target,n=this.getScale(),r=this.getCanvasCentrePoint();return[t[0]+(e[0]-r[0])/n,t[1]+(e[1]-r[1])/n]}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){var n=e.getDrawingArea(),r=e.getCanvasSize(),i=[r.width/2,r.height/2],o=[n.width/2+n.left,n.height/2+n.top],a=[i[0]-o[0],i[1]-o[1]];return[-((t[0]-.5)*r.width-a[0]),-((t[1]-.5)*r.height-a[1])]}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(13),i=n.n(r);function o(e){for(var t=[],n=[e];n.length;){var r=n.shift();t.push(r),Array.isArray(r.children)&&n.unshift.apply(n,i()(r.children))}return t}},function(e,t,n){"use strict";n.r(t);var r=n(7),i=n(0),o=n(1),a=n(47),s=n(20),u=n(26),l=n(4),c=n(2),f=n(5),d=Object(c.default)((function(e){return e.props.fontColour||o.a.fontColour}),f.default),h=Object(c.default)((function(e){return e.getGraphAfterLayout()}),(function(e){for(var t=[],n=e.firstIndex+1;n<e.lastIndex;n++){var r=e.preorderTraversal[n];t.push(r),r.isCollapsed&&(n+=r.totalNodes-1)}return t})),p=Object(c.default)((function(e){return e.getFontSize()}),(function(e){return function(t){var n=e/3;return[(t.inverted?-1:1)*n*Math.sin(t.angle),(t.inverted?1:-1)*n*Math.cos(t.angle)]}})),v=Object(c.default)((function(e){return e.getTreeType()}),(function(e){return e.getBranchScale()}),(function(e){return e.getFontSize()}),(function(e){return e.getScale()}),(function(e,t,n,r){return function(n){if(e===i.TreeTypes.Diagonal)return[(n.x+n.parent.x)/2,(n.y+n.parent.y)/2];var r=n.branchLength*t/-2;return e===i.TreeTypes.Rectangular?[n.x+r,n.y]:e===i.TreeTypes.Hierarchical?[n.x,n.y+r]:[n.x+r*Math.cos(n.angle),n.y+r*Math.sin(n.angle)]}})),g=Object(c.default)((function(e){var t;return null!==(t=e.props.branchLengthsFormat)&&void 0!==t?t:o.a.branchLengthsFormat}),(function(e){var t;return null!==(t=e.props.branchLengthsDigits)&&void 0!==t?t:o.a.branchLengthsDigits}),(function(e,t){return"decimal"===e?function(e){var n;return null===(n=e.branchLength)||void 0===n?void 0:n.toFixed(t)}:"scientific"===e?function(e){var n;return null===(n=e.branchLength)||void 0===n?void 0:n.toExponential(t)}:function(e){var t;return null===(t=e.branchLength)||void 0===t?void 0:t.toString()}})),y=n(22),m=function(){return Object(c.default)(h,(function(e){var t;return null!==(t=e.props.branchLabelsFontSize)&&void 0!==t?t:.6*e.getFontSize()}),(function(e){return e.getFontFamily()}),d,p,v,g,(function(e,t,n,r,i,o,a){return new l.TextLayer({data:e,fontFamily:n,getAngle:y.default,getColor:r,getPixelOffset:i,getPosition:o,getSize:t,getText:a,getTextAnchor:"middle",id:"branch-labels",updateTriggers:{getPixelOffset:i,getText:a}})}))},b=n(13),_=n.n(b),w=n(38),x=Object(c.default)(w.a,(function(e){var t;return null!==(t=e.props.styleNodeEdges)&&void 0!==t?t:o.a.styleNodeEdges}),(function(e){var t;return Object(f.default)(null!==(t=e.props.highlightColour)&&void 0!==t?t:o.a.highlightColour)}),(function(e){return e.getHighlightedNode()}),(function(e,t,n,r){return r||t?function(i){if(r&&i.preIndex>r.preIndex&&i.preIndex<r.preIndex+r.totalNodes)return n;if(t){var o=_()(i.strokeColour);return o[3]=e[3],o}return e}:e})),k=n(8),E=n.n(k),S=n(9),T=n.n(S),P=n(10),A=n.n(P),C=n(11),Z=n.n(C),O=n(3),L=n.n(O),R=n(6),M=n.n(R),I=n(14),N=n.n(I),F=n(28),j=n.n(F),D=n(23);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L()(e);if(t){var i=L()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var V={strokeWidth:{type:"number",min:0,value:1},getCentrePoint:{type:"accessor",value:function(e){return e.centrePoint}},getEndAngle:{type:"accessor",value:function(e){return e.endAngle}},getStartAngle:{type:"accessor",value:function(e){return e.startAngle}},getRadius:{type:"accessor",value:function(e){return e.radius}},getColor:{type:"accessor",value:[0,0,0,255]}},G=function(e){A()(n,e);var t=U(n);function n(){return E()(this,n),t.apply(this,arguments)}return T()(n,[{key:"getShaders",value:function(){return{vs:"#define SHADER_NAME circular-curve-layer-vertex-shader\n#define TWO_PI radians(360.0)\n\nattribute vec3 positions;\nattribute vec3 instanceCentrePoints;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute float instanceRadius;\nattribute float instanceStartAngle;\nattribute float instanceEndAngle;\n\nuniform float numSegments;\nuniform float strokeWidth;\nuniform float opacity;\n\nvarying vec4 vColor;\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset_screenspace = dir_screenspace * offset_direction * strokeWidth / 2.0;\n  vec2 offset_clipspace = project_pixel_size_to_clipspace(offset_screenspace).xy;\n\n  return offset_clipspace;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / numSegments);\n}\n\nvec4 computeArcCurve(vec3 centrePoint, float radius, float startAngle, float arcAngle, float segmentRatio) {  \n  float angle = startAngle + (arcAngle * segmentRatio);\n\n  vec3 instancePoint = vec3(\n    centrePoint.x + (cos(angle) * radius),\n    centrePoint.y + (sin(angle) * radius),\n    0.0\n  );\n\n  vec3 pointPos = project_position(instancePoint);\n  vec4 point = project_common_position_to_clipspace(vec4(pointPos, 1.0));\n\n  return point;\n}\n\nvoid main(void) {\n  float arcAngle = (instanceEndAngle > instanceStartAngle) ? (instanceEndAngle - instanceStartAngle) : (TWO_PI + (instanceEndAngle - instanceStartAngle));\n\n  // linear interpolation of source & target to pick right coord\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  vec4 p = computeArcCurve(instanceCentrePoints, instanceRadius, instanceStartAngle, arcAngle, segmentRatio);\n\n  // next point\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  vec4 nextP = computeArcCurve(instanceCentrePoints, instanceRadius, instanceStartAngle, arcAngle, nextSegmentRatio);\n\n  // extrude\n  float direction = float(positions.y);\n  direction = indexDir *  direction;\n  vec2 offset = getExtrusionOffset(nextP.xy - p.xy, direction);\n  gl_Position = p + vec4(offset, 0.0, 0.0);\n\n  // Color\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:"#define SHADER_NAME circular-curve-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",modules:[r.project32,r.picking]}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instanceCentrePoints:{size:3,transition:!1,accessor:"getCentrePoint"},instanceColors:{size:4,type:j.a.UNSIGNED_BYTE,transition:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceStartAngle:{size:1,transition:!0,accessor:"getStartAngle",defaultValue:1},instanceEndAngle:{size:1,transition:!0,accessor:"getEndAngle",defaultValue:1}})}},{key:"updateState",value:function(e){var t=e.props,r=e.oldProps,i=e.changeFlags;if(N()(L()(n.prototype),"updateState",this).call(this,{props:t,oldProps:r,changeFlags:i}),i.extensionsChanged){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)})}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props.strokeWidth;this.state.model.setUniforms(B(B({},t),{},{strokeWidth:n})).draw()}},{key:"_getModel",value:function(e){for(var t=[],n=0;n<=40;n++)t=t.concat([n,-1,0,n,1,0]);var r=new D.Model(e,B(B({},this.getShaders()),{},{id:this.props.id,geometry:new D.Geometry({drawMode:j.a.TRIANGLE_STRIP,attributes:{positions:new Float32Array(t)}}),isInstanced:!0,shaderCache:this.context.shaderCache}));return r.setUniforms({numSegments:40}),r}},{key:"calculateInstanceSourceTargetPositions64xyLow",value:function(e){var t=this.props,n=t.data,i=t.getSourcePosition,o=t.getTargetPosition,a=e.value,s=e.size,u=0;n.forEach((function(e){var t=i(e),n=o(e);a[u+0]=Object(r.fp64LowPart)(t[0]),a[u+1]=Object(r.fp64LowPart)(t[1]),a[u+2]=Object(r.fp64LowPart)(n[0]),a[u+3]=Object(r.fp64LowPart)(n[1]),u+=s}))}}]),n}(r.Layer);function W(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L()(e);if(t){var i=L()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}G.layerName="CircularArcLayer",G.defaultProps=V;var Y=Object.freeze([]),K=function(e){A()(n,e);var t=X(n);function n(){return E()(this,n),t.apply(this,arguments)}return T()(n,[{key:"updateState",value:function(e){var t=e.props,n=e.changeFlags;if(n.dataChanged){for(var r={roots:[t.data.root],nodes:[]},o=t.data.firstIndex+1;o<t.data.lastIndex;o++){var a=t.data.preorderTraversal[o];r.nodes.push(a),a.isCollapsed&&(o+=a.totalNodes-1)}if(this.props.treeType===i.TreeTypes.Circular&&n.dataChanged){r.nodesWithChldren=[];var s,u=W(r.nodes);try{for(u.s();!(s=u.n()).done;){var l=s.value;l.children&&l.children.length&&l.children.length>1&&r.nodesWithChldren.push(l)}}catch(e){u.e(e)}finally{u.f()}}this.setState(r)}}},{key:"renderLayers",value:function(){var e=this.state,t=e.nodes,n=e.roots,r=[];if(this.props.treeType===i.TreeTypes.Rectangular)r.push(new l.LineLayer({data:t,getColor:this.props.getColor,getWidth:this.props.lineWidth,id:"edges-vertical-lines",pickable:!0,updateTriggers:this.props.updateTriggers,getSourcePosition:function(e){return[e.parent.x,e.y]},getTargetPosition:function(e){return[e.x,e.y]}})),r.push(new l.LineLayer({data:t,getColor:this.props.getColor,getWidth:this.props.lineWidth,id:"edges-horizontal-lines",pickable:!0,updateTriggers:this.props.updateTriggers,getSourcePosition:function(e){return[e.parent.x,e.parent.y]},getTargetPosition:function(e){return[e.parent.x,e.y]}}));else if(this.props.treeType===i.TreeTypes.Hierarchical)r.push(new l.LineLayer({data:t,getColor:this.props.getColor,getWidth:this.props.lineWidth,id:"edges-vertical-lines",pickable:!0,updateTriggers:this.props.updateTriggers,getSourcePosition:function(e){return[e.x,e.parent.y]},getTargetPosition:function(e){return[e.x,e.y]}})),r.push(new l.LineLayer({data:t,getColor:this.props.getColor,getWidth:this.props.lineWidth,id:"edges-horizontal-lines",pickable:!0,updateTriggers:this.props.updateTriggers,getSourcePosition:function(e){return[e.parent.x,e.parent.y]},getTargetPosition:function(e){return[e.x,e.parent.y]}}));else if(this.props.treeType===i.TreeTypes.Diagonal||this.props.treeType===i.TreeTypes.Radial)r.push(new l.LineLayer({data:t,getColor:this.props.getColor,getWidth:this.props.lineWidth,id:"edges-parent-lines",pickable:!0,updateTriggers:this.props.updateTriggers,getSourcePosition:function(e){return[e.parent.x,e.parent.y]},getTargetPosition:function(e){return[e.x,e.y]}}));else if(this.props.treeType===i.TreeTypes.Circular){var o=this.state.nodesWithChldren;r.push(new l.LineLayer({data:t,getColor:this.props.getColor,getWidth:this.props.lineWidth,id:"edges-central-lines",pickable:!0,updateTriggers:this.props.updateTriggers,getSourcePosition:function(e){return[e.x,e.y]},getTargetPosition:function(e){return[e.cx,e.cy]}})),r.push(new G({data:o,getColor:this.props.getColor,id:"edges-arcs",pickable:!0,strokeWidth:this.props.lineWidth,updateTriggers:this.props.updateTriggers,getCentrePoint:[this.props.data.root.x,this.props.data.root.y],getEndAngle:function(e){return e.children[e.children.length-1].angle},getStartAngle:function(e){return e.children[0].angle},getRadius:function(e){return e.dist}}))}return this.props.treeType===i.TreeTypes.Rectangular||this.props.treeType===i.TreeTypes.Diagonal?r.push(new l.LineLayer({data:n,getColor:this.props.getColor,getWidth:this.props.lineWidth,id:"edges-root-line",pickable:!0,updateTriggers:this.props.updateTriggers,getSourcePosition:function(e){return[e.x,e.y]},getTargetPosition:function(e){return[e.x-10,e.y]}})):this.props.treeType===i.TreeTypes.Hierarchical&&r.push(new l.LineLayer({data:n,getColor:this.props.getColor,getWidth:this.props.lineWidth,id:"edges-root-line",pickable:!0,updateTriggers:this.props.updateTriggers,getSourcePosition:function(e){return[e.x,e.y]},getTargetPosition:function(e){return[e.x,e.y-10]}})),r}}]),n}(r.CompositeLayer);K.defaultProps={data:{type:"data",value:Y,async:!0},getColor:{type:"accessor",value:function(e){return e.fillColour}},lineWidth:1},K.componentName="EdgesLayer";var q=function(){return Object(c.default)((function(e){return e.getGraphAfterLayout()}),(function(e){return e.getTreeType()}),(function(e){return e.getStrokeWidth()}),x,(function(e,t,n,r){return new K({treeType:t,getColor:r,id:"edges",data:e,lineWidth:n,updateTriggers:{getColor:r}})}))},Q=Object(c.default)((function(e){return e.props.haloWidth||o.a.haloWidth}),(function(e){return e.props.nodeSize||o.a.nodeSize}),(function(e){return e.props.haloRadius||o.a.haloRadius}),(function(e,t,n){return{width:e,leaf:Math.max(.75*t,n)+e/2,internal:e+e/2}})),$=Object(c.default)((function(e){return e.getGraphAfterLayout()}),(function(e){var t;return null!==(t=e.props.highlightedId)&&void 0!==t?t:o.a.highlightedId}),(function(e,t){return void 0!==(null!=t?t:void 0)?[e.ids[t]]:i.EmptyArray})),J=function(){return Object(c.default)($,(function(e){var t;return Object(f.default)(null!==(t=e.props.highlightColour)&&void 0!==t?t:o.a.highlightColour)}),(function(e){return e.props.haloWidth||o.a.haloWidth}),Q,(function(e){return.5*e.getNodeSize()}),(function(e,t,n,r,i){return new l.ScatterplotLayer({id:"highlights",data:e,getPosition:function(e){return[e.x,e.y]},getRadius:function(e){var t=r.leaf;return e.isLeaf||(t=e.isCollapsed?i+e.ratio*i+n:r.internal),t},getLineWidth:n,getLineColor:t,filled:!1,stroked:!0,radiusUnits:"pixels",lineWidthUnits:"pixels"})}))},ee=Object(c.default)((function(e){return e.props.fontColour||o.a.fontColour}),f.default),te=Object(c.default)((function(e){return e.getGraphAfterLayout()}),(function(e){return e.props.internalLabelsFilterRange}),(function(e,t){for(var n=[],r=e.firstIndex;r<e.lastIndex;r++){var i=e.preorderTraversal[r];i.isLeaf||i.isHidden||!i.name||(t?i.name>=t[0]&&i.name<=t[1]&&n.push(i):n.push(i)),i.isCollapsed&&(r+=i.totalNodes-1)}return n})),ne=Object(c.default)((function(e){return e.getFontSize()}),(function(e){return[e/2,0]}));function re(e){return e.name}function ie(e){return[e.x,e.y]}function oe(e){return e.inverted?"end":"start"}var ae=function(){return Object(c.default)(te,(function(e){var t;return null!==(t=e.props.internalLabelsFontSize)&&void 0!==t?t:e.getFontSize()}),(function(e){return e.getFontFamily()}),ee,ne,(function(e){return e.props.showInternalLabels}),(function(e,t,n,r,i){return new l.TextLayer({id:"internal-labels",data:e,getSize:t,getColor:r,fontFamily:n,getPosition:ie,getText:re,getPixelOffset:i,getTextAnchor:oe})}))},se=Object(c.default)((function(e){return e.props.fontColour||o.a.fontColour}),f.default),ue=function(e){var t=se(e);return e.props.styleLeafLabels||o.a.styleLeafLabels?function(e){var n;return null!==(n=e.fillColour)&&void 0!==n?n:t}:t},le=n(30),ce=n(31);function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L()(e);if(t){var i=L()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function de(e){return e.inverted?"end":"start"}function he(e){return e.label}function pe(e){return[e.x,e.y]}var ve=function(e){A()(n,e);var t=fe(n);function n(){return E()(this,n),t.apply(this,arguments)}return T()(n,[{key:"renderLayers",value:function(){var e=[new l.TextLayer({id:"leaf-labels-text",data:this.props.data,getSize:this.props.fontSize,getPosition:this.props.getTextPosition,getText:he,getAngle:y.default,getColor:this.props.fontColour,fontFamily:this.props.fontFamily,getTextAnchor:de,backgroundColor:this.props.backgroundColour,updateTriggers:{getPosition:this.props.updateTriggers.getTextPosition},pickable:!0})];return this.props.highlightedNode&&e.push(new l.TextLayer({id:"leaf-labels-highlight",data:[this.props.highlightedNode],getSize:this.props.fontSize,getPosition:this.props.getTextPosition,getText:he,getAngle:y.default,getColor:this.props.highlightColour,fontFamily:this.props.fontFamily,getTextAnchor:de,backgroundColor:this.props.backgroundColour})),this.props.alignLeafLabels&&e.push(new l.LineLayer({id:"leaf-labels-lines",data:this.props.data,getSourcePosition:this.props.getTextPosition,getTargetPosition:pe,getColor:this.props.lineColour,getWidth:this.props.lineWidth,opacity:.54,updateTriggers:{getSourcePosition:this.props.updateTriggers.getTextPosition}})),e}}]),n}(r.CompositeLayer);ve.componentName="LeafLabelsLayer",ve.defaultProps={alignLeafLabels:!1,getTextPosition:{type:"accessor",value:function(e){return[e.x,e.y]}},fontSize:16,fontFamily:"Monaco, monospace",fontColour:[0,0,0,255],lineWidth:1,lineColour:[0,0,0,255]};var ge,ye=function(){return Object(c.default)(le.a,(function(e){return e.getFontSize()}),(function(e){return e.getFontFamily()}),ue,(function(e){return e.props.backgroundColour||o.a.backgroundColour}),(function(e){return e.getStrokeWidth()}),(function(e){return e.getStrokeColour()}),(function(e){return e.getAlignLeafLabels()}),ce.a,(function(e){return e.getHighlightedNode()}),(function(e){var t;return Object(f.default)(null!==(t=e.props.highlightColour)&&void 0!==t?t:o.a.highlightColour)}),(function(e,t,n,r,i,o,a,s,u,l,c){return new ve({alignLeafLabels:s,backgroundColour:i,data:e,fontColour:r,fontFamily:n,fontSize:t,getTextPosition:u,highlightColour:c,highlightedNode:l,id:"leaf-labels",lineColour:a,lineWidth:.5*o,updateTriggers:{getTextPosition:u}})}))},me=n(36),be=n(33),_e=n(34),we=n(35),xe=n(17);function ke(e,t){var n=Object.keys(xe.default),r=e-t,i=r/16,o=e,a=document.createElement("canvas");a.width=n.length*o,a.height=e;var s=a.getContext("2d");s.fillStyle="black",s.strokeStyle="red",s.lineWidth=i,s.globalAlpha=1;for(var u=0;u<n.length;u++){var l=n[u];s.save(),s.translate(u*o+o/2,o/2),s.beginPath(),s.fillStyle="black",xe.default[l].renderCanvas(0,0,r/2,s),s.fill(),s.closePath(),s.restore()}return a.toDataURL()}function Ee(e,t){for(var n=Object.keys(xe.default),r=e,i=e-t,o={},a=0;a<n.length;a++)o[n[a]]={x:a*r+t/2,y:t/2,width:i,height:i,mask:!0};return o}var Se=function(){return ge||(ge=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:64)+e;return{image:ke(t,e),mapping:Ee(t,e)}}()),ge};function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L()(e);if(t){var i=L()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ce=function(e){A()(n,e);var t=Ae(n);function n(){return E()(this,n),t.apply(this,arguments)}return T()(n,[{key:"getShaders",value:function(e){return Pe(Pe({},N()(L()(n.prototype),"getShaders",this).call(this)),{},{fs:"#define SHADER_NAME scatterplot-layer-fragment-shader\n\nuniform float maxSizeRatio;\n\nprecision highp float;\n\nuniform bool filled;\nuniform float stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\n  // float inCircle = smoothedge(distToCenter, outerRadiusPixels);\n\n  // if (inCircle == 0.0) {\n  //   discard;\n  // }\n\n  if (maxSizeRatio < 1.0) {\n    if (unitPosition.y > maxSizeRatio) {\n      discard;\n    }\n    if (unitPosition.y < -maxSizeRatio) {\n      discard;\n    }\n  }\n\n  if (stroked > 0.5) {\n    float isLine = smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter);\n    if (filled) {\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\n    } else {\n      if (isLine == 0.0) {\n        discard;\n      }\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n    }\n  } else if (filled) {\n    gl_FragColor = vFillColor;\n  } else {\n    discard;\n  }\n\n  // gl_FragColor.a *= inCircle;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nattribute float instanceAngles;\nattribute vec2 instancePixelOffset;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\nuniform bool billboard;\nuniform int radiusUnits;\nuniform int lineWidthUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n\n  // Multiply out radius and clamp to limits\n  outerRadiusPixels = clamp(\n    project_size_to_pixel(radiusScale * instanceRadius, radiusUnits),\n    radiusMinPixels, radiusMaxPixels\n  );\n  \n  // Multiply out line width and clamp to limits\n  float lineWidthPixels = clamp(\n    project_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),\n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n\n  // outer radius needs to offset by half stroke width\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\n  \n  if (billboard) {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = positions * outerRadiusPixels;\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset = positions * project_pixel_size(outerRadiusPixels);\n\n    offset = vec3(rotate_by_angle(vec2(offset.x, offset.y), instanceAngles), 0.0);\n    offset += vec3(project_pixel_size(instancePixelOffset), 0.0);\n  \n    // vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\n  }\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n"})}},{key:"initializeState",value:function(){N()(L()(n.prototype),"initializeState",this).call(this),this.getAttributeManager().addInstanced({instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}},{key:"draw",value:function(e){var t=e.uniforms,r=this.props.maxSizeRatio;this.state.model.setUniforms({maxSizeRatio:r}),N()(L()(n.prototype),"draw",this).call(this,{uniforms:t})}},{key:"_getModel",value:function(e){return new D.Model(e,Pe(Pe({},this.getShaders()),{},{id:this.props.id,geometry:new D.Geometry({drawMode:j.a.TRIANGLE_FAN,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0}))}}]),n}(l.ScatterplotLayer);function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L()(e);if(t){var i=L()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ce.defaultProps={getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]}},Ce.componentName="BlockLayer";var Oe=[0,0,0,64],Le=function(e){A()(n,e);var t=Ze(n);function n(){return E()(this,n),t.apply(this,arguments)}return T()(n,[{key:"renderLayers",value:function(){return[new Ce({autoHighlight:!0,data:this.props.blocks,getAngle:function(e){return e.node.angleDegrees},getColor:function(e){return e.colour},getFillColor:function(e){return e.colour},getIcon:function(){return"square"},getPixelOffset:this.props.getPixelOffset,getRadius:this.props.blockSize/2,maxSizeRatio:!this.props.isOrthogonal||this.props.stepSize>this.props.blockSize?1:this.props.stepSize/this.props.blockSize,highlightColor:Oe,iconAtlas:Se.image,iconMapping:Se.mapping,id:"metadata-blocks",pickable:!0,radiusUnits:"pixels",updateTriggers:{getPixelOffset:this.props.getPixelOffset}}),new l.TextLayer({data:this.props.headers,fontFamily:this.props.fontFamily,getAngle:function(e){return e.angle},getColor:this.props.fontColour,getPixelOffset:this.props.getPixelOffset,getSize:this.props.fontSize,getTextAnchor:function(e){return e.inverted?"end":"start"},id:"metadata-headers",updateTriggers:{getPixelOffset:this.props.getPixelOffset},visible:this.props.hasHeaders})]}}]),n}(r.CompositeLayer);Le.componentName="MetadataLayer";var Re=function(){return Object(c.default)(be.a,(function(e){return e.getBlockSize()}),(function(e){return e.getStepScale()*e.getScale()}),_e.a,(function(e){return e.getFontFamily()}),me.a,we.a,(function(e){return e.hasMetadataHeaders()}),(function(e){return e.isOrthogonal()}),(function(e,t,n,r,i,o,a,s,u){return new Le({blocks:e,blockSize:t,stepSize:n,fontColour:Object(f.default)("black"),fontFamily:i,fontSize:o,isOrthogonal:u,getPixelOffset:a,hasHeaders:s,headers:r,id:"metadata"})}))},Me=n(21),Ie=n(16),Ne=n.n(Ie);function Fe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var De=Object(c.default)((function(e){return e.getGraphWithStyles()}),(function(e){return e.props.collapsedIds||o.a.collapsedIds}),(function(e,t){var n,r=[],o=0,a=Fe(t);try{for(a.s();!(n=a.n()).done;){var s=n.value,u=e.ids[s];if(!u.isHidden){for(var l=u.postIndex-u.totalNodes+1,c=u.postIndex,f=new Map,d=0,h=l;h<=c;h++){var p=e.postorderTraversal[h];p.isLeaf&&p.shape&&(d+=1,f.set(p.fillColour,(f.get(p.fillColour)||0)+1))}o+=d;var v,g=i.Angles.Degrees0,y=Fe(f.entries());try{for(y.s();!(v=y.n()).done;){var m=Ne()(v.value,2),b=m[0],_=m[1]/d,w=g+i.Angles.Degrees360*_;r.push({node:u,colour:b,startAngle:g,endAngle:w}),g=w}}catch(e){y.e(e)}finally{y.f()}u.numberOfActiveLeaves=d}}}catch(e){a.e(e)}finally{a.f()}var x,k=1/Math.log10(o),E=Fe(t);try{for(E.s();!(x=E.n()).done;){var S=x.value,T=e.ids[S];T.isHidden||(T.ratio=k*Math.log10(T.numberOfActiveLeaves))}}catch(e){E.e(e)}finally{E.f()}return r}));function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L()(e);if(t){var i=L()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ve=function(e){A()(n,e);var t=Ue(n);function n(){return E()(this,n),t.apply(this,arguments)}return T()(n,[{key:"getShaders",value:function(e){return Be(Be({},N()(L()(n.prototype),"getShaders",this).call(this)),{},{inject:{"vs:#decl":"\n          attribute float instanceStartAngle;\n          attribute float instanceEndAngle;\n          varying float startAngle;\n          varying float endAngle;\n        ","vs:#main-start":"\n          startAngle = instanceStartAngle ;\n          endAngle = instanceEndAngle ;\n      ","fs:#decl":"\n          varying float startAngle;\n          varying float endAngle;\n      ","fs:DECKGL_FILTER_COLOR":"\n          float angle = atan(-geometry.uv.x, geometry.uv.y) + 3.1415926535897932384626433832795;\n          if (angle < startAngle || angle > endAngle) {\n            discard;\n          }\n        "}})}},{key:"initializeState",value:function(){N()(L()(n.prototype),"initializeState",this).call(this),this.getAttributeManager().addInstanced({instanceStartAngle:{size:1,transition:!0,accessor:"getStartAngle",defaultValue:1},instanceEndAngle:{size:1,transition:!0,accessor:"getEndAngle",defaultValue:1}})}}]),n}(l.ScatterplotLayer);Ve.componentName="CircleSectorLayer";var Ge=Ve,We=function(){return Object(c.default)(De,(function(e){return e.getNodeSize()}),(function(e){return e.props.showShapeBorders}),(function(e){var t;return null!==(t=e.props.shapeBorderWidth)&&void 0!==t?t:o.a.shapeBorderWidth}),Me.a,(function(e){return e.getScale()}),(function(e,t,n,r,i,o){var a=t/2;return new Ge({id:"piecharts",data:e,getLineColor:i,getLineWidth:n?r:0,getPosition:function(e){return[e.node.x,e.node.y]},getFillColor:function(e){return e.colour},getCentrePoint:function(e){return[e.rootX,e.rootY]},getRadius:function(e){return a+e.node.ratio*a},getStartAngle:function(e){return e.startAngle},getEndAngle:function(e){return e.endAngle},pickable:!0,radiusUnits:"pixels"})}))};function He(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ye=Object(c.default)((function(e){return e.getGraphAfterLayout()}),(function(e){var t;return null!==(t=e.props.selectedIds)&&void 0!==t?t:o.a.selectedIds}),(function(e,t){if(t&&t.length){var n,r=[],o=He(e.leaves);try{for(o.s();!(n=o.n()).done;){var a=n.value;!a.isHidden&&t.includes(a.id)&&r.push(a)}}catch(e){o.e(e)}finally{o.f()}return r}return i.EmptyArray})),Ke=function(){return Object(c.default)(Ye,(function(e){return Object(f.default)(e.props.highlightColour||o.a.highlightColour)}),(function(e){return e.props.haloWidth||o.a.haloWidth}),Q,(function(e,t,n,r){return new l.ScatterplotLayer({id:"selection-halos",data:e,getPosition:function(e){return[e.x,e.y]},getRadius:function(e){var t=r.leaf;return e.isLeaf||(t=e.isCollapsed?e.size+n:r.internal),t},getLineWidth:n,getLineColor:t,filled:!1,stroked:!0,radiusUnits:"pixels",lineWidthUnits:"pixels"})}))};function qe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $e=Object(c.default)((function(e){return e.getGraphWithStyles()}),(function(e){var t,n=[],r=qe(e.leaves);try{for(r.s();!(t=r.n()).done;){var i=t.value;!i.isHidden&&i.shape&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n}));$e.displayName="visible-leaf-nodes";var Je=$e,et=n(32);function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L()(e);if(t){var i=L()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var nt=function(e){A()(n,e);var t=tt(n);function n(){return E()(this,n),t.apply(this,arguments)}return T()(n,[{key:"renderLayers",value:function(){return[new l.IconLayer({id:"shapes-border",data:this.props.data,pickable:!1,iconAtlas:this.props.iconAtlas,iconMapping:this.props.iconMapping,getIcon:this.props.getIcon,getPosition:this.props.getPosition,getSize:this.props.getSize,sizeScale:this.props.borderSizeScale,getColor:this.props.borderColour,visible:this.props.showBorders,updateTriggers:{getSize:this.props.getSize}}),new l.IconLayer({id:"shapes-fill",data:this.props.data,pickable:!0,iconAtlas:this.props.iconAtlas,iconMapping:this.props.iconMapping,getIcon:this.props.getIcon,getPosition:this.props.getPosition,getSize:this.props.getSize,getColor:this.props.getColor,updateTriggers:{getSize:this.props.getSize}})]}}]),n}(r.CompositeLayer);nt.defaultProps={iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{},async:!0},getPosition:{type:"accessor",value:function(e){return[e.x,e.y]}},getIcon:{type:"accessor",value:function(e){return e.shape}},getColor:{type:"accessor",value:function(e){return e.fillColour}},getSize:{type:"accessor",value:1},showBorders:!1,borderColor:[0,0,0],borderSizeScale:1},nt.componentName="ShapesLayer";var rt=function(e){return!e.fillColour.isTransparent&&e.shape},it=function(e){return[e.x,e.y]},ot=function(e){return e.fillColour},at=function(){return Object(c.default)(Je,(function(e){return e.getNodeSize()}),(function(e){return e.props.showShapeBorders}),et.a,Me.a,(function(e,t,n,r,i){var o=Se(),a=o.image,s=o.mapping;return new nt({id:"shapes",data:e,iconAtlas:a,iconMapping:s,getIcon:rt,getPosition:it,getSize:t,getColor:ot,showBorders:n,borderColour:i,borderSizeScale:1+2*r/t,updateTriggers:{getSize:t}})}))};t.default=function(){var e,t=this,n=function(){return t.setProps({fixedScale:null})};this.deck=new r.Deck({pickingRadius:2,useDevicePixels:!1,views:new r.OrthographicView({controller:!(!Object(s.default)(this,"pan")&&!Object(s.default)(this,"zoom"))&&Object(a.default)(this)}),initialViewState:{target:[0,0,0],zoom:0},layers:[],onViewStateChange:function(r){var i,o=r.viewState;clearTimeout(e),e=setTimeout(n,500),t.setView({centre:Object(u.default)(t,o.target),zoom:o.zoom,fixedScale:null!==(i=t.props.fixedScale)&&void 0!==i?i:t.getScale()})},onHover:function(e,n){return t.handleHover(e,n)},onClick:function(e,n){return t.handleClick(e,n)}}),this.view.appendChild(this.deck.canvas),this.view.style.position="relative",this.view.style.backgroundImage='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAAUCAYAAADFlsDIAAAABHNCSVQICAgIfAhkiAAABJpJREFUWIXtl0FvGkcUx/9vZqHKITKJ1PZoeuwppFJlBVx5/QlCjz2VfAIwJPIlsLsmFyuBXY49BX+C4nMuIAWIT3XUa6VuDjm0h4Y2lZrCzHs9EBxMnNSochSl/p1mdt+8efOfeW92gXPOOQto2QHr5Z08E90nYATA7zeqe2cQ13uJWnYAE4UEpACkBYjOIKb3lqXFIpGPj9pT0f43LCVW9tbuRRZ8J5BfRDAC0dbb7HOVunsav6e1e5fkKnV3o+gdOwzOMg60mXwuoAdgPGAn2e/f3X4+e5ct7xQIekVgfwdJJmHYHzO7ALr/5pdPafcuEZH0CyDGtDYDWBBro+ilJloXQXLJOhwd7AYxMD1RU6HkMgBYUvFwTqgZxo73D1pBvFb00tA6DxFkyzsFAVY4YfcPdoM4V6m7/Ua1C0x3b9YGpoIDABFJv1HdW9v20mqsCgAwDD3/WnmnCJFLSqmf+43qXq5Sd0kkZUUymuhQW9u1WrsPm7XO2raXTkx0BgCsSAYAOMntg90gnvPTnc0/Pxdp3QHzawIeS8OJ1hER+QRVdIx+9FUpuL6+FWwoM87NhJqqPv71bbviOEhDqWcAYK3tDpu11iyQl6cIi+3szTsZIpJBs9YWEVoremk90b5SCkqpLgAoosdKqa6QFL4sehlmdpnoW6VUV0BhrxWMBBQCAI1VXohW2KpYKdXVSqW0UaX18k6eiFylVNcYE8/m12NVGoaePww9H2ILJ63reM0i2pjrfMqOXgHUhdeH/fHXSc60o0rXtgJfoPKDe7f3AeCgFcQn2S5CMkkBeDINw8aO46ShsGqMac92n0WuMLNLjFTScab1RGS/36h25eVHEAv3cpW6qzRdN8b0CJMUM7sskiJWK0I0IiAj4HxCT08eAMhcugm/as9zTCxiah11RJ5ayz8YmJ8MzG/H7NTlT05yZg1Hw9DzBw2vdBqBliF7804GwOYw9HwWefwmO03UEXAe/HKjHB0mmSMi2waAfqPadYy5SlAdBoobRS+1tu2lTxPDsZrVD29H6+WdmIFUwtpOvxUcKZy9tXtRmRdfAOqCZk5veN7TXhCYZRdNQCpX8VwWfQUirwIxOBwrLuUqHoRVPsHGHzuqp7W+n6vUY6MngSPOlWwliCC0+ib/2touO07Iwi0AEMLIOE4oJGkC4mzRy0wcVYBIiojiv5UqqAm5ROhc2wp8ED1TRKsiEi/6fu3T4WGz1hk0a+3enFAAMLi7/dyAf5yumL6Z/Onsze9IwtrOYsolmaPF9iD0SsYgTlq7N/+u1wpGSebIGMQJZr/XCkbDhudba28YY4KD3SB2jLlqDUcJa792jDlMMkcJazsAYI3ZBIBeKxhZYzY/Ym4DwOBebVMMtQb3apsOm61BKzi0hiNYFfUb1RuPQi9KWlsYNGvtJHOUtHaPmZ8MmrX24nqW/t3JlndCIioB0zxPGPPZorBvI1epuyKSBknGGo5OW9POmmzxTkaUzQMAse4MWrcPF22WF6tS/56A/Nyjzfnr/0Nm+d8dpt5RRxDPX78fOkufLOBVKiWs7SyTguecc845/5F/ABRBaZJ181VHAAAAAElFTkSuQmCC")',this.view.style.backgroundRepeat="no-repeat",this.view.style.backgroundPosition="right bottom",this.addLayer("edges",(function(e){var t;return null!==(t=e.showEdges)&&void 0!==t?t:o.a.showEdges}),q),this.addLayer("leaf-labels",(function(e){return e.showLabels&&e.showLeafLabels}),ye),this.addLayer("shapes",(function(e){var t;return null!==(t=e.showShapes)&&void 0!==t?t:o.a.showShapes}),at),this.addLayer("internal-labels",(function(e){return e.showLabels&&e.showInternalLabels}),ae),this.addLayer("branch-labels",(function(e){return e.showLabels&&e.showBranchLengths}),m),this.addLayer("piecharts",(function(e){return!1!==e.showPiecharts&&e.collapsedIds&&e.collapsedIds.length}),We),this.addLayer("metadata",(function(e){return e.type!==i.TreeTypes.Radial&&e.metadata&&e.blocks&&e.blocks.length}),Re),this.addLayer("selection",(function(e){return e.selectedIds&&e.selectedIds.length}),Ke),this.addLayer("highlights",!0,J)}},function(e,t,n){"use strict";n.r(t),n.d(t,"PhylocanvasGL",(function(){return g})),n.d(t,"Angles",(function(){return r.Angles})),n.d(t,"EmptyArray",(function(){return r.EmptyArray})),n.d(t,"EmptyObject",(function(){return r.EmptyObject})),n.d(t,"TreeTypes",(function(){return r.TreeTypes})),n.d(t,"Shapes",(function(){return r.Shapes})),n.d(t,"Utils",(function(){return V})),n.d(t,"Defaults",(function(){return i.a})),n.d(t,"Newick",(function(){return G})),n.d(t,"plugins",(function(){return W}));var r=n(0),i=n(1),o=n(53),a=n.n(o),s=n(6),u=n.n(s),l=n(8),c=n.n(l),f={addLayer:n(56).default,ascendingNodeOrder:n(57).default,branchZoomingAxis:n(61).default,collapseNode:n(62).default,descendingNodeOrder:n(63).default,destroy:n(64).default,exportJSON:n(65).default,exportNewick:n(66).default,exportPNG:n(67).default,exportSVG:n(68).default,findNodeById:n(72).default,fitInCanvas:n(73).default,getAlignLeafLabels:n(74).default,getBlockHeaderFontSize:n(75).default,getBlockPadding:n(76).default,getBlockSize:n(77).default,getBranchScale:n(78).default,getBranchZoom:n(79).default,getCanvasCentrePoint:n(80).default,getCanvasSize:n(81).default,getDrawingArea:n(82).default,getFillColour:n(83).default,getFontFamily:n(84).default,getFontSize:n(85).default,getGraphAfterLayout:n(86).default,getGraphBeforeLayout:n(87).default,getGraphWithoutLayout:n(88).default,getGraphWithStyles:n(90).default,getHighlightedNode:n(91).default,getMaxScale:n(92).default,getMaxZoom:n(93).default,getMetadataColumnWidth:n(94).default,getMinScale:n(95).default,getMinZoom:n(96).default,getNodeSize:n(97).default,getPadding:n(98).default,getPixelOffsets:n(99).default,getScale:n(100).default,getShowShapes:n(101).default,getStepScale:n(102).default,getStepZoom:n(103).default,getStepZoomingAxis:n(104).default,getStrokeColour:n(105).default,getStrokeWidth:n(106).default,getTreeType:n(107).default,getView:n(108).default,getWorldBounds:n(109).default,getZoom:n(110).default,handleClick:n(111).default,handleHover:n(112).default,hasLeafLabels:n(113).default,hasMetadata:n(114).default,hasMetadataHeaders:n(115).default,hasMetadataLabels:n(116).default,highlightNode:n(117).default,importJSON:n(118).default,init:n(149).default,isCanvasPointOnScreen:n(121).default,isOrthogonal:n(122).default,isTreePointOnScreen:n(123).default,midpointRoot:n(124).default,pickNodeAtCanvasPoint:n(125).default,pickNodeFromLayer:n(126).default,projectPoint:n(127).default,render:n(128).default,rerootNode:n(129).default,resize:n(130).default,resume:n(131).default,rotateNode:n(132).default,selectLeafNodes:n(133).default,selectNode:n(134).default,setBranchZoom:n(135).default,setProps:n(136).default,setRoot:n(137).default,setScale:n(138).default,setSource:n(139).default,setStepZoom:n(140).default,setTooltip:n(141).default,setTreeType:n(142).default,setView:n(143).default,setZoom:n(144).default,suspend:n(145).default,unprojectPoint:n(146).default},d=n(49);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];c()(this,e);var i="string"==typeof t?document.getElementById(t):t;this.cache=new Map,this.view=i,this.deferred={count:0,render:!1},this.layers=[];var o=(null==n?void 0:n.size)||t.getBoundingClientRect();return this.props=p(p({},n),{},{size:o}),r.length&&Object(d.default)(this,r),this.init(),n&&this.setProps(this.props),this};Object.assign(v.prototype,f),v.create=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a()(this,t)};var g=v,y=n(29),m=n.n(y),b=n(13),_=n.n(b),w=n(2),x=n(9),k=n.n(x),E=n(10),S=n.n(E),T=n(11),P=n.n(T),A=n(3),C=n.n(A),Z=n(4);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var i=C()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return P()(this,n)}}var L=function(e){S()(n,e);var t=O(n);function n(){return c()(this,n),t.apply(this,arguments)}return k()(n,[{key:"renderLayers",value:function(){return[new Z.TextLayer({id:"scalebar-text",data:this.props.data.labels,getSize:this.props.fontSize,getColor:this.props.fontColour,fontFamily:this.props.fontFamily,getAlignmentBaseline:"bottom",backgroundColor:this.props.backgroundColour}),new Z.LineLayer({id:"scalebar-lines",data:this.props.data.lines,getColor:this.props.lineColour,getWidth:this.props.lineWidth})]}}]),n}(n(7).CompositeLayer);L.componentName="ScalebarLayer";var R=n(48),M=n.n(R),I=Object.freeze({background:[255,255,255],digits:2,fillColour:[34,34,34],fontSize:13,height:24,lineWidth:1,opacity:.87,padding:4,position:{bottom:0,left:0},strokeColour:[34,34,34],textAlign:"center",textBaseline:"hanging",width:96});function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=Object(w.default)((function(e){return e.props.scalebar}),(function(e){return e&&"object"===M()(e)?F(F({},I),e):I}));j.displayName="scalebar-options";var D=j,z=Math.log(10),B=Object(w.default)((function(e){return e.getCanvasSize()}),(function(e){return[e.width/2,e.height/2]})),U=function(){return Object(w.default)(D,(function(e){return e.getBranchScale()}),(function(e){return e.getScale(!0)}),(function(e){return e.getCanvasSize()}),(function(e){return e.getFontFamily()}),B,(function(e){return e.getView().target}),(function(e,t,n,r,i,o,a){var s=e.width,u=e.padding,l=e.position,c=e.height,f=0;void 0!==l.left?f=l.left:void 0!==l.centre?f=r.width/2-s/2+l.centre:void 0!==l.right?f=r.width-s-l.right:console.error("Invalid horizontal position specified. Supported values are `left`, `centre`, or `right`");var d=0;void 0!==l.top?d=l.top:void 0!==l.middle?d=r.height/2-c+l.middle:void 0!==l.bottom?d=r.height-c-l.bottom:console.error("Invalid vertical position specified. Supported values are `top`, `middle`, or `bottom`");var h=(s-2*u)/t/n,p=parseInt(Math.abs(Math.log(h)/z),10);f+=-o[0],f/=n,f+=a[0],d+=-o[1],d/=n,d+=a[1];var v=(u+e.lineWidth)/n,g=(s-u-e.lineWidth)/n,y=(e.height-u)/n;return new L({id:"scalebar-plugin",data:{labels:[{position:[f+e.width/n/2,d+y],text:h.toFixed(p+e.digits)}],lines:[{sourcePosition:[f+v,d+y],targetPosition:[f+g,d+y]}]},fontSize:e.fontSize,fontColour:e.fillColour,fontFamily:e.fontFamily||i,lineColour:e.strokeColour,lineWidth:e.lineWidth,backgroundColour:e.background})}))},V={appendToArray:n(19).default,applyPlugins:n(49).default,applyTreeLayout:n(42).default,calculateNodeBounds:n(43).default,calculateScaledCentre:n(27).default,canvasContext:n(25).default,centreToTarget:n(147).default,colourToRgba:n(5).default,createController:n(47).default,drawVectorShape:n(40).default,emoji:n(41).default,hasInteraction:n(20).default,logarithmicScale:n(39).default,measureTextWidth:n(46).default,memoise:n(2).default,newick:n(29).default,nodeAngleInDegrees:n(22).default,parseSourceAsGraph:n(44).default,postorderTraversal:n(24).default,preorderTraversal:n(148).default,rotateSubtree:n(37).default,scaleToZoom:n(15).default,serialiseAsNewick:n(18).default,shapes:n(17).default,targetToCentre:n(26).default,treeTraversal:n(45).default,zoomToScale:n(12).default};Object.assign(g,r),g.defaults=i.a;var G=m.a,W={scalebar:function(e,t){t("init",(function(t,n){t.apply(void 0,_()(n)),e.addLayer("scalebar",(function(e){return!1!==e.scalebar}),U)}))}};t.default=g}]))},3679:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(857),i=n(2428),o=globalThis;function a(e){if(!e&&!(0,r.Z)())return"Node";if((0,i.Z)(e))return"Electron";var t="undefined"!==typeof navigator?navigator:{},n=e||t.userAgent||"";if(n.indexOf("Edge")>-1)return"Edge";var a=-1!==n.indexOf("MSIE "),s=-1!==n.indexOf("Trident/");return a||s?"IE":o.chrome?"Chrome":o.safari?"Safari":o.mozInnerScreenX?"Firefox":"Unknown"}},857:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2428),i=n(1426);function o(){return!("object"===typeof i&&"[object process]"===String(i)&&!i.browser)||(0,r.Z)()}},2428:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1426);function i(e){if("undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof r&&"object"===typeof r.versions&&Boolean(r.versions.electron))return!0;var t="object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent,n=e||t;return!!(n&&n.indexOf("Electron")>=0)}},6368:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(2982),i=n(4942),o=n(5671),a=n(3144),s=n(857),u="undefined"!==typeof __VERSION__?__VERSION__:"untranspiled source";(0,s.Z)();function l(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch(r){return null}}var c,f=function(){function e(t){(0,o.Z)(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";(0,i.Z)(this,"storage",void 0),(0,i.Z)(this,"id",void 0),(0,i.Z)(this,"config",{}),this.storage=l(r),this.id=t,this.config={},Object.assign(this.config,n),this._loadConfiguration()}return(0,a.Z)(e,[{key:"getConfiguration",value:function(){return this.config}},{key:"setConfiguration",value:function(e){return this.config={},this.updateConfiguration(e)}},{key:"updateConfiguration",value:function(e){if(Object.assign(this.config,e),this.storage){var t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}return this}},{key:"_loadConfiguration",value:function(){var e={};if(this.storage){var t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}]),e}();function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600,i=e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");e.width>r&&(n=Math.min(n,r/e.width));var o=e.width*n,a=e.height*n,s=["font-size:1px;","padding:".concat(Math.floor(a/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(a,"px;"),"background:url(".concat(i,");"),"background-size:".concat(o,"px ").concat(a,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),s]}function h(e){return"string"===typeof e?c[e.toUpperCase()]||c.WHITE:e}!function(e){e[e.BLACK=30]="BLACK",e[e.RED=31]="RED",e[e.GREEN=32]="GREEN",e[e.YELLOW=33]="YELLOW",e[e.BLUE=34]="BLUE",e[e.MAGENTA=35]="MAGENTA",e[e.CYAN=36]="CYAN",e[e.WHITE=37]="WHITE",e[e.BRIGHT_BLACK=90]="BRIGHT_BLACK",e[e.BRIGHT_RED=91]="BRIGHT_RED",e[e.BRIGHT_GREEN=92]="BRIGHT_GREEN",e[e.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",e[e.BRIGHT_BLUE=94]="BRIGHT_BLUE",e[e.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",e[e.BRIGHT_CYAN=96]="BRIGHT_CYAN",e[e.BRIGHT_WHITE=97]="BRIGHT_WHITE"}(c||(c={}));var p=n(7762);function v(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"],r=Object.getPrototypeOf(e),i=Object.getOwnPropertyNames(r),o=(0,p.Z)(i);try{var a=function(){var r=t.value;"function"===typeof e[r]&&(n.find((function(e){return r===e}))||(e[r]=e[r].bind(e)))};for(o.s();!(t=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}}function g(e,t){if(!e)throw new Error(t||"Assertion failed")}var y=n(1426),m={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof n.g&&n.g,document:"undefined"!==typeof document&&document,process:"object"===typeof y&&y},b=(globalThis,m.window||m.self||m.global),_=m.process||{};console;function w(){var e,t,n;if(s.Z&&"performance"in b)e=null===b||void 0===b||null===(t=b.performance)||void 0===t||null===(n=t.now)||void 0===n?void 0:n.call(t);else if("hrtime"in _){var r,i=null===_||void 0===_||null===(r=_.hrtime)||void 0===r?void 0:r.call(_);e=1e3*i[0]+i[1]/1e6}else e=Date.now();return e}var x=n(2249),k={debug:s.Z&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},E={enabled:!0,level:0};function S(){}var T={},P={once:!0},A=function(){function e(){(0,o.Z)(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""},n=t.id;(0,i.Z)(this,"id",void 0),(0,i.Z)(this,"VERSION",u),(0,i.Z)(this,"_startTs",w()),(0,i.Z)(this,"_deltaTs",w()),(0,i.Z)(this,"_storage",void 0),(0,i.Z)(this,"userData",{}),(0,i.Z)(this,"LOG_THROTTLE_TIMEOUT",0),this.id=n,this._storage=new f("__probe-".concat(this.id,"__"),E),this.userData={},this.timeStamp("".concat(this.id," started")),v(this),Object.seal(this)}return(0,a.Z)(e,[{key:"level",get:function(){return this.getLevel()},set:function(e){this.setLevel(e)}},{key:"isEnabled",value:function(){return this._storage.config.enabled}},{key:"getLevel",value:function(){return this._storage.config.level}},{key:"getTotal",value:function(){return Number((w()-this._startTs).toPrecision(10))}},{key:"getDelta",value:function(){return Number((w()-this._deltaTs).toPrecision(10))}},{key:"priority",get:function(){return this.level},set:function(e){this.level=e}},{key:"getPriority",value:function(){return this.level}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.updateConfiguration({enabled:e}),this}},{key:"setLevel",value:function(e){return this._storage.updateConfiguration({level:e}),this}},{key:"get",value:function(e){return this._storage.config[e]}},{key:"set",value:function(e,t){this._storage.updateConfiguration((0,i.Z)({},e,t))}},{key:"settings",value:function(){console.table?console.table(this._storage.config):console.log(this._storage.config)}},{key:"assert",value:function(e,t){g(e,t)}},{key:"warn",value:function(e){return this._getLogFunction(0,e,k.warn,arguments,P)}},{key:"error",value:function(e){return this._getLogFunction(0,e,k.error,arguments)}},{key:"deprecated",value:function(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}},{key:"removed",value:function(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}},{key:"probe",value:function(e,t){return this._getLogFunction(e,t,k.log,arguments,{time:!0,once:!0})}},{key:"log",value:function(e,t){return this._getLogFunction(e,t,k.debug,arguments)}},{key:"info",value:function(e,t){return this._getLogFunction(e,t,console.info,arguments)}},{key:"once",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this._getLogFunction(e,t,k.debug||k.info,arguments,P)}},{key:"table",value:function(e,t,n){return t?this._getLogFunction(e,t,console.table||S,n&&[n],{tag:O(t)}):S}},{key:"image",value:function(e){var t=e.logLevel,n=e.priority,i=e.image,o=e.message,a=void 0===o?"":o,u=e.scale,l=void 0===u?1:u;return this._shouldLog(t||n)?s.Z?function(e){var t=e.image,n=e.message,i=void 0===n?"":n,o=e.scale,a=void 0===o?1:o;if("string"===typeof t){var s=new Image;return s.onload=function(){var e,t=d(s,i,a);(e=console).log.apply(e,(0,r.Z)(t))},s.src=t,S}var u=t.nodeName||"";if("img"===u.toLowerCase()){var l;return(l=console).log.apply(l,(0,r.Z)(d(t,i,a))),S}if("canvas"===u.toLowerCase()){var c=new Image;return c.onload=function(){var e;return(e=console).log.apply(e,(0,r.Z)(d(c,i,a)))},c.src=t.toDataURL(),S}return S}({image:i,message:a,scale:l}):function(e){var t=e.image,n=e.message,r=void 0===n?"":n,i=e.scale,o=void 0===i?1:i;return x.nodeAsciifyImage({image:t,message:r,scale:o}),S}({image:i,message:a,scale:l}):S}},{key:"time",value:function(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}},{key:"timeEnd",value:function(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}},{key:"timeStamp",value:function(e,t){return this._getLogFunction(e,t,console.timeStamp||S)}},{key:"group",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1},r=Z({logLevel:e,message:t,opts:n}),i=n.collapsed;return r.method=(i?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}},{key:"groupCollapsed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(e,t,Object.assign({},n,{collapsed:!0}))}},{key:"groupEnd",value:function(e){return this._getLogFunction(e,"",console.groupEnd||S)}},{key:"withGroup",value:function(e,t,n){this.group(e,t)();try{n()}finally{this.groupEnd(e)()}}},{key:"trace",value:function(){console.trace&&console.trace()}},{key:"_shouldLog",value:function(e){return this.isEnabled()&&this.getLevel()>=C(e)}},{key:"_getLogFunction",value:function(e,t,n,i,o){if(this._shouldLog(e)){var a;o=Z({logLevel:e,message:t,args:i,opts:o}),g(n=n||o.method),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=w();var u=o.tag||o.message;if(o.once){if(T[u])return S;T[u]=w()}return t=function(e,t,n){if("string"===typeof t){var r=n.time?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=Math.max(t-e.length,0);return"".concat(" ".repeat(n)).concat(e)}((u=n.total)<10?"".concat(u.toFixed(2),"ms"):u<100?"".concat(u.toFixed(1),"ms"):u<1e3?"".concat(u.toFixed(0),"ms"):"".concat((u/1e3).toFixed(2),"s")):"";t=n.time?"".concat(e,": ").concat(r,"  ").concat(t):"".concat(e,": ").concat(t),i=t,o=n.color,a=n.background,s.Z||"string"!==typeof i||(o&&(o=h(o),i="\x1b[".concat(o,"m").concat(i,"\x1b[39m")),a&&(o=h(a),i="\x1b[".concat(a+10,"m").concat(i,"\x1b[49m"))),t=i}var i,o,a;var u;return t}(this.id,o.message,o),(a=n).bind.apply(a,[console,t].concat((0,r.Z)(o.args)))}return S}}]),e}();function C(e){if(!e)return 0;var t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return g(Number.isFinite(t)&&t>=0),t}function Z(e){var t=e.logLevel,n=e.message;e.logLevel=C(t);for(var r=e.args?Array.from(e.args):[];r.length&&r.shift()!==n;);switch(typeof t){case"string":case"function":void 0!==n&&r.unshift(n),e.message=t;break;case"object":Object.assign(e,t)}"function"===typeof e.message&&(e.message=e.message());var i=typeof e.message;return g("string"===i||"object"===i),Object.assign(e,{args:r},e.opts)}function O(e){for(var t in e)for(var n in e[t])return n||"untitled";return"empty"}(0,i.Z)(A,"VERSION",u)},9574:function(e,t,n){"use strict";n.d(t,{jk:function(){return l}});var r=n(5671),i=n(3144),o=n(4942),a=n(1426);function s(){var e;if("undefined"!==typeof window&&window.performance)e=window.performance.now();else if("undefined"!==typeof a&&a.hrtime){var t=a.hrtime();e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}var u=function(){function e(t,n){(0,r.Z)(this,e),(0,o.Z)(this,"name",void 0),(0,o.Z)(this,"type",void 0),(0,o.Z)(this,"sampleSize",1),(0,o.Z)(this,"time",void 0),(0,o.Z)(this,"count",void 0),(0,o.Z)(this,"samples",void 0),(0,o.Z)(this,"lastTiming",void 0),(0,o.Z)(this,"lastSampleTime",void 0),(0,o.Z)(this,"lastSampleCount",void 0),(0,o.Z)(this,"_count",0),(0,o.Z)(this,"_time",0),(0,o.Z)(this,"_samples",0),(0,o.Z)(this,"_startTime",0),(0,o.Z)(this,"_timerPending",!1),this.name=t,this.type=n,this.reset()}return(0,i.Z)(e,[{key:"setSampleSize",value:function(e){return this.sampleSize=e,this}},{key:"incrementCount",value:function(){return this.addCount(1),this}},{key:"decrementCount",value:function(){return this.subtractCount(1),this}},{key:"addCount",value:function(e){return this._count+=e,this._samples++,this._checkSampling(),this}},{key:"subtractCount",value:function(e){return this._count-=e,this._samples++,this._checkSampling(),this}},{key:"addTime",value:function(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}},{key:"timeStart",value:function(){return this._startTime=s(),this._timerPending=!0,this}},{key:"timeEnd",value:function(){return this._timerPending?(this.addTime(s()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}},{key:"getSampleAverageCount",value:function(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}},{key:"getSampleAverageTime",value:function(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}},{key:"getSampleHz",value:function(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}},{key:"getAverageCount",value:function(){return this.samples>0?this.count/this.samples:0}},{key:"getAverageTime",value:function(){return this.samples>0?this.time/this.samples:0}},{key:"getHz",value:function(){return this.time>0?this.samples/(this.time/1e3):0}},{key:"reset",value:function(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}},{key:"_checkSampling",value:function(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}]),e}(),l=function(){function e(t){(0,r.Z)(this,e),(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"stats",{}),this.id=t.id,this.stats={},this._initializeStats(t.stats),Object.seal(this)}return(0,i.Z)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:e,type:t})}},{key:"size",get:function(){return Object.keys(this.stats).length}},{key:"reset",value:function(){for(var e in this.stats)this.stats[e].reset();return this}},{key:"forEach",value:function(e){for(var t in this.stats)e(this.stats[t])}},{key:"getTable",value:function(){var e={};return this.forEach((function(t){e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}})),e}},{key:"_initializeStats",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){return e._getOrCreate(t)}))}},{key:"_getOrCreate",value:function(e){if(!e||!e.name)return null;var t=e.name,n=e.type;return this.stats[t]||(this.stats[t]=e instanceof u?e:new u(t,n)),this.stats[t]}}]),e}()},9998:function(e,t){"use strict";t.Z=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?o===t.replace(/\/.*$/,""):i===t}))}return!0}},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7089:function(e){"use strict";function t(e,t,r){r=r||2;var o,a,s,u,f,d,p,v=t&&t.length,g=v?t[0]*r:e.length,y=n(e,0,g,r,!0),m=[];if(!y||y.next===y.prev)return m;if(v&&(y=function(e,t,r,i){var o,a,s,u=[];for(o=0,a=t.length;o<a;o++)(s=n(e,t[o]*i,o<a-1?t[o+1]*i:e.length,i,!1))===s.next&&(s.steiner=!0),u.push(h(s));for(u.sort(l),o=0;o<u.length;o++)r=c(u[o],r);return r}(e,t,y,r)),e.length>80*r){o=s=e[0],a=u=e[1];for(var b=r;b<g;b+=r)(f=e[b])<o&&(o=f),(d=e[b+1])<a&&(a=d),f>s&&(s=f),d>u&&(u=d);p=0!==(p=Math.max(s-o,u-a))?32767/p:0}return i(y,m,r,o,a,p,0),m}function n(e,t,n,r,i){var o,a;if(i===T(e,t,n,r)>0)for(o=t;o<n;o+=r)a=k(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=k(o,e[o],e[o+1],a);return a&&y(a,a.next)&&(E(a),a=a.next),a}function r(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!y(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(E(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function i(e,t,n,l,c,f,h){if(e){!h&&f&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=d(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,l=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(e,l,c,f);for(var p,v,g=e;e.prev!==e.next;)if(p=e.prev,v=e.next,f?a(e,l,c,f):o(e))t.push(p.i/n|0),t.push(e.i/n|0),t.push(v.i/n|0),E(e),e=v.next,g=v.next;else if((e=v)===g){h?1===h?i(e=s(r(e),t,n),t,n,l,c,f,2):2===h&&u(e,t,n,l,c,f):i(r(e),t,n,l,c,f,1);break}}}function o(e){var t=e.prev,n=e,r=e.next;if(g(t,n,r)>=0)return!1;for(var i=t.x,o=n.x,a=r.x,s=t.y,u=n.y,l=r.y,c=i<o?i<a?i:a:o<a?o:a,f=s<u?s<l?s:l:u<l?u:l,d=i>o?i>a?i:a:o>a?o:a,h=s>u?s>l?s:l:u>l?u:l,v=r.next;v!==t;){if(v.x>=c&&v.x<=d&&v.y>=f&&v.y<=h&&p(i,s,o,u,a,l,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function a(e,t,n,r){var i=e.prev,o=e,a=e.next;if(g(i,o,a)>=0)return!1;for(var s=i.x,u=o.x,l=a.x,c=i.y,f=o.y,h=a.y,v=s<u?s<l?s:l:u<l?u:l,y=c<f?c<h?c:h:f<h?f:h,m=s>u?s>l?s:l:u>l?u:l,b=c>f?c>h?c:h:f>h?f:h,_=d(v,y,t,n,r),w=d(m,b,t,n,r),x=e.prevZ,k=e.nextZ;x&&x.z>=_&&k&&k.z<=w;){if(x.x>=v&&x.x<=m&&x.y>=y&&x.y<=b&&x!==i&&x!==a&&p(s,c,u,f,l,h,x.x,x.y)&&g(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,k.x>=v&&k.x<=m&&k.y>=y&&k.y<=b&&k!==i&&k!==a&&p(s,c,u,f,l,h,k.x,k.y)&&g(k.prev,k,k.next)>=0)return!1;k=k.nextZ}for(;x&&x.z>=_;){if(x.x>=v&&x.x<=m&&x.y>=y&&x.y<=b&&x!==i&&x!==a&&p(s,c,u,f,l,h,x.x,x.y)&&g(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;k&&k.z<=w;){if(k.x>=v&&k.x<=m&&k.y>=y&&k.y<=b&&k!==i&&k!==a&&p(s,c,u,f,l,h,k.x,k.y)&&g(k.prev,k,k.next)>=0)return!1;k=k.nextZ}return!0}function s(e,t,n){var i=e;do{var o=i.prev,a=i.next.next;!y(o,a)&&m(o,i,i.next,a)&&w(o,a)&&w(a,o)&&(t.push(o.i/n|0),t.push(i.i/n|0),t.push(a.i/n|0),E(i),E(i.next),i=e=a),i=i.next}while(i!==e);return r(i)}function u(e,t,n,o,a,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&v(u,l)){var c=x(u,l);return u=r(u,u.next),c=r(c,c.next),i(u,t,n,o,a,s,0),void i(c,t,n,o,a,s,0)}l=l.next}u=u.next}while(u!==e)}function l(e,t){return e.x-t.x}function c(e,t){var n=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a&&(a=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==t);if(!n)return null;var u,l=n,c=n.x,d=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&p(o<d?i:a,o,c,d,o<d?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),w(r,e)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&f(n,r)))&&(n=r,h=u)),r=r.next}while(r!==l);return n}(e,t);if(!n)return t;var i=x(n,e);return r(i,i.next),r(n,n.next)}function f(e,t){return g(e.prev,e,t.prev)<0&&g(t.next,e,e.next)<0}function d(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function h(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function p(e,t,n,r,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function v(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&m(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(w(e,t)&&w(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(g(e.prev,e,t.prev)||g(e,t.prev,t))||y(e,t)&&g(e.prev,e,e.next)>0&&g(t.prev,t,t.next)>0)}function g(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function y(e,t){return e.x===t.x&&e.y===t.y}function m(e,t,n,r){var i=_(g(e,t,n)),o=_(g(e,t,r)),a=_(g(n,r,e)),s=_(g(n,r,t));return i!==o&&a!==s||(!(0!==i||!b(e,n,t))||(!(0!==o||!b(e,r,t))||(!(0!==a||!b(n,e,r))||!(0!==s||!b(n,t,r)))))}function b(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function _(e){return e>0?1:e<0?-1:0}function w(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function x(e,t){var n=new S(e.i,e.x,e.y),r=new S(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function k(e,t,n,r){var i=new S(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function E(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function S(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=t,e.exports.default=t,t.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(T(e,0,o,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;a-=Math.abs(T(e,l,c,n))}var f=0;for(s=0;s<r.length;s+=3){var d=r[s]*n,h=r[s+1]*n,p=r[s+2]*n;f+=Math.abs((e[d]-e[p])*(e[h+1]-e[d+1])-(e[d]-e[h])*(e[p+1]-e[d+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},553:function(e,t,n){"use strict";n.d(t,{Ib:function(){return r},WT:function(){return i}});var r=1e-6,i="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},9880:function(e,t,n){"use strict";n.d(t,{G3:function(){return g},GH:function(){return a},Iu:function(){return u},Jp:function(){return s},M5:function(){return y},U1:function(){return c},U_:function(){return o},bA:function(){return l},en:function(){return p},jI:function(){return h},lM:function(){return f},oy:function(){return v},p4:function(){return i},uD:function(){return d},zB:function(){return m}});var r=n(553);function i(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function o(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],h=t[11],p=t[12],v=t[13],g=t[14],y=t[15],m=n*s-r*a,b=n*u-i*a,_=n*l-o*a,w=r*u-i*s,x=r*l-o*s,k=i*l-o*u,E=c*v-f*p,S=c*g-d*p,T=c*y-h*p,P=f*g-d*v,A=f*y-h*v,C=d*y-h*g,Z=m*C-b*A+_*P+w*T-x*S+k*E;return Z?(Z=1/Z,e[0]=(s*C-u*A+l*P)*Z,e[1]=(i*A-r*C-o*P)*Z,e[2]=(v*k-g*x+y*w)*Z,e[3]=(d*x-f*k-h*w)*Z,e[4]=(u*T-a*C-l*S)*Z,e[5]=(n*C-i*T+o*S)*Z,e[6]=(g*_-p*k-y*b)*Z,e[7]=(c*k-d*_+h*b)*Z,e[8]=(a*A-s*T+l*E)*Z,e[9]=(r*T-n*A-o*E)*Z,e[10]=(p*x-v*_+y*m)*Z,e[11]=(f*_-c*x-h*m)*Z,e[12]=(s*S-a*P-u*E)*Z,e[13]=(n*P-r*S+i*E)*Z,e[14]=(v*b-p*w-g*m)*Z,e[15]=(c*w-f*b+d*m)*Z,e):null}function a(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],d=e[11],h=e[12],p=e[13],v=e[14],g=e[15];return(t*a-n*o)*(f*g-d*v)-(t*s-r*o)*(c*g-d*p)+(t*u-i*o)*(c*v-f*p)+(n*s-r*a)*(l*g-d*h)-(n*u-i*a)*(l*v-f*h)+(r*u-i*s)*(l*p-c*h)}function s(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],v=t[12],g=t[13],y=t[14],m=t[15],b=n[0],_=n[1],w=n[2],x=n[3];return e[0]=b*r+_*s+w*f+x*v,e[1]=b*i+_*u+w*d+x*g,e[2]=b*o+_*l+w*h+x*y,e[3]=b*a+_*c+w*p+x*m,b=n[4],_=n[5],w=n[6],x=n[7],e[4]=b*r+_*s+w*f+x*v,e[5]=b*i+_*u+w*d+x*g,e[6]=b*o+_*l+w*h+x*y,e[7]=b*a+_*c+w*p+x*m,b=n[8],_=n[9],w=n[10],x=n[11],e[8]=b*r+_*s+w*f+x*v,e[9]=b*i+_*u+w*d+x*g,e[10]=b*o+_*l+w*h+x*y,e[11]=b*a+_*c+w*p+x*m,b=n[12],_=n[13],w=n[14],x=n[15],e[12]=b*r+_*s+w*f+x*v,e[13]=b*i+_*u+w*d+x*g,e[14]=b*o+_*l+w*h+x*y,e[15]=b*a+_*c+w*p+x*m,e}function u(e,t,n){var r,i,o,a,s,u,l,c,f,d,h,p,v=n[0],g=n[1],y=n[2];return t===e?(e[12]=t[0]*v+t[4]*g+t[8]*y+t[12],e[13]=t[1]*v+t[5]*g+t[9]*y+t[13],e[14]=t[2]*v+t[6]*g+t[10]*y+t[14],e[15]=t[3]*v+t[7]*g+t[11]*y+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=f,e[9]=d,e[10]=h,e[11]=p,e[12]=r*v+s*g+f*y+t[12],e[13]=i*v+u*g+d*y+t[13],e[14]=o*v+l*g+h*y+t[14],e[15]=a*v+c*g+p*y+t[15]),e}function l(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function c(e,t,n,i){var o,a,s,u,l,c,f,d,h,p,v,g,y,m,b,_,w,x,k,E,S,T,P,A,C=i[0],Z=i[1],O=i[2],L=Math.hypot(C,Z,O);return L<r.Ib?null:(C*=L=1/L,Z*=L,O*=L,o=Math.sin(n),s=1-(a=Math.cos(n)),u=t[0],l=t[1],c=t[2],f=t[3],d=t[4],h=t[5],p=t[6],v=t[7],g=t[8],y=t[9],m=t[10],b=t[11],_=C*C*s+a,w=Z*C*s+O*o,x=O*C*s-Z*o,k=C*Z*s-O*o,E=Z*Z*s+a,S=O*Z*s+C*o,T=C*O*s+Z*o,P=Z*O*s-C*o,A=O*O*s+a,e[0]=u*_+d*w+g*x,e[1]=l*_+h*w+y*x,e[2]=c*_+p*w+m*x,e[3]=f*_+v*w+b*x,e[4]=u*k+d*E+g*S,e[5]=l*k+h*E+y*S,e[6]=c*k+p*E+m*S,e[7]=f*k+v*E+b*S,e[8]=u*T+d*P+g*A,e[9]=l*T+h*P+y*A,e[10]=c*T+p*P+m*A,e[11]=f*T+v*P+b*A,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function f(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+l*r,e[5]=a*i+c*r,e[6]=s*i+f*r,e[7]=u*i+d*r,e[8]=l*i-o*r,e[9]=c*i-a*r,e[10]=f*i-s*r,e[11]=d*i-u*r,e}function d(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-l*r,e[1]=a*i-c*r,e[2]=s*i-f*r,e[3]=u*i-d*r,e[8]=o*r+l*i,e[9]=a*r+c*i,e[10]=s*r+f*i,e[11]=u*r+d*i,e}function h(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[4],c=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+l*r,e[1]=a*i+c*r,e[2]=s*i+f*r,e[3]=u*i+d*r,e[4]=l*i-o*r,e[5]=c*i-a*r,e[6]=f*i-s*r,e[7]=d*i-u*r,e}function p(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,d=i*a,h=i*s,p=i*u,v=o*a,g=o*s,y=o*u;return e[0]=1-f-p,e[1]=c+y,e[2]=d-g,e[3]=0,e[4]=c-y,e[5]=1-l-p,e[6]=h+v,e[7]=0,e[8]=d+g,e[9]=h-v,e[10]=1-l-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function v(e,t,n,r,i,o,a){var s=1/(n-t),u=1/(i-r),l=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(a+o)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*l,e[15]=0,e}var g=function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e};var y=function(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*l,e[15]=1,e};function m(e,t,n,i){var o,a,s,u,l,c,f,d,h,p,v=t[0],g=t[1],y=t[2],m=i[0],b=i[1],_=i[2],w=n[0],x=n[1],k=n[2];return Math.abs(v-w)<r.Ib&&Math.abs(g-x)<r.Ib&&Math.abs(y-k)<r.Ib?function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}(e):(f=v-w,d=g-x,h=y-k,o=b*(h*=p=1/Math.hypot(f,d,h))-_*(d*=p),a=_*(f*=p)-m*h,s=m*d-b*f,(p=Math.hypot(o,a,s))?(o*=p=1/p,a*=p,s*=p):(o=0,a=0,s=0),u=d*s-h*a,l=h*o-f*s,c=f*a-d*o,(p=Math.hypot(u,l,c))?(u*=p=1/p,l*=p,c*=p):(u=0,l=0,c=0),e[0]=o,e[1]=u,e[2]=f,e[3]=0,e[4]=a,e[5]=l,e[6]=d,e[7]=0,e[8]=s,e[9]=c,e[10]=h,e[11]=0,e[12]=-(o*v+a*g+s*y),e[13]=-(u*v+l*g+c*y),e[14]=-(f*v+d*g+h*y),e[15]=1,e)}},9874:function(e,t,n){"use strict";n.d(t,{IH:function(){return i},bA:function(){return o},fF:function(){return l},kE:function(){return a},lu:function(){return c},t7:function(){return u},tk:function(){return s}});var r=n(553);function i(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function o(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function a(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function s(e,t){return e[0]=-t[0],e[1]=-t[1],e}function u(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}function l(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}var c=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e};!function(){var e=function(){var e=new r.WT(2);return r.WT!=Float32Array&&(e[0]=0,e[1]=0),e}()}()},8679:function(e,t,n){"use strict";n.d(t,{EU:function(){return p},VC:function(){return c},Zh:function(){return g},fF:function(){return u},jI:function(){return h},kC:function(){return a},kE:function(){return i},kK:function(){return l},lM:function(){return f},lu:function(){return v},t7:function(){return s},tk:function(){return o},uD:function(){return d},x9:function(){return y}});var r=n(553);function i(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function o(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function a(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e}function s(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e}function u(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}function l(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function c(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],u=t[1],l=t[2],c=i*l-o*u,f=o*s-r*l,d=r*u-i*s,h=i*d-o*f,p=o*c-r*d,v=r*f-i*c,g=2*a;return c*=g,f*=g,d*=g,h*=2,p*=2,v*=2,e[0]=s+c+h,e[1]=u+f+p,e[2]=l+d+v,e}function f(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function d(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function h(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function p(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],s=t[2],u=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),l=u&&function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}(e,t)/u;return Math.acos(Math.min(Math.max(l,-1),1))}var v=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},g=i,y=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r};!function(){var e=function(){var e=new r.WT(3);return r.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}()}()},8255:function(e,t,n){"use strict";n.d(t,{bA:function(){return i},fF:function(){return o}});var r=n(553);function i(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function o(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}!function(){var e=function(){var e=new r.WT(4);return r.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}()}()},4097:function(e,t,n){var r;!function(i,o,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),f=Math.round,d=Math.abs,h=Date.now;function p(e,t,n){return setTimeout(w(e,n),t)}function v(e,t,n){return!!Array.isArray(e)&&(g(e,n[t],n),!0)}function g(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function y(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}u="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var m=y((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),b=y((function(e,t){return m(e,t,!0)}),"merge","Use `assign`.");function _(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&u(r,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function x(e,t){return"function"==typeof e?e.apply(t&&t[0]||s,t):e}function k(e,t){return e===s?t:e}function E(e,t,n){g(A(t),(function(t){e.addEventListener(t,n,!1)}))}function S(e,t,n){g(A(t),(function(t){e.removeEventListener(t,n,!1)}))}function T(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function P(e,t){return e.indexOf(t)>-1}function A(e){return e.trim().split(/\s+/g)}function C(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function Z(e){return Array.prototype.slice.call(e,0)}function O(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];C(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function L(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:t)in e)return r;o++}return s}var R=1;function M(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var I="ontouchstart"in i,N=L(i,"PointerEvent")!==s,F=I&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j="touch",D="mouse",z=24,B=["x","y"],U=["clientX","clientY"];function V(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){x(e.options.enable,[e])&&n.handler(t)},this.init()}function G(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&t&&r-i===0,a=12&t&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=W(t));i>1&&!n.firstMultiple?n.firstMultiple=W(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,l=t.center=H(r);t.timeStamp=h(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=q(u,l),t.distance=K(u,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=Y(t.deltaX,t.deltaY);var c=X(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=d(c.x)>d(c.y)?c.x:c.y,t.scale=a?(f=a.pointers,p=r,K(p[0],p[1],U)/K(f[0],f[1],U)):1,t.rotation=a?function(e,t){return q(t[1],t[0],U)+q(e[1],e[0],U)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(u>25||a.velocity===s)){var l=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,f=X(u,l,c);r=f.x,i=f.y,n=d(f.x)>d(f.y)?f.x:f.y,o=Y(l,c),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var f,p;var v=e.element;T(t.srcEvent.target,v)&&(v=t.srcEvent.target);t.target=v}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function W(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:f(e.pointers[n].clientX),clientY:f(e.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:t,center:H(t),deltaX:e.deltaX,deltaY:e.deltaY}}function H(e){var t=e.length;if(1===t)return{x:f(e[0].clientX),y:f(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:f(n/t),y:f(r/t)}}function X(e,t,n){return{x:t/e||0,y:n/e||0}}function Y(e,t){return e===t?1:d(e)>=d(t)?e<0?2:4:t<0?8:16}function K(e,t,n){n||(n=B);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function q(e,t,n){n||(n=B);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}V.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(M(this.element),this.evWin,this.domHandler)}};var Q={mousedown:1,mousemove:2,mouseup:4},$="mousedown",J="mousemove mouseup";function ee(){this.evEl=$,this.evWin=J,this.pressed=!1,V.apply(this,arguments)}_(ee,V,{handler:function(e){var t=Q[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:D,srcEvent:e}))}});var te={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:j,3:"pen",4:D,5:"kinect"},re="pointerdown",ie="pointermove pointerup pointercancel";function oe(){this.evEl=re,this.evWin=ie,V.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(re="MSPointerDown",ie="MSPointerMove MSPointerUp MSPointerCancel"),_(oe,V,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=te[r],o=ne[e.pointerType]||e.pointerType,a=o==j,s=C(t,e.pointerId,"pointerId");1&i&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&i&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var ae={touchstart:1,touchmove:2,touchend:4,touchcancel:8},se="touchstart",ue="touchstart touchmove touchend touchcancel";function le(){this.evTarget=se,this.evWin=ue,this.started=!1,V.apply(this,arguments)}function ce(e,t){var n=Z(e.touches),r=Z(e.changedTouches);return 12&t&&(n=O(n.concat(r),"identifier",!0)),[n,r]}_(le,V,{handler:function(e){var t=ae[e.type];if(1===t&&(this.started=!0),this.started){var n=ce.call(this,e,t);12&t&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:j,srcEvent:e})}}});var fe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},de="touchstart touchmove touchend touchcancel";function he(){this.evTarget=de,this.targetIds={},V.apply(this,arguments)}function pe(e,t){var n=Z(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=Z(e.changedTouches),s=[],u=this.target;if(o=n.filter((function(e){return T(e.target,u)})),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&t&&delete r[a[i].identifier],i++;return s.length?[O(o.concat(s),"identifier",!0),s]:void 0}_(he,V,{handler:function(e){var t=fe[e.type],n=pe.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:j,srcEvent:e})}});function ve(){V.apply(this,arguments);var e=w(this.handler,this);this.touch=new he(this.manager,e),this.mouse=new ee(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ge(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ye.call(this,t)):12&e&&ye.call(this,t)}function ye(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),2500)}}function me(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}_(ve,V,{handler:function(e,t,n){var r=n.pointerType==j,i=n.pointerType==D;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)ge.call(this,t,n);else if(i&&me.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var be=L(c.style,"touchAction"),_e=be!==s,we="compute",xe="auto",ke="manipulation",Ee="none",Se="pan-x",Te="pan-y",Pe=function(){if(!_e)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function Ae(e,t){this.manager=e,this.set(t)}Ae.prototype={set:function(e){e==we&&(e=this.compute()),_e&&this.manager.element.style&&Pe[e]&&(this.manager.element.style[be]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,(function(t){x(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(P(e,Ee))return Ee;var t=P(e,Se),n=P(e,Te);if(t&&n)return Ee;if(t||n)return t?Se:Te;if(P(e,ke))return ke;return xe}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=P(r,Ee)&&!Pe.none,o=P(r,Te)&&!Pe["pan-y"],a=P(r,Se)&&!Pe["pan-x"];if(i){var s=1===e.pointers.length,u=e.distance<2,l=e.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return i||o&&6&n||a&&n&z?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Ce=32;function Ze(e){this.options=u({},this.defaults,e||{}),this.id=R++,this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Oe(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Le(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Re(e,t){var n=t.manager;return n?n.get(e):e}function Me(){Ze.apply(this,arguments)}function Ie(){Me.apply(this,arguments),this.pX=null,this.pY=null}function Ne(){Me.apply(this,arguments)}function Fe(){Ze.apply(this,arguments),this._timer=null,this._input=null}function je(){Me.apply(this,arguments)}function De(){Me.apply(this,arguments)}function ze(){Ze.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Be(e,t){return(t=t||{}).recognizers=k(t.recognizers,Be.defaults.preset),new Ue(e,t)}Ze.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(v(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Re(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return v(e,"dropRecognizeWith",this)||(e=Re(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(v(e,"requireFailure",this))return this;var t=this.requireFail;return-1===C(t,e=Re(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(v(e,"dropRequireFailure",this))return this;e=Re(e,this);var t=C(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+Oe(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+Oe(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Ce},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!x(this.options.enable,[this,t]))return this.reset(),void(this.state=Ce);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},_(Me,Ze,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:Ce}}),_(Ie,Me,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Te),e&z&&t.push(Se),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return Me.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Le(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),_(Ne,Me,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),_(Fe,Ze,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[xe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return Ce},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),_(je,Me,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),_(De,Me,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ie.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:n&z&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&d(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Le(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),_(ze,Ze,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ke]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||K(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Ce},failTimeout:function(){return this._timer=p((function(){this.state=Ce}),this.options.interval,this),Ce},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Be.VERSION="2.0.7",Be.defaults={domEvents:!1,touchAction:we,enable:!0,inputTarget:null,inputClass:null,preset:[[je,{enable:!1}],[Ne,{enable:!1},["rotate"]],[De,{direction:6}],[Ie,{direction:6},["swipe"]],[ze],[ze,{event:"doubletap",taps:2},["tap"]],[Fe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ue(e,t){var n;this.options=u({},Be.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(N?oe:F?he:I?ve:ee))(n,G),this.touchAction=new Ae(this,this.options.touchAction),Ve(this,!0),g(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ve(e,t){var n,r=e.element;r.style&&(g(e.options.cssProps,(function(i,o){n=L(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Ue.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Ze)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(v(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(v(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=C(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return g(A(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return g(A(e),(function(e){t?n[e]&&n[e].splice(C(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Ve(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Be,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Ce,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:z,DIRECTION_ALL:30,Manager:Ue,Input:V,TouchAction:Ae,TouchInput:he,MouseInput:ee,PointerEventInput:oe,TouchMouseInput:ve,SingleTouchInput:le,Recognizer:Ze,AttrRecognizer:Me,Tap:ze,Pan:Ie,Swipe:De,Pinch:Ne,Rotate:je,Press:Fe,on:E,off:S,each:g,merge:b,extend:m,assign:u,inherit:_,bindFn:w,prefixed:L}),("undefined"!==typeof i?i:"undefined"!==typeof self?self:{}).Hammer=Be,(r=function(){return Be}.call(t,n,t,e))===s||(e.exports=r)}(window,document)},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var m=d(n,y);try{l(t,y,m)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case g:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===c},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===m||e.$$typeof===b||e.$$typeof===_||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},1426:function(e){var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,u=[],l=!1,c=-1;function f(){l&&s&&(l=!1,s.length?u=s.concat(u):c=-1,u.length&&d())}function d(){if(!l){var e=a(f);l=!0;for(var t=u.length;t;){for(s=u,u=[];++c<t;)s&&s[c].run();c=-1,t=u.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),P=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var N,F=Object.assign;function j(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var D=!1;function z(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{D=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case S:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case Z:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){Q(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,Ee=null;function Se(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Te(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Pe(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ae(e,t){return e(t)}function Ce(){}var Ze=!1;function Oe(e,t,n){if(Ze)return e(t,n);Ze=!0;try{return Ae(e,t,n)}finally{Ze=!1,(null!==ke||null!==Ee)&&(Ce(),Pe())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(c)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ce){Re=!1}function Ie(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ne=!1,Fe=null,je=!1,De=null,ze={onError:function(e){Ne=!0,Fe=e}};function Be(e,t,n,r,i,o,a,s,u){Ne=!1,Fe=null,Ie.apply(ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ue(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,qe=i.unstable_requestPaint,Qe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ft(s):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,kt,Et,St,Tt=!1,Pt=[],At=null,Ct=null,Zt=null,Ot=new Map,Lt=new Map,Rt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Nt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=mi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void St(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Dt(e,t,n){jt(e)&&n.delete(t)}function zt(){Tt=!1,null!==At&&jt(At)&&(At=null),null!==Ct&&jt(Ct)&&(Ct=null),null!==Zt&&jt(Zt)&&(Zt=null),Ot.forEach(Dt),Lt.forEach(Dt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Pt.length){Bt(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Ct&&Bt(Ct,e),null!==Zt&&Bt(Zt,e),Ot.forEach(t),Lt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var Vt=_.ReactCurrentBatchConfig,Gt=!0;function Wt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=1,Xt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Ht(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=4,Xt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Xt(e,t,n,r){if(Gt){var i=Kt(e,t,n,r);if(null===i)Gr(e,t,r,Yt,n),It(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Nt(At,e,t,n,r,i),!0;case"dragenter":return Ct=Nt(Ct,e,t,n,r,i),!0;case"mouseover":return Zt=Nt(Zt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Nt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Lt.set(o,Nt(Lt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Kt(e,t,n,r))&&Gr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Yt=null;function Kt(e,t,n,r){if(Yt=null,null!==(e=mi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,$t=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=$t,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),fn=F({},ln,{view:0,detail:0}),dn=on(fn),hn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),vn=on(F({},hn,{dataTransfer:0})),gn=on(F({},fn,{relatedTarget:0})),yn=on(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(mn),_n=on(F({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return En}var Tn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=on(Tn),An=on(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=on(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Zn=on(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=on(On),Rn=[9,13,27,32],Mn=c&&"CompositionEvent"in window,In=null;c&&"documentMode"in document&&(In=document.documentMode);var Nn=c&&"TextEvent"in window&&!In,Fn=c&&(!Mn||In&&8<In&&11>=In),jn=String.fromCharCode(32),Dn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Xn=null;function Yn(e){jr(e,0)}function Kn(e){if(X(_i(e)))return e}function qn(e,t){if("change"===e)return t}var Qn=!1;if(c){var $n;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}$n=Jn}else $n=!1;Qn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Xn=Hn=null)}function nr(e){if("value"===e.propertyName&&Kn(Xn)){var t=[];Wn(t,Xn,e,we(e)),Oe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Xn)}function or(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,mr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Er={};function Sr(e){if(kr[e])return kr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=Sr("animationend"),Pr=Sr("animationiteration"),Ar=Sr("animationstart"),Cr=Sr("transitionend"),Zr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Zr.set(e,t),u(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Mr=Or[Rr];Lr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Lr(Tr,"onAnimationEnd"),Lr(Pr,"onAnimationIteration"),Lr(Ar,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Cr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,l){if(Be.apply(this,arguments),Ne){if(!Ne)throw Error(o(198));var c=Fe;Ne=!1,Fe=null,je||(je=!0,De=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,l),o=u}}}if(je)throw e=De,je=!1,De=null,e}function Dr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Nr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(qt(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=mi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=o,i=we(n),a=[];e:{var s=Zr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Pn;break;case"focusin":l="focus",u=gn;break;case"focusout":l="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Tr:case Pr:case Ar:u=yn;break;case Cr:u=Zn;break;case"scroll":u=dn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Le(p,d))&&c.push(Wr(p,v,h)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(l=n.relatedTarget||n.fromElement)||!mi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?mi(l):null)&&(l!==(f=Ue(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:_i(u),h=null==l?s:_i(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,mi(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=h,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(d=l,p=0,h=c=u;h;h=Xr(h))p++;for(h=0,v=d;v;v=Xr(v))h++;for(;0<p-h;)c=Xr(c),p--;for(;0<h-p;)d=Xr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Xr(c),d=Xr(d)}c=null}else c=null;null!==u&&Yr(a,s,u,c,!1),null!==l&&null!==f&&Yr(a,f,l,c,!0)}if("select"===(u=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=qn;else if(Gn(s))if(Qn)g=ar;else{g=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?_i(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,mr=null);break;case"focusout":mr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(a,n,i)}var m;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(m=en()):($t="value"in(Qt=i)?Qt.value:Qt.textContent,Un=!0)),0<(y=Hr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:y}),m?b.data=m:null!==(m=Bn(n))&&(b.data=m))),(m=Nn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Dn=!0,jn);case"textInput":return(e=t.data)===jn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Mn&&zn(e,t)?(e=en(),Jt=$t=Qt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}jr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Le(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Le(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Le(n,o))&&a.unshift(Wr(n,u,s)):i||null!=(u=Le(n,o))&&a.push(Wr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,qr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(qr,"")}function $r(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,gi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function mi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[hi]||null}var xi=[],ki=-1;function Ei(e){return{current:e}}function Si(e){0>ki||(e.current=xi[ki],xi[ki]=null,ki--)}function Ti(e,t){ki++,xi[ki]=e.current,e.current=t}var Pi={},Ai=Ei(Pi),Ci=Ei(!1),Zi=Pi;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ci),Si(Ai)}function Mi(e,t,n){if(Ai.current!==Pi)throw Error(o(168));Ti(Ai,t),Ti(Ci,n)}function Ii(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return F({},n,r)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,Zi=Ai.current,Ti(Ai,e),Ti(Ci,Ci.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ii(e,t,Zi),r.__reactInternalMemoizedMergedChildContext=e,Si(Ci),Si(Ai),Ti(Ai,e)):Si(Ci),Ti(Ci,n)}var ji=null,Di=!1,zi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function Ui(){if(!zi&&null!==ji){zi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Di=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Xe(Je,Ui),i}finally{bt=t,zi=!1}}return null}var Vi=[],Gi=0,Wi=null,Hi=0,Xi=[],Yi=0,Ki=null,qi=1,Qi="";function $i(e,t){Vi[Gi++]=Hi,Vi[Gi++]=Wi,Wi=e,Hi=t}function Ji(e,t,n){Xi[Yi++]=qi,Xi[Yi++]=Qi,Xi[Yi++]=Ki,Ki=e;var r=qi;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,qi=1<<32-at(t)+i|n<<i|r,Qi=o+e}else qi=1<<o|n<<i|r,Qi=e}function eo(e){null!==e.return&&($i(e,1),Ji(e,1,0))}function to(e){for(;e===Wi;)Wi=Vi[--Gi],Vi[Gi]=null,Hi=Vi[--Gi],Vi[Gi]=null;for(;e===Ki;)Ki=Xi[--Yi],Xi[Yi]=null,Qi=Xi[--Yi],Xi[Yi]=null,qi=Xi[--Yi],Xi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ol(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:qi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ol(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=li(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var go=_.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var mo=Ei(null),bo=null,_o=null,wo=null;function xo(){wo=_o=bo=null}function ko(e){var t=mo.current;Si(mo),e._currentValue=t}function Eo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function So(e,t){bo=e,wo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===bo)throw Error(o(308));_o=e,bo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Po=null;function Ao(e){null===Po?Po=[e]:Po.push(e)}function Co(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ao(t)):(n.next=i.next,i.next=n),t.interleaved=n,Zo(e,r)}function Zo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Io(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Zo(e,n)}return null===(i=r.interleaved)?(t.next=t,Ao(r)):(t.next=i.next,i.next=t),r.interleaved=t,Zo(e,n)}function No(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Oo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?o=l:a.next=l,a=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(a=0,c=l=u=null,s=o;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=F({},f,d);break e;case 2:Oo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=h,u=f):c=c.next=h,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Nu|=a,e.lanes=a,e.memoizedState=f}}function Do(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var zo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Uo={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Mo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Io(e,o,i))&&(nl(t,e,i,r),No(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Mo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Io(e,o,i))&&(nl(t,e,i,r),No(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Mo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Io(e,i,r))&&(nl(t,e,r,n),No(t,e,r))}};function Vo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Go(e,t,n){var r=!1,i=Pi,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(i=Li(t)?Zi:Ai.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Pi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zo,Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=To(o):(o=Li(t)?Zi:Ai.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Uo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===zo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===k?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===L&&Ko(o)===t.type)?((r=i(t,n.props)).ref=Xo(e,t,n),r.return=e,r):((r=Ml(n.type,n.key,n.props,null,e.mode,r)).ref=Xo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Il(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ml(t.type,t.key,t.props,null,e.mode,n)).ref=Xo(e,null,t),n.return=e,n;case x:return(t=jl(t,e.mode,n)).return=e,t;case L:return d(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Il(t,e.mode,n,null)).return=e,t;Yo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case L:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||I(n))return null!==i?null:f(e,t,n,r,null);Yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||I(r))return f(t,e=e.get(n)||null,r,i,null);Yo(t,r)}return null}function v(i,o,s,u){for(var l=null,c=null,f=o,v=o=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var y=h(i,f,s[v],u);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===c?l=y:c.sibling=y,c=y,f=g}if(v===s.length)return n(i,f),io&&$i(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(o=a(f,o,v),null===c?l=f:c.sibling=f,c=f);return io&&$i(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),o=a(g,o,v),null===c?l=g:c.sibling=g,c=g);return e&&f.forEach((function(e){return t(i,e)})),io&&$i(i,v),l}function g(i,s,u,l){var c=I(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var f=c=null,v=s,g=s=0,y=null,m=u.next();null!==v&&!m.done;g++,m=u.next()){v.index>g?(y=v,v=null):y=v.sibling;var b=h(i,v,m.value,l);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,g),null===f?c=b:f.sibling=b,f=b,v=y}if(m.done)return n(i,v),io&&$i(i,g),c;if(null===v){for(;!m.done;g++,m=u.next())null!==(m=d(i,m.value,l))&&(s=a(m,s,g),null===f?c=m:f.sibling=m,f=m);return io&&$i(i,g),c}for(v=r(i,v);!m.done;g++,m=u.next())null!==(m=p(v,i,g,m.value,l))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=a(m,s,g),null===f?c=m:f.sibling=m,f=m);return e&&v.forEach((function(e){return t(i,e)})),io&&$i(i,g),c}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var l=a.key,c=o;null!==c;){if(c.key===l){if((l=a.type)===k){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===L&&Ko(l)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Xo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===k?((o=Il(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Ml(a.type,a.key,a.props,null,r.mode,u)).ref=Xo(r,o,a),u.return=r,r=u)}return s(r);case x:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jl(a,r.mode,u)).return=r,r=o}return s(r);case L:return e(r,o,(c=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(I(a))return g(r,o,a,u);Yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fl(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Qo=qo(!0),$o=qo(!1),Jo={},ea=Ei(Jo),ta=Ei(Jo),na=Ei(Jo);function ra(e){if(e===Jo)throw Error(o(174));return e}function ia(e,t){switch(Ti(na,t),Ti(ta,e),Ti(ea,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(ea),Ti(ea,t)}function oa(){Si(ea),Si(ta),Si(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Ti(ta,e),Ti(ea,n))}function sa(e){ta.current===e&&(Si(ea),Si(ta))}var ua=Ei(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function fa(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var da=_.ReactCurrentDispatcher,ha=_.ReactCurrentBatchConfig,pa=0,va=null,ga=null,ya=null,ma=!1,ba=!1,_a=0,wa=0;function xa(){throw Error(o(321))}function ka(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,_a=0,25<=a)throw Error(o(301));a+=1,ya=ga=null,t.updateQueue=null,da.current=ls,e=n(r,i)}while(ba)}if(da.current=as,t=null!==ga&&null!==ga.next,pa=0,ya=ga=va=null,ma=!1,t)throw Error(o(300));return e}function Sa(){var e=0!==_a;return _a=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?va.memoizedState=ya=e:ya=ya.next=e,ya}function Pa(){if(null===ga){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ya?va.memoizedState:ya.next;if(null!==t)ya=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ya?va.memoizedState=ya=e:ya=ya.next=e}return ya}function Aa(e,t){return"function"===typeof t?t(e):t}function Ca(e){var t=Pa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var f=c.lane;if((pa&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=r):l=l.next=d,va.lanes|=f,Nu|=f}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Nu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Za(e){var t=Pa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Oa(){}function La(e,t){var n=va,r=Pa(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,_s=!0),r=r.queue,Ga(Ia.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Da(9,Ma.bind(null,n,r,i,t),void 0,null),null===Cu)throw Error(o(349));0!==(30&pa)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ma(e,t,n,r){t.value=n,t.getSnapshot=r,Na(t)&&Fa(e)}function Ia(e,t,n){return n((function(){Na(t)&&Fa(e)}))}function Na(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fa(e){var t=Zo(e,1);null!==t&&nl(t,e,1,-1)}function ja(e){var t=Ta();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function Da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return Pa().memoizedState}function Ba(e,t,n,r){var i=Ta();va.flags|=e,i.memoizedState=Da(1|t,n,void 0,void 0===r?null:r)}function Ua(e,t,n,r){var i=Pa();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&ka(r,a.deps))return void(i.memoizedState=Da(t,n,o,r))}va.flags|=e,i.memoizedState=Da(1|t,n,o,r)}function Va(e,t){return Ba(8390656,8,e,t)}function Ga(e,t){return Ua(2048,8,e,t)}function Wa(e,t){return Ua(4,2,e,t)}function Ha(e,t){return Ua(4,4,e,t)}function Xa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4,4,Xa.bind(null,t,e),n)}function Ka(){}function qa(e,t){var n=Pa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ka(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=Pa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ka(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Nu|=n,e.baseState=!0),t)}function Ja(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{bt=n,ha.transition=r}}function es(){return Pa().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Co(e,t,n,r))){nl(n,e,r,el()),os(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,Ao(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Co(e,t,i,r))&&(nl(n,e,r,i=el()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){ba=ma=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var as={readContext:To,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:To,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:ja,useDebugValue:Ka,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=Ja.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=Ta();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Cu)throw Error(o(349));0!==(30&pa)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Va(Ia.bind(null,r,a,e),[e]),r.flags|=2048,Da(9,Ma.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Cu.identifierPrefix;if(io){var n=Qi;t=":"+t+"R"+(n=(qi&~(1<<32-at(qi)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:To,useCallback:qa,useContext:To,useEffect:Ga,useImperativeHandle:Ya,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Qa,useReducer:Ca,useRef:za,useState:function(){return Ca(Aa)},useDebugValue:Ka,useDeferredValue:function(e){return $a(Pa(),ga.memoizedState,e)},useTransition:function(){return[Ca(Aa)[0],Pa().memoizedState]},useMutableSource:Oa,useSyncExternalStore:La,useId:es,unstable_isNewReconciler:!1},ls={readContext:To,useCallback:qa,useContext:To,useEffect:Ga,useImperativeHandle:Ya,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Qa,useReducer:Za,useRef:za,useState:function(){return Za(Aa)},useDebugValue:Ka,useDeferredValue:function(e){var t=Pa();return null===ga?t.memoizedState=e:$a(t,ga.memoizedState,e)},useTransition:function(){return[Za(Aa)[0],Pa().memoizedState]},useMutableSource:Oa,useSyncExternalStore:La,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Mo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gu||(Gu=!0,Wu=r),ds(0,t)},n}function vs(e,t,n){(n=Mo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mo(-1,1)).tag=2,Io(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=_.ReactCurrentOwner,_s=!1;function ws(e,t,n,r){t.child=null===e?$o(t,null,n,r):Qo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return So(t,i),r=Ea(e,t,n,r,o,i),n=Sa(),null===e||_s?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function ks(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ll(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ml(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Es(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Rl(o,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return Ps(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ru,Lu),Lu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ru,Lu),Lu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Ru,Lu),Lu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Ru,Lu),Lu|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ps(e,t,n,r,i){var o=Li(n)?Zi:Ai.current;return o=Oi(t,o),So(t,i),n=Ea(e,t,n,r,o,i),r=Sa(),null===e||_s?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function As(e,t,n,r,i){if(Li(n)){var o=!0;Ni(t)}else o=!1;if(So(t,i),null===t.stateNode)Vs(e,t),Go(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=To(l):l=Oi(t,l=Li(n)?Zi:Ai.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Wo(t,a,r,l),Oo=!1;var d=t.memoizedState;a.state=d,jo(t,r,a,i),u=t.memoizedState,s!==r||d!==u||Ci.current||Oo?("function"===typeof c&&(Bo(t,n,c,r),u=t.memoizedState),(s=Oo||Vo(t,n,s,r,d,u,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ro(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:yo(t.type,s),a.props=l,f=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=To(u):u=Oi(t,u=Li(n)?Zi:Ai.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&Wo(t,a,r,u),Oo=!1,d=t.memoizedState,a.state=d,jo(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||Ci.current||Oo?("function"===typeof h&&(Bo(t,n,h,r),p=t.memoizedState),(l=Oo||Vo(t,n,l,r,d,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,o,i)}function Cs(e,t,n,r,i,o){Ts(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Gs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Qo(t,e.child,null,o),t.child=Qo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Zs(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),ia(e,t.containerInfo)}function Os(e,t,n,r,i){return po(),vo(i),t.flags|=256,ws(e,t,n,r),t.child}var Ls,Rs,Ms,Is={dehydrated:null,treeContext:null,retryLane:0};function Ns(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(ua,1&a),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Nl(u,i,0,null),e=Il(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ns(n),t.memoizedState=Is,e):js(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Ds(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Nl({mode:"visible",children:r.children},i,0,null),(a=Il(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Qo(t,e.child,null,s),t.child.memoizedState=Ns(s),t.memoizedState=Is,a);if(0===(1&t.mode))return Ds(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Ds(e,t,s,r=fs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),_s||u){if(null!==(r=Cu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Zo(e,i),nl(r,e,i,-1))}return vl(),Ds(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Xi[Yi++]=qi,Xi[Yi++]=Qi,Xi[Yi++]=Ki,qi=e.id,Qi=e.overflow,Ki=t),(t=js(t,r.children)).flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Rl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Rl(r,s):(s=Il(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ns(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Is,i}return e=(s=e.child).sibling,i=Rl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Nl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ds(e,t,n,r){return null!==r&&vo(r),Qo(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Eo(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Nu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Li(t.type)&&Ri(),Hs(t),null;case 3:return r=t.stateNode,oa(),Si(Ci),Si(Ai),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(al(oo),oo=null))),Hs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Hs(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(i=0;i<Ir.length;i++)Dr(Ir[i],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":q(r,a),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Dr("invalid",r);break;case"textarea":ie(r,a),Dr("invalid",r)}for(var u in me(n,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Dr("scroll",r)}switch(n){case"input":H(r),J(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[hi]=r,Ls(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),i=r;break;case"iframe":case"object":case"embed":Dr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ir.length;i++)Dr(Ir[i],e);i=r;break;case"source":Dr("error",e),i=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),i=r;break;case"details":Dr("toggle",e),i=r;break;case"input":q(e,r),i=K(e,r),Dr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Dr("invalid",e)}for(a in me(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Dr("scroll",e):null!=c&&b(e,a,c,u))}switch(n){case"input":H(e),J(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Ms(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Hs(t),null;case 13:if(Si(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),a=!1}else null!==oo&&(al(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Mu&&(Mu=3):vl())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return oa(),null===e&&Ur(t.stateNode.containerInfo),Hs(t),null;case 10:return ko(t.type._context),Hs(t),null;case 19:if(Si(ua),null===(a=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Ws(a,!1);else{if(0!==Mu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=la(e))){for(t.flags|=128,Ws(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Uu&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Hs(t),null}else 2*Qe()-a.renderingStartTime>Uu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=ua.current,Ti(ua,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Lu)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return Li(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Si(Ci),Si(Ai),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Si(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ua),null;case 4:return oa(),null;case 10:return ko(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Ls=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=K(e,i),r=K(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in me(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Dr("scroll",e),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,qs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,$s=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){El(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:qs||Js(n,t);case 6:var r=cu,i=fu;cu=null,du(e,t,n),fu=i,null!==(cu=r)&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Ut(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=fu,cu=n.stateNode.containerInfo,fu=!0,du(e,t,n),cu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,t,a),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!qs&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){El(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(qs=(r=qs)||null!==n.memoizedState,du(e,t,n),qs=r):du(e,t,n);break;default:du(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Al.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,fu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===cu)throw Error(o(160));hu(a,s,i),cu=null,fu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){El(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(g){El(e,e.return,g)}try{nu(5,e,e.return)}catch(g){El(e,e.return,g)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){El(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&Q(i,a),be(u,s);var c=be(u,a);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];"style"===f?ge(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,c)}switch(u){case"input":$(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(g){El(e,e.return,g)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){El(e,e.return,g)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){El(e,e.return,g)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Qe())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(qs=(c=qs)||f,vu(t,e),qs=c):vu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for($s=e,f=e.child;null!==f;){for(d=$s=f;null!==$s;){switch(p=(h=$s).child,h.tag){case 0:case 11:case 14:case 15:nu(4,h,h.return);break;case 1:Js(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){El(r,n,g)}}break;case 5:Js(h,h.return);break;case 22:if(null!==h.memoizedState){wu(d);continue}}null!==p?(p.return=h,$s=p):wu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=d.stateNode,s=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(g){El(e,e.return,g)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){El(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(o(161))}}catch(s){El(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function mu(e,t,n){$s=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ks;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||qs;s=Ks;var l=qs;if(Ks=a,(qs=u)&&!l)for($s=i;null!==$s;)u=(a=$s).child,22===a.tag&&null!==a.memoizedState?xu(i):null!==u?(u.return=a,$s=u):xu(i);for(;null!==o;)$s=o,bu(o,t,n),o=o.sibling;$s=i,Ks=s,qs=l}_u(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,$s=o):_u(e)}}function _u(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:qs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Do(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Do(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Ut(d)}}}break;default:throw Error(o(163))}qs||512&t.flags&&iu(t)}catch(h){El(t,t.return,h)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function wu(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function xu(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){El(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){El(t,i,u)}}var o=t.return;try{iu(t)}catch(u){El(t,o,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){El(t,a,u)}}}catch(u){El(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var ku,Eu=Math.ceil,Su=_.ReactCurrentDispatcher,Tu=_.ReactCurrentOwner,Pu=_.ReactCurrentBatchConfig,Au=0,Cu=null,Zu=null,Ou=0,Lu=0,Ru=Ei(0),Mu=0,Iu=null,Nu=0,Fu=0,ju=0,Du=null,zu=null,Bu=0,Uu=1/0,Vu=null,Gu=!1,Wu=null,Hu=null,Xu=!1,Yu=null,Ku=0,qu=0,Qu=null,$u=-1,Ju=0;function el(){return 0!==(6&Au)?Qe():-1!==$u?$u:$u=Qe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Au)&&0!==Ou?Ou&-Ou:null!==go.transition?(0===Ju&&(Ju=vt()),Ju):0!==(e=bt)?e:e=void 0===(e=window.event)?16:qt(e.type)}function nl(e,t,n,r){if(50<qu)throw qu=0,Qu=null,Error(o(185));yt(e,n,r),0!==(2&Au)&&e===Cu||(e===Cu&&(0===(2&Au)&&(Fu|=n),4===Mu&&sl(e,Ou)),rl(e,r),1===n&&0===Au&&0===(1&t.mode)&&(Uu=Qe()+500,Di&&Ui()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=ht(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=dt(e,e===Cu?Ou:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Di=!0,Bi(e)}(ul.bind(null,e)):Bi(ul.bind(null,e)),ai((function(){0===(6&Au)&&Ui()})),n=null;else{switch(_t(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if($u=-1,Ju=0,0!==(6&Au))throw Error(o(327));var n=e.callbackNode;if(xl()&&e.callbackNode!==n)return null;var r=dt(e,e===Cu?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=Au;Au|=2;var a=pl();for(Cu===e&&Ou===t||(Vu=null,Uu=Qe()+500,dl(e,t));;)try{ml();break}catch(u){hl(e,u)}xo(),Su.current=a,Au=i,null!==Zu?t=0:(Cu=null,Ou=0,t=Mu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Iu,dl(e,0),sl(e,r),rl(e,Qe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&(0!==(a=pt(e))&&(r=a,t=ol(e,a))),1===t))throw n=Iu,dl(e,0),sl(e,r),rl(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wl(e,zu,Vu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Bu+500-Qe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,zu,Vu),t);break}wl(e,zu,Vu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,zu,Vu),r);break}wl(e,zu,Vu);break;default:throw Error(o(329))}}}return rl(e,Qe()),e.callbackNode===n?il.bind(null,e):null}function ol(e,t){var n=Du;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=zu,zu=n,null!==t&&al(t)),e}function al(e){null===zu?zu=e:zu.push.apply(zu,e)}function sl(e,t){for(t&=~ju,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Au))throw Error(o(327));xl();var t=dt(e,0);if(0===(1&t))return rl(e,Qe()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Iu,dl(e,0),sl(e,t),rl(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,zu,Vu),rl(e,Qe()),null}function ll(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(Uu=Qe()+500,Di&&Ui())}}function cl(e){null!==Yu&&0===Yu.tag&&0===(6&Au)&&xl();var t=Au;Au|=1;var n=Pu.transition,r=bt;try{if(Pu.transition=null,bt=1,e)return e()}finally{bt=r,Pu.transition=n,0===(6&(Au=t))&&Ui()}}function fl(){Lu=Ru.current,Si(Ru)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Zu)for(n=Zu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:oa(),Si(Ci),Si(Ai),fa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Si(ua);break;case 10:ko(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Cu=e,Zu=e=Rl(e.current,null),Ou=Lu=t,Mu=0,Iu=null,ju=Fu=Nu=0,zu=Du=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return e}function hl(e,t){for(;;){var n=Zu;try{if(xo(),da.current=as,ma){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ma=!1}if(pa=0,ya=ga=va=null,ba=!1,_a=0,Tu.current=null,null===n||null===n.return){Mu=1,Iu=t,Zu=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Ou,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&gs(a,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}if(0===(1&t)){gs(a,c,t),vl();break e}l=Error(o(426))}else if(io&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ms(y,s,u,0,t),vo(cs(l,u));break e}}a=l=cs(l,u),4!==Mu&&(Mu=2),null===Du?Du=[a]:Du.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ps(0,l,t));break e;case 1:u=l;var m=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof m.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hu||!Hu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}_l(n)}catch(_){t=_,Zu===n&&null!==n&&(Zu=n=n.return);continue}break}}function pl(){var e=Su.current;return Su.current=as,null===e?as:e}function vl(){0!==Mu&&3!==Mu&&2!==Mu||(Mu=4),null===Cu||0===(268435455&Nu)&&0===(268435455&Fu)||sl(Cu,Ou)}function gl(e,t){var n=Au;Au|=2;var r=pl();for(Cu===e&&Ou===t||(Vu=null,dl(e,t));;)try{yl();break}catch(i){hl(e,i)}if(xo(),Au=n,Su.current=r,null!==Zu)throw Error(o(261));return Cu=null,Ou=0,Mu}function yl(){for(;null!==Zu;)bl(Zu)}function ml(){for(;null!==Zu&&!Ke();)bl(Zu)}function bl(e){var t=ku(e.alternate,e,Lu);e.memoizedProps=e.pendingProps,null===t?_l(e):Zu=t,Tu.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Lu)))return void(Zu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Zu=n);if(null===e)return Mu=6,void(Zu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Zu=t);Zu=t=e}while(null!==t);0===Mu&&(Mu=5)}function wl(e,t,n){var r=bt,i=Pu.transition;try{Pu.transition=null,bt=1,function(e,t,n,r){do{xl()}while(null!==Yu);if(0!==(6&Au))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Cu&&(Zu=Cu=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xu||(Xu=!0,Cl(tt,(function(){return xl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Pu.transition,Pu.transition=null;var s=bt;bt=1;var u=Au;Au|=4,Tu.current=null,function(e,t){if(ei=Gt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==a||0!==r&&3!==d.nodeType||(l=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(u=s),h===a&&++f===r&&(l=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,y=v.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:yo(t.type,g),y);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(w){El(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=tu,tu=!1}(e,n),gu(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,mu(n,e,i),qe(),Au=u,bt=s,Pu.transition=a}else e.current=n;if(Xu&&(Xu=!1,Yu=e,Ku=i),0===(a=e.pendingLanes)&&(Hu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Gu)throw Gu=!1,e=Wu,Wu=null,e;0!==(1&Ku)&&0!==e.tag&&xl(),0!==(1&(a=e.pendingLanes))?e===Qu?qu++:(qu=0,Qu=e):qu=0,Ui()}(e,t,n,r)}finally{Pu.transition=i,bt=r}return null}function xl(){if(null!==Yu){var e=_t(Ku),t=Pu.transition,n=bt;try{if(Pu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Ku=0,0!==(6&Au))throw Error(o(331));var i=Au;for(Au|=4,$s=e.current;null!==$s;){var a=$s,s=a.child;if(0!==(16&$s.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for($s=c;null!==$s;){var f=$s;switch(f.tag){case 0:case 11:case 15:nu(8,f,a)}var d=f.child;if(null!==d)d.return=f,$s=d;else for(;null!==$s;){var h=(f=$s).sibling,p=f.return;if(ou(f),f===c){$s=null;break}if(null!==h){h.return=p,$s=h;break}$s=p}}}var v=a.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}$s=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,$s=s;else e:for(;null!==$s;){if(0!==(2048&(a=$s).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,$s=m;break e}$s=a.return}}var b=e.current;for($s=b;null!==$s;){var _=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,$s=_;else e:for(s=b;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){El(u,u.return,x)}if(u===s){$s=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,$s=w;break e}$s=u.return}}if(Au=i,Ui(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Pu.transition=t}}return!1}function kl(e,t,n){e=Io(e,t=ps(0,t=cs(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function El(e,t,n){if(3===e.tag)kl(e,e,n);else for(;null!==t;){if(3===t.tag){kl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=Io(t,e=vs(t,e=cs(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Cu===e&&(Ou&n)===n&&(4===Mu||3===Mu&&(130023424&Ou)===Ou&&500>Qe()-Bu?dl(e,0):ju|=n),rl(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Zo(e,t))&&(yt(e,t,n),rl(e,n))}function Pl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Al(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tl(e,n)}function Cl(e,t){return Xe(e,t)}function Zl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Zl(e,t,n,r)}function Ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rl(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ml(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ll(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Il(n.children,i,a,t);case E:s=8,i|=8;break;case S:return(e=Ol(12,n,t,2|i)).elementType=S,e.lanes=a,e;case C:return(e=Ol(13,n,t,i)).elementType=C,e.lanes=a,e;case Z:return(e=Ol(19,n,t,i)).elementType=Z,e.lanes=a,e;case R:return Nl(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case P:s=9;break e;case A:s=11;break e;case O:s=14;break e;case L:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ol(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Il(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function Nl(e,t,n,r){return(e=Ol(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function jl(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,o,a,s,u){return e=new Dl(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ol(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Bl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ul(e){if(!e)return Pi;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Li(n))return Ii(e,n,t)}return t}function Vl(e,t,n,r,i,o,a,s,u){return(e=zl(n,r,!0,e,0,o,0,s,u)).context=Ul(null),n=e.current,(o=Mo(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Io(n,o,i),e.current.lanes=i,yt(e,i,r),rl(e,r),e}function Gl(e,t,n,r){var i=t.current,o=el(),a=tl(i);return n=Ul(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Io(i,t,a))&&(nl(e,i,a,o),No(e,i,a)),a}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xl(e,t){Hl(e,t),(e=e.alternate)&&Hl(e,t)}ku=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Zs(t),po();break;case 5:aa(t);break;case 1:Li(t.type)&&Ni(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(mo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ti(ua,1&ua.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ti(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Gs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,io&&0!==(1048576&t.flags)&&Ji(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var i=Oi(t,Ai.current);So(t,n),i=Ea(null,t,r,e,i,n);var a=Sa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(a=!0,Ni(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=Uo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Cs(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ll(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(r),e=yo(r,e),i){case 0:t=Ps(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=ks(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Zs(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ro(e,t),jo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Os(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Os(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=$o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Gs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&lo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&lo(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ti(mo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ci.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Mo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Eo(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Eo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,So(t,n),r=r(i=To(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),ks(e,t,r,i=yo(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),Vs(e,t),t.tag=1,Li(r)?(e=!0,Ni(t)):e=!1,So(t,n),Go(t,r,i),Ho(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Ss(e,t,n)}throw Error(o(156,t.tag))};var Yl="function"===typeof reportError?reportError:function(e){console.error(e)};function Kl(e){this._internalRoot=e}function ql(e){this._internalRoot=e}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wl(a);s.call(e)}}Gl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wl(a);o.call(e)}}var a=Vl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=a,e[pi]=a.current,Ur(8===e.nodeType?e.parentNode:e),cl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wl(u);s.call(e)}}var u=zl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=u,e[pi]=u.current,Ur(8===e.nodeType?e.parentNode:e),cl((function(){Gl(t,u,n,r)})),u}(n,t,e,i,r);return Wl(a)}ql.prototype.render=Kl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Gl(e,t,null,null)},ql.prototype.unmount=Kl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Gl(null,e,null,null)})),t[pi]=null}},ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(mt(t,1|n),rl(t,Qe()),0===(6&Au)&&(Uu=Qe()+500,Ui()))}break;case 13:cl((function(){var t=Zo(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Xl(e,1)}},xt=function(e){if(13===e.tag){var t=Zo(e,134217728);if(null!==t)nl(t,e,134217728,el());Xl(e,134217728)}},kt=function(e){if(13===e.tag){var t=tl(e),n=Zo(e,t);if(null!==n)nl(n,e,t,el());Xl(e,t)}},Et=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));X(r),$(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=ll,Ce=cl;var tc={usingClientEntryPoint:!1,Events:[bi,_i,wi,Te,Pe,ll]},nc={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(o(200));return Bl(e,t,null,n)},t.createRoot=function(e,t){if(!Ql(e))throw Error(o(299));var n=!1,r="",i=Yl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Kl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!$l(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ql(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Yl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vl(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ql(t)},t.render=function(e,t,n){if(!$l(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$l(e))throw Error(o(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$l(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case d:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var _=b.prototype=new m;_.constructor=b,v(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:k.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+A(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(P,"$&/")+"/"),C(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var l=0;l<e.length;l++){var c=o+A(s=e[l],l);u+=C(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,c=o+A(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function Z(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},R={transition:null},M={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};t.Children={map:Z,forEach:function(e,t,n){Z(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return Z(e,(function(){t++})),t},toArray:function(e){return Z(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)x.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>o(u,n))l<i&&0>o(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>o(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,d=null,h=3,p=!1,v=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(g=!1,_(e),!v)if(null!==r(l))v=!0,R(x);else{var t=r(c);null!==t&&M(w,t.startTime-e)}}function x(e,n){v=!1,g&&(g=!1,m(T),T=-1),p=!0;var o=h;try{for(_(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!C());){var a=d.callback;if("function"===typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&i(l),_(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var f=r(c);null!==f&&M(w,f.startTime-n),u=!1}return u}finally{d=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,S=null,T=-1,P=5,A=-1;function C(){return!(t.unstable_now()-A<P)}function Z(){if(null!==S){var e=t.unstable_now();A=e;var n=!0;try{n=S(!0,e)}finally{n?k():(E=!1,S=null)}}else E=!1}if("function"===typeof b)k=function(){b(Z)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,L=O.port2;O.port1.onmessage=Z,k=function(){L.postMessage(null)}}else k=function(){y(Z,0)};function R(e){S=e,E||(E=!0,k())}function M(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(l)&&e===r(c)&&(g?(m(T),T=-1):g=!0,M(w,o-a))):(e.sortIndex=s,n(l,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,l(i)&&c({inst:i})}),[e,n,t]),a((function(){return l(i)&&c({inst:i}),e((function(){l(i)&&c({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=l((function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,i]);var h=a(e,f[0],f[1]);return u((function(){d.hasValue=!0,d.value=h}),[h]),c(h),h}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},9521:function(){},2249:function(){},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},6296:function(e,t,n){"use strict";function r(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new i(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function i(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return i=function(e){this.s=e,this.n=e.next},i.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new i(e)}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},7277:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(1120),i=n(8814),o=n(1002),a=n(7326);function s(e,t){if(t&&("object"===(0,o.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,a.Z)(e)}function u(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return s(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},o.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},4925:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var d={};function h(){}function p(){}function v(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(T([])));m&&m!==t&&n.call(m,a)&&(g=m);var b=v.prototype=h.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(o,a,s,u){var l=f(e[o],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,u)}))}u(l.arg)}var o;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=v,l(b,"constructor",v),l(v,"constructor",p),p.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),l(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),l(b,u,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".db0f75ba.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="clockor2:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkclockor2=self.webpackChunkclockor2||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(2791),t=n.t(e,2),r=n(1250),i=n(7248),o=n(327),a=n(4164);var s=function(e){e()},u=function(){return s},l=e.createContext(null);function c(){return(0,e.useContext)(l)}var f=function(){throw new Error("uSES not initialized!")},d=f,h=function(e,t){return e===t};function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=t===l?c:function(){return(0,e.useContext)(t)};return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;var i=n(),o=i.store,a=i.subscription,s=i.getServerState,u=d(a.addNestedSub,o.getState,s||o.getState,t,r);return(0,e.useDebugValue)(u),u}}var v=p();n(2110),n(6900);var g={notify:function(){},get:function(){return[]}};function y(e,t){var n,r=g;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=u(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=g)},getListeners:function(){return r}};return a}var m=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?e.useLayoutEffect:e.useEffect;var b=function(t){var n=t.store,r=t.context,i=t.children,o=t.serverState,a=(0,e.useMemo)((function(){var e=y(n);return{store:n,subscription:e,getServerState:o?function(){return o}:void 0}}),[n,o]),s=(0,e.useMemo)((function(){return n.getState()}),[n]);m((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,s]);var u=r||l;return e.createElement(u.Provider,{value:a},i)};function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=t===l?c:function(){return(0,e.useContext)(t)};return function(){return n().store}}var w=_();function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=e===l?w:_(e);return function(){return t().dispatch}}var k,E=x();function S(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function T(e){return!!e&&!!e[ve]}function P(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ge}(e)||Array.isArray(e)||!!e[pe]||!!e.constructor[pe]||M(e)||I(e))}function A(e,t,n){void 0===n&&(n=!1),0===C(e)?(n?Object.keys:ye)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function C(e){var t=e[ve];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:M(e)?2:I(e)?3:0}function Z(e,t){return 2===C(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){return 2===C(e)?e.get(t):e[t]}function L(e,t,n){var r=C(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function R(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function M(e){return ce&&e instanceof Map}function I(e){return fe&&e instanceof Set}function N(e){return e.o||e.t}function F(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=me(e);delete t[ve];for(var n=ye(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function j(e,t){return void 0===t&&(t=!1),z(e)||T(e)||!P(e)||(C(e)>1&&(e.set=e.add=e.clear=e.delete=D),Object.freeze(e),t&&A(e,(function(e,t){return j(t,!0)}),!0)),e}function D(){S(2)}function z(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function B(e){var t=be[e];return t||S(18,e),t}function U(e,t){be[e]||(be[e]=t)}function V(){return ue}function G(e,t){t&&(B("Patches"),e.u=[],e.s=[],e.v=t)}function W(e){H(e),e.p.forEach(Y),e.p=null}function H(e){e===ue&&(ue=e.l)}function X(e){return ue={p:[],l:ue,h:e,m:!0,_:0}}function Y(e){var t=e[ve];0===t.i||1===t.i?t.j():t.O=!0}function K(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||B("ES5").S(t,e,r),r?(n[ve].P&&(W(t),S(4)),P(e)&&(e=q(t,e),t.l||$(t,e)),t.u&&B("Patches").M(n[ve].t,e,t.u,t.s)):e=q(t,n,[]),W(t),t.u&&t.v(t.u,t.s),e!==he?e:void 0}function q(e,t,n){if(z(t))return t;var r=t[ve];if(!r)return A(t,(function(i,o){return Q(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return $(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=F(r.k):r.o;A(3===r.i?new Set(i):i,(function(t,o){return Q(e,r,i,t,o,n)})),$(e,i,!1),n&&e.u&&B("Patches").R(r,n,e.u,e.s)}return r.o}function Q(e,t,n,r,i,o){if(T(i)){var a=q(e,i,o&&t&&3!==t.i&&!Z(t.D,r)?o.concat(r):void 0);if(L(n,r,a),!T(a))return;e.m=!1}if(P(i)&&!z(i)){if(!e.h.F&&e._<1)return;q(e,i),t&&t.A.l||$(e,i)}}function $(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&j(t,n)}function J(e,t){var n=e[ve];return(n?N(n):e)[t]}function ee(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function te(e){e.P||(e.P=!0,e.l&&te(e.l))}function ne(e){e.o||(e.o=F(e.t))}function re(e,t,n){var r=M(t)?B("MapSet").N(t,n):I(t)?B("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:V(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=_e;n&&(i=[r],o=we);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):B("ES5").J(t,n);return(n?n.A:V()).p.push(r),r}function ie(e){return T(e)||S(22,e),function e(t){if(!P(t))return t;var n,r=t[ve],i=C(t);if(r){if(!r.P&&(r.i<4||!B("ES5").K(r)))return r.t;r.I=!0,n=oe(t,i),r.I=!1}else n=oe(t,i);return A(n,(function(t,i){r&&O(r.t,t)===i||L(n,t,e(i))})),3===i?new Set(n):n}(e)}function oe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return F(e)}function ae(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ve];return _e.get(t,e)},set:function(t){var n=this[ve];_e.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ve];if(!i.P)switch(i.i){case 5:r(i)&&te(i);break;case 4:n(i)&&te(i)}}}function n(e){for(var t=e.t,n=e.k,r=ye(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==ve){var a=t[o];if(void 0===a&&!Z(t,o))return!0;var s=n[o],u=s&&s[ve];if(u?u.t!==a:!R(s,a))return!0}}var l=!!t[ve];return r.length!==ye(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};U("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=me(n);delete o[ve];for(var a=ye(o),s=0;s<a.length;s++){var u=a[s];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:V(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,ve,{value:o,writable:!0}),i},S:function(e,n,i){i?T(n)&&n[ve].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ve];if(n){var i=n.t,o=n.k,a=n.D,s=n.i;if(4===s)A(o,(function(t){t!==ve&&(void 0!==i[t]||Z(i,t)?a[t]||e(o[t]):(a[t]=!0,te(n)))})),A(i,(function(e){void 0!==o[e]||Z(o,e)||(a[e]=!1,te(n))}));else if(5===s){if(r(n)&&(te(n),a.length=!0),o.length<i.length)for(var u=o.length;u<i.length;u++)a[u]=!1;else for(var l=i.length;l<o.length;l++)a[l]=!0;for(var c=Math.min(o.length,i.length),f=0;f<c;f++)o.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&e(o[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){d=e}(o.useSyncExternalStoreWithSelector),function(e){e}(i.useSyncExternalStore),k=a.unstable_batchedUpdates,s=k;var se,ue,le="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ce="undefined"!=typeof Map,fe="undefined"!=typeof Set,de="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,he=le?Symbol.for("immer-nothing"):((se={})["immer-nothing"]=!0,se),pe=le?Symbol.for("immer-draftable"):"__$immer_draftable",ve=le?Symbol.for("immer-state"):"__$immer_state",ge=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ye="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,me=Object.getOwnPropertyDescriptors||function(e){var t={};return ye(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},be={},_e={get:function(e,t){if(t===ve)return e;var n=N(e);if(!Z(n,t))return function(e,t,n){var r,i=ee(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!P(r)?r:r===J(e.t,t)?(ne(e),e.o[t]=re(e.A.h,r,e)):r},has:function(e,t){return t in N(e)},ownKeys:function(e){return Reflect.ownKeys(N(e))},set:function(e,t,n){var r=ee(N(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=J(N(e),t),o=null==i?void 0:i[ve];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(R(n,i)&&(void 0!==n||Z(e.t,t)))return!0;ne(e),te(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==J(e.t,t)||t in e.t?(e.D[t]=!1,ne(e),te(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=N(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){S(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){S(12)}},we={};A(_e,(function(e,t){we[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),we.deleteProperty=function(e,t){return we.set.call(this,e,t,void 0)},we.set=function(e,t,n){return _e.set.call(this,e[0],t,n,e[0])};var xe=function(){function e(e){var t=this;this.g=de,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&S(6),void 0!==r&&"function"!=typeof r&&S(7),P(e)){var s=X(t),u=re(t,e,void 0),l=!0;try{a=n(u),l=!1}finally{l?W(s):H(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return G(s,r),K(e,s)}),(function(e){throw W(s),e})):(G(s,r),K(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===he&&(a=void 0),t.F&&j(a,!0),r){var c=[],f=[];B("Patches").M(e,a,c,f),r(c,f)}return a}S(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){P(e)||S(8),T(e)&&(e=ie(e));var t=X(this),n=re(this,e,void 0);return n[ve].C=!0,H(t),n},t.finishDraft=function(e,t){var n=(e&&e[ve]).A;return G(n,t),K(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!de&&S(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=B("Patches").$;return T(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),ke=new xe,Ee=ke.produce,Se=(ke.produceWithPatches.bind(ke),ke.setAutoFreeze.bind(ke),ke.setUseProxies.bind(ke),ke.applyPatches.bind(ke),ke.createDraft.bind(ke),ke.finishDraft.bind(ke),Ee),Te=n(1413);function Pe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ae="function"===typeof Symbol&&Symbol.observable||"@@observable",Ce=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ze={INIT:"@@redux/INIT"+Ce(),REPLACE:"@@redux/REPLACE"+Ce(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ce()}};function Oe(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Le(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Pe(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Pe(1));return n(Le)(e,t)}if("function"!==typeof e)throw new Error(Pe(2));var i=e,o=t,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function c(){if(u)throw new Error(Pe(3));return o}function f(e){if("function"!==typeof e)throw new Error(Pe(4));if(u)throw new Error(Pe(5));var t=!0;return l(),s.push(e),function(){if(t){if(u)throw new Error(Pe(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),a=null}}}function d(e){if(!Oe(e))throw new Error(Pe(7));if("undefined"===typeof e.type)throw new Error(Pe(8));if(u)throw new Error(Pe(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(Pe(10));i=e,d({type:Ze.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Pe(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[Ae]=function(){return this},e}return d({type:Ze.INIT}),(r={dispatch:d,subscribe:f,getState:c,replaceReducer:h})[Ae]=p,r}function Re(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Ze.INIT}))throw new Error(Pe(12));if("undefined"===typeof n(void 0,{type:Ze.PROBE_UNKNOWN_ACTION()}))throw new Error(Pe(13))}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],l=n[u],c=e[u],f=l(c,t);if("undefined"===typeof f){t&&t.type;throw new Error(Pe(14))}i[u]=f,r=r||f!==c}return(r=r||a.length!==Object.keys(e).length)?i:e}}function Me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Ie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Pe(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=Me.apply(void 0,o)(n.dispatch),(0,Te.Z)((0,Te.Z)({},n),{},{dispatch:r})}}}function Ne(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Fe=Ne();Fe.withExtraArgument=Ne;var je=Fe,De=(n(1426),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),ze=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Be=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Ue=Object.defineProperty,Ve=Object.defineProperties,Ge=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,Ye=function(e,t,n){return t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ke=function(e,t){for(var n in t||(t={}))He.call(t,n)&&Ye(e,n,t[n]);if(We)for(var r=0,i=We(t);r<i.length;r++){n=i[r];Xe.call(t,n)&&Ye(e,n,t[n])}return e},qe=function(e,t){return Ve(e,Ge(t))},Qe=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{s(n.next(e))}catch(t){i(t)}},a=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};s((n=n.apply(e,t)).next())}))},$e="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Me:Me.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Je(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var et=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return De(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Be([void 0],e[0].concat(this)))):new(t.bind.apply(t,Be([void 0],e.concat(this))))},t}(Array);function tt(e){return P(e)?Se(e,(function(){})):e}function nt(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new et);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(je.withExtraArgument(n.extraArgument)):r.push(je));0;return r}(e)}}function rt(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ke(Ke({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function it(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function ot(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:tt(e.initialState),i=e.reducers||{},o=Object.keys(i),a={},s={},u={};function l(){var t="function"===typeof e.extraReducers?it(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,u=t[2],l=void 0===u?void 0:u,c=Ke(Ke({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?it(t):[t,n,r],a=o[0],s=o[1],u=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return tt(e())};else{var l=tt(e);i=function(){return l}}function c(e,t){void 0===e&&(e=i());var n=Be([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(T(e))return void 0===(r=n(e,t))?e:r;if(P(e))return Se(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return c.getInitialState=i,c}(r,c,a,l)}return o.forEach((function(e){var n,r,o=i[e],l=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,s[l]=n,u[e]=r?rt(l,r):rt(l)})),{name:t,reducer:function(e,t){return n||(n=l()),n(e,t)},actions:u,caseReducers:a,getInitialState:function(){return n||(n=l()),n.getInitialState()}}}var at=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},st=["name","message","stack","code"],ut=function(e,t){this.payload=e,this.meta=t},lt=function(e,t){this.payload=e,this.meta=t},ct=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=st;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};function ft(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var dt="listenerMiddleware";rt(dt+"/add"),rt(dt+"/removeAll"),rt(dt+"/remove");ae();var ht=ot({name:"tree",initialState:{source:"",selectedIds:[]},reducers:{setSelectedIds:function(e,t){e.selectedIds=t.payload},setSource:function(e,t){e.source=t.payload}}}),pt=ht.actions,vt=pt.setSelectedIds,gt=pt.setSource,yt=function(e){return e.tree.source},mt=ht.reducer,bt=n(4165),_t=n(5861);function wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var xt=function(e,t,n){var r=rt(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:qe(Ke({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=rt(e+"/pending",(function(e,t,n){return{payload:void 0,meta:qe(Ke({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=rt(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||ct)(e||"Rejected"),meta:qe(Ke({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),a="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,l){var c,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):at(),d=new a,h=new Promise((function(e,t){return d.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:c||"Aborted"})}))})),p=!1;var v=function(){return Qe(this,null,(function(){var a,c,v,g,y;return ze(this,(function(m){switch(m.label){case 0:return m.trys.push([0,4,,5]),g=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,e,{getState:u,extra:l}),null===(b=g)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,g];case 1:g=m.sent(),m.label=2;case 2:if(!1===g)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return p=!0,s(i(f,e,null==(c=null==n?void 0:n.getPendingMeta)?void 0:c.call(n,{requestId:f,arg:e},{getState:u,extra:l}))),[4,Promise.race([h,Promise.resolve(t(e,{dispatch:s,getState:u,extra:l,requestId:f,signal:d.signal,rejectWithValue:function(e,t){return new ut(e,t)},fulfillWithValue:function(e,t){return new lt(e,t)}})).then((function(t){if(t instanceof ut)throw t;return t instanceof lt?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=m.sent(),[3,5];case 4:return y=m.sent(),v=y instanceof ut?o(null,f,e,y.payload,y.meta):o(y,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(v)&&v.meta.condition||s(v),[2,v]}var b}))}))}();return Object.assign(v,{abort:function(e){p&&(c=e,d.abort())},requestId:f,arg:e,unwrap:function(){return v.then(ft)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}("counter/fetchCount",function(){var e=(0,_t.Z)((0,bt.Z)().mark((function e(t){var n;return(0,bt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),kt=ot({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(xt.pending,(function(e){e.status="loading"})).addCase(xt.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload})).addCase(xt.rejected,(function(e){e.status="failed"}))}}),Et=kt.actions,St=(Et.increment,Et.decrement,Et.incrementByAmount,kt.reducer),Tt=ot({name:"regression",initialState:{data:{},selectedIds:[]},reducers:{setData:function(e,t){e.data=t.payload}}}),Pt=(Tt.actions.setData,function(e){var t,n=nt(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,u=r.devTools,l=void 0===u||u,c=r.preloadedState,f=void 0===c?void 0:c,d=r.enhancers,h=void 0===d?void 0:d;if("function"===typeof o)t=o;else{if(!Je(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Re(o)}var p=s;"function"===typeof p&&(p=p(n));var v=Ie.apply(void 0,p),g=Me;l&&(g=$e(Ke({trace:!1},"object"===typeof l&&l)));var y=[v];return Array.isArray(h)?y=Be([v],h):"function"===typeof h&&(y=h(y)),Le(t,f,g.apply(void 0,y))}({reducer:{tree:mt,regression:Tt.reducer,counter:St}})),At=n(885),Ct=function(){return E()},Zt=v,Ot=n(5671),Lt=n(3144),Rt=n(1752),Mt=n(1120),It=n(136),Nt=n(7277),Ft=function(e){(0,It.Z)(n,e);var t=(0,Nt.Z)(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,Ot.Z)(this,n),(i=t.call(this,e,r,o)).clickHandlers=[],i.view.style.backgroundImage="",i}return(0,Lt.Z)(n,[{key:"handleClick",value:function(e,t){(0,Rt.Z)((0,Mt.Z)(n.prototype),"handleClick",this).call(this,e,t);var r=this.pickNodeFromLayer(e);this.selectInternalNode(r,t.srcEvent.metaKey||t.srcEvent.ctrlKey),this.clickHandlers.forEach((function(n){return n(e,t)}))}},{key:"addClickHandler",value:function(e){this.clickHandlers.push(e)}},{key:"getLeafNodeIds",value:function(e){var t=[];return function e(n){if(n.isLeaf)t.push(n.id);else for(var r=0;r<n.children.length;r++)e(n.children[r])}(e),t}},{key:"selectInternalNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(console.log(e),e&&!e.isLeaf){var n=this.getLeafNodeIds(e);this.selectLeafNodes(n,t)}}}]),n}(n(5877).PhylocanvasGL),jt=n(184);function Dt(t){var n=Ct(),r=(0,e.useRef)(null);return(0,e.useEffect)((function(){if(t.source){var e=document.querySelector("#tree");r.current=new Ft(e,t),r.current.addClickHandler((function(e,t){var i;n(vt(null===(i=r.current)||void 0===i?void 0:i.props.selectedIds))}))}return function(){var e;null===(e=r.current)||void 0===e||e.destroy()}}),[t,n]),(0,jt.jsx)("div",{children:(0,jt.jsx)("div",{id:"tree"})})}var zt=n(2007),Bt=n.n(zt);function Ut(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Vt(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function Gt(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Wt(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Ht=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Xt(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=Ht.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var Yt=[".DS_Store","Thumbs.db"];function Kt(e){return"object"===typeof e&&null!==e}function qt(e){return en(e.target.files).map((function(e){return Xt(e)}))}function Qt(e){return Ut(this,void 0,void 0,(function(){return Vt(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return Xt(e)}))]}}))}))}function $t(e,t){return Ut(this,void 0,void 0,(function(){var n;return Vt(this,(function(r){switch(r.label){case 0:return e.items?(n=en(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(tn))]):[3,2];case 1:return[2,Jt(nn(r.sent()))];case 2:return[2,Jt(en(e.files).map((function(e){return Xt(e)})))]}}))}))}function Jt(e){return e.filter((function(e){return-1===Yt.indexOf(e.name)}))}function en(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function tn(e){if("function"!==typeof e.webkitGetAsEntry)return rn(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?an(t):rn(e)}function nn(e){return e.reduce((function(e,t){return Wt(Wt([],Gt(e),!1),Gt(Array.isArray(t)?nn(t):[t]),!1)}),[])}function rn(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=Xt(t);return Promise.resolve(n)}function on(e){return Ut(this,void 0,void 0,(function(){return Vt(this,(function(t){return[2,e.isDirectory?an(e):sn(e)]}))}))}function an(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var o=this;t.readEntries((function(t){return Ut(o,void 0,void 0,(function(){var o,a,s;return Vt(this,(function(u){switch(u.label){case 0:if(t.length)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return o=u.sent(),e(o),[3,4];case 3:return a=u.sent(),n(a),[3,4];case 4:return[3,6];case 5:s=Promise.all(t.map(on)),r.push(s),i(),u.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function sn(e){return Ut(this,void 0,void 0,(function(){return Vt(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=Xt(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var un=n(9998);function ln(e){return function(e){if(Array.isArray(e))return vn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||pn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(e,t){if(e){if("string"===typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vn(e,t):void 0}}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gn="file-invalid-type",yn="file-too-large",mn="file-too-small",bn="too-many-files",_n=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:gn,message:"File type must be ".concat(t)}},wn=function(e){return{code:yn,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},xn=function(e){return{code:mn,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},kn={code:bn,message:"Too many files"};function En(e,t){var n="application/x-moz-file"===e.type||(0,un.Z)(e,t);return[n,n?null:_n(t)]}function Sn(e,t,n){if(Tn(e.size))if(Tn(t)&&Tn(n)){if(e.size>n)return[!1,wn(n)];if(e.size<t)return[!1,xn(t)]}else{if(Tn(t)&&e.size<t)return[!1,xn(t)];if(Tn(n)&&e.size>n)return[!1,wn(n)]}return[!0,null]}function Tn(e){return void 0!==e&&null!==e}function Pn(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,a=e.maxFiles,s=e.validator;return!(!o&&t.length>1||o&&a>=1&&t.length>a)&&t.every((function(e){var t=hn(En(e,n),1)[0],o=hn(Sn(e,r,i),1)[0],a=s?s(e):null;return t&&o&&!a}))}function An(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function Cn(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function Zn(e){e.preventDefault()}function On(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function Ln(e){return-1!==e.indexOf("Edge/")}function Rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return On(e)||Ln(e)}function Mn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!An(e)&&t&&t.apply(void 0,[e].concat(r)),An(e)}))}}function In(){return"showOpenFilePicker"in window}function Nn(e){return Tn(e)?[{accept:Object.entries(e).filter((function(e){var t=hn(e,2),n=t[0],r=t[1],i=!0;return zn(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),Array.isArray(r)&&r.every(Bn)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),i=!1),i})).reduce((function(e,t){var n=hn(t,2),r=n[0],i=n[1];return fn(fn({},e),{},dn({},r,i))}),{})}]:e}function Fn(e){if(Tn(e))return Object.entries(e).reduce((function(e,t){var n=hn(t,2),r=n[0],i=n[1];return[].concat(ln(e),[r],ln(i))}),[]).filter((function(e){return zn(e)||Bn(e)})).join(",")}function jn(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}function Dn(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}function zn(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}function Bn(e){return/^.*\.[\w]+$/.test(e)}var Un=["children"],Vn=["open"],Gn=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Wn=["refKey","onChange","onClick"];function Hn(e){return function(e){if(Array.isArray(e))return Kn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||Yn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yn(e,t){if(e){if("string"===typeof e)return Kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kn(e,t):void 0}}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){$n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var er=(0,e.forwardRef)((function(t,n){var r=t.children,i=rr(Jn(t,Un)),o=i.open,a=Jn(i,Vn);return(0,e.useImperativeHandle)(n,(function(){return{open:o}}),[o]),e.createElement(e.Fragment,null,r(Qn(Qn({},a),{},{open:o})))}));er.displayName="Dropzone";var tr={disabled:!1,getFilesFromEvent:function(e){return Ut(this,void 0,void 0,(function(){return Vt(this,(function(t){return Kt(e)&&Kt(e.dataTransfer)?[2,$t(e.dataTransfer,e.type)]:function(e){return Kt(e)&&Kt(e.target)}(e)?[2,qt(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"===typeof e.getFile}))?[2,Qt(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};er.defaultProps=tr,er.propTypes={children:Bt().func,accept:Bt().objectOf(Bt().arrayOf(Bt().string)),multiple:Bt().bool,preventDropOnDocument:Bt().bool,noClick:Bt().bool,noKeyboard:Bt().bool,noDrag:Bt().bool,noDragEventsBubbling:Bt().bool,minSize:Bt().number,maxSize:Bt().number,maxFiles:Bt().number,disabled:Bt().bool,getFilesFromEvent:Bt().func,onFileDialogCancel:Bt().func,onFileDialogOpen:Bt().func,useFsAccessApi:Bt().bool,autoFocus:Bt().bool,onDragEnter:Bt().func,onDragLeave:Bt().func,onDragOver:Bt().func,onDrop:Bt().func,onDropAccepted:Bt().func,onDropRejected:Bt().func,onError:Bt().func,validator:Bt().func};var nr={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function rr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Qn(Qn({},tr),t),r=n.accept,i=n.disabled,o=n.getFilesFromEvent,a=n.maxSize,s=n.minSize,u=n.multiple,l=n.maxFiles,c=n.onDragEnter,f=n.onDragLeave,d=n.onDragOver,h=n.onDrop,p=n.onDropAccepted,v=n.onDropRejected,g=n.onFileDialogCancel,y=n.onFileDialogOpen,m=n.useFsAccessApi,b=n.autoFocus,_=n.preventDropOnDocument,w=n.noClick,x=n.noKeyboard,k=n.noDrag,E=n.noDragEventsBubbling,S=n.onError,T=n.validator,P=(0,e.useMemo)((function(){return Fn(r)}),[r]),A=(0,e.useMemo)((function(){return Nn(r)}),[r]),C=(0,e.useMemo)((function(){return"function"===typeof y?y:or}),[y]),Z=(0,e.useMemo)((function(){return"function"===typeof g?g:or}),[g]),O=(0,e.useRef)(null),L=(0,e.useRef)(null),R=(0,e.useReducer)(ir,nr),M=Xn(R,2),I=M[0],N=M[1],F=I.isFocused,j=I.isFileDialogActive,D=(0,e.useRef)("undefined"!==typeof window&&window.isSecureContext&&m&&In()),z=function(){!D.current&&j&&setTimeout((function(){L.current&&(L.current.files.length||(N({type:"closeDialog"}),Z()))}),300)};(0,e.useEffect)((function(){return window.addEventListener("focus",z,!1),function(){window.removeEventListener("focus",z,!1)}}),[L,j,Z,D]);var B=(0,e.useRef)([]),U=function(e){O.current&&O.current.contains(e.target)||(e.preventDefault(),B.current=[])};(0,e.useEffect)((function(){return _&&(document.addEventListener("dragover",Zn,!1),document.addEventListener("drop",U,!1)),function(){_&&(document.removeEventListener("dragover",Zn),document.removeEventListener("drop",U))}}),[O,_]),(0,e.useEffect)((function(){return!i&&b&&O.current&&O.current.focus(),function(){}}),[O,b,i]);var V=(0,e.useCallback)((function(e){S?S(e):console.error(e)}),[S]),G=(0,e.useCallback)((function(e){e.preventDefault(),e.persist(),re(e),B.current=[].concat(Hn(B.current),[e.target]),Cn(e)&&Promise.resolve(o(e)).then((function(t){if(!An(e)||E){var n=t.length,r=n>0&&Pn({files:t,accept:P,minSize:s,maxSize:a,multiple:u,maxFiles:l,validator:T});N({isDragAccept:r,isDragReject:n>0&&!r,isDragActive:!0,type:"setDraggedFiles"}),c&&c(e)}})).catch((function(e){return V(e)}))}),[o,c,V,E,P,s,a,u,l,T]),W=(0,e.useCallback)((function(e){e.preventDefault(),e.persist(),re(e);var t=Cn(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&d&&d(e),!1}),[d,E]),H=(0,e.useCallback)((function(e){e.preventDefault(),e.persist(),re(e);var t=B.current.filter((function(e){return O.current&&O.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),B.current=t,t.length>0||(N({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Cn(e)&&f&&f(e))}),[O,f,E]),X=(0,e.useCallback)((function(e,t){var n=[],r=[];e.forEach((function(e){var t=Xn(En(e,P),2),i=t[0],o=t[1],u=Xn(Sn(e,s,a),2),l=u[0],c=u[1],f=T?T(e):null;if(i&&l&&!f)n.push(e);else{var d=[o,c];f&&(d=d.concat(f)),r.push({file:e,errors:d.filter((function(e){return e}))})}})),(!u&&n.length>1||u&&l>=1&&n.length>l)&&(n.forEach((function(e){r.push({file:e,errors:[kn]})})),n.splice(0)),N({acceptedFiles:n,fileRejections:r,type:"setFiles"}),h&&h(n,r,t),r.length>0&&v&&v(r,t),n.length>0&&p&&p(n,t)}),[N,u,P,s,a,l,h,p,v,T]),Y=(0,e.useCallback)((function(e){e.preventDefault(),e.persist(),re(e),B.current=[],Cn(e)&&Promise.resolve(o(e)).then((function(t){An(e)&&!E||X(t,e)})).catch((function(e){return V(e)})),N({type:"reset"})}),[o,X,V,E]),K=(0,e.useCallback)((function(){if(D.current){N({type:"openDialog"}),C();var e={multiple:u,types:A};window.showOpenFilePicker(e).then((function(e){return o(e)})).then((function(e){X(e,null),N({type:"closeDialog"})})).catch((function(e){jn(e)?(Z(e),N({type:"closeDialog"})):Dn(e)?(D.current=!1,L.current?(L.current.value=null,L.current.click()):V(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):V(e)}))}else L.current&&(N({type:"openDialog"}),C(),L.current.value=null,L.current.click())}),[N,C,Z,m,X,V,A,u]),q=(0,e.useCallback)((function(e){O.current&&O.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),K()))}),[O,K]),Q=(0,e.useCallback)((function(){N({type:"focus"})}),[]),$=(0,e.useCallback)((function(){N({type:"blur"})}),[]),J=(0,e.useCallback)((function(){w||(Rn()?setTimeout(K,0):K())}),[w,K]),ee=function(e){return i?null:e},te=function(e){return x?null:ee(e)},ne=function(e){return k?null:ee(e)},re=function(e){E&&e.stopPropagation()},ie=(0,e.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,o=e.onKeyDown,a=e.onFocus,s=e.onBlur,u=e.onClick,l=e.onDragEnter,c=e.onDragOver,f=e.onDragLeave,d=e.onDrop,h=Jn(e,Gn);return Qn(Qn($n({onKeyDown:te(Mn(o,q)),onFocus:te(Mn(a,Q)),onBlur:te(Mn(s,$)),onClick:ee(Mn(u,J)),onDragEnter:ne(Mn(l,G)),onDragOver:ne(Mn(c,W)),onDragLeave:ne(Mn(f,H)),onDrop:ne(Mn(d,Y)),role:"string"===typeof r&&""!==r?r:"presentation"},n,O),i||x?{}:{tabIndex:0}),h)}}),[O,q,Q,$,J,G,W,H,Y,x,k,i]),oe=(0,e.useCallback)((function(e){e.stopPropagation()}),[]),ae=(0,e.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,i=e.onClick,o=Jn(e,Wn),a=$n({accept:P,multiple:u,type:"file",style:{display:"none"},onChange:ee(Mn(r,Y)),onClick:ee(Mn(i,oe)),tabIndex:-1},n,L);return Qn(Qn({},a),o)}}),[L,r,u,Y,i]);return Qn(Qn({},I),{},{isFocused:F&&!i,getRootProps:ie,getInputProps:ae,rootRef:O,inputRef:L,open:ee(K)})}function ir(e,t){switch(t.type){case"focus":return Qn(Qn({},e),{},{isFocused:!0});case"blur":return Qn(Qn({},e),{},{isFocused:!1});case"openDialog":return Qn(Qn({},nr),{},{isFileDialogActive:!0});case"closeDialog":return Qn(Qn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Qn(Qn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Qn(Qn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Qn({},nr);default:return e}}function or(){}var ar="Tree_dropzone__jL3O9";function sr(e){return console.log("Skipping newick validation!"),e}function ur(t){var n=Ct(),r=rr({multiple:!1}),i=r.acceptedFiles,o=r.getRootProps,a=r.getInputProps;return(0,e.useEffect)((function(){var e=new FileReader;e.onload=function(){var e=(0,_t.Z)((0,bt.Z)().mark((function e(t){var r,i;return(0,bt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"===typeof(r=t.target.result)&&(i=sr(r),n(gt(i)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),1===i.length&&e.readAsText(i[0])}),[i,n]),(0,jt.jsx)("section",{className:"flex items-center h-full mx-6 text-slate-500",children:(0,jt.jsxs)("div",(0,Te.Z)((0,Te.Z)({},o({className:ar+" bg-slate-100 border-zinc-500"})),{},{children:[(0,jt.jsx)("input",(0,Te.Z)({},a())),(0,jt.jsx)("p",{children:"Drag 'n' drop newick file here"})]}))})}var lr=n(4925),cr=n(1694),fr=n.n(cr),dr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hr=e.createContext&&e.createContext(dr),pr=function(){return pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pr.apply(this,arguments)},vr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function gr(t){return t&&t.map((function(t,n){return e.createElement(t.tag,pr({key:n},t.attr),gr(t.child))}))}function yr(t){return function(n){return e.createElement(mr,pr({attr:pr({},t.attr)},n),gr(t.child))}}function mr(t){var n=function(n){var r,i=t.attr,o=t.size,a=t.title,s=vr(t,["attr","size","title"]),u=o||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",pr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:pr(pr({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&e.createElement("title",null,a),t.children)};return void 0!==hr?e.createElement(hr.Consumer,null,(function(e){return n(e)})):n(dr)}function br(e){return yr({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(e)}function _r(e){return yr({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"}}]})(e)}function wr(e){return yr({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(e)}function xr(e){return yr({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"}}]})(e)}function kr(e){return yr({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(e)}function Er(e){return yr({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}}]})(e)}var Sr=function(e){return Tr({key:"className",source:e})},Tr=function(e){var t=e.key,n=e.source;return delete n[t],n},Pr={accordion:{base:"divide-y divide-gray-200 border-gray-200 dark:divide-gray-700 dark:border-gray-700",content:{base:"py-5 px-5 last:rounded-b-lg dark:bg-gray-900 first:rounded-t-lg"},flush:{off:"rounded-lg border",on:"border-b"},title:{arrow:{base:"h-6 w-6 shrink-0",open:{off:"",on:"rotate-180"}},base:"flex w-full items-center justify-between first:rounded-t-lg last:rounded-b-lg py-5 px-5 text-left font-medium text-gray-500 dark:text-gray-400",flush:{off:"hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:hover:bg-gray-800 dark:focus:ring-gray-800",on:"!bg-transparent dark:!bg-transparent"},heading:"",open:{off:"",on:"text-gray-900 bg-gray-100 dark:bg-gray-800 dark:text-white"}}},alert:{base:"flex flex-col gap-2 p-4 text-sm",borderAccent:"border-t-4",closeButton:{base:"-mx-1.5 -my-1.5 ml-auto inline-flex h-8 w-8 rounded-lg p-1.5 focus:ring-2",color:{info:"bg-blue-100 text-blue-500 hover:bg-blue-200 focus:ring-blue-400 dark:bg-blue-200 dark:text-blue-600 dark:hover:bg-blue-300",gray:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white",failure:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",success:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",warning:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300"}},color:{info:"text-blue-700 bg-blue-100 border-blue-500 dark:bg-blue-200 dark:text-blue-800",gray:"text-gray-700 bg-gray-100 border-gray-500 dark:bg-gray-700 dark:text-gray-300",failure:"text-red-700 bg-red-100 border-red-500 dark:bg-red-200 dark:text-red-800",success:"text-green-700 bg-green-100 border-green-500 dark:bg-green-200 dark:text-green-800",warning:"text-yellow-700 bg-yellow-100 border-yellow-500 dark:bg-yellow-200 dark:text-yellow-800"},icon:"mr-3 inline h-5 w-5 flex-shrink-0",rounded:"rounded-lg"},avatar:{base:"flex items-center space-x-4",bordered:"p-1 ring-2 ring-gray-300 dark:ring-gray-500",img:{off:"rounded relative overflow-hidden bg-gray-100 dark:bg-gray-600",on:"rounded"},rounded:"!rounded-full",size:{xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-20 h-20",xl:"w-36 h-36"},stacked:"ring-2 ring-gray-300 dark:ring-gray-500",status:{away:"bg-yellow-400",base:"absolute h-3.5 w-3.5 rounded-full border-2 border-white dark:border-gray-800",busy:"bg-red-400",offline:"bg-gray-400",online:"bg-green-400"},statusPosition:{"bottom-left":"-bottom-1 -left-1","bottom-center":"-botton-1 center","bottom-right":"-bottom-1 -right-1","top-left":"-top-1 -left-1","top-center":"-top-1 center","top-right":"-top-1 -right-1","center-right":"center -right-1",center:"center center","center-left":"center -left-1"}},badge:{base:"flex h-fit items-center gap-1 font-semibold",color:{info:"bg-blue-100 text-blue-800 dark:bg-blue-200 dark:text-blue-800 group-hover:bg-blue-200 dark:group-hover:bg-blue-300",gray:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 group-hover:bg-gray-200 dark:group-hover:bg-gray-600",failure:"bg-red-100 text-red-800 dark:bg-red-200 dark:text-red-900 group-hover:bg-red-200 dark:group-hover:bg-red-300",success:"bg-green-100 text-green-800 dark:bg-green-200 dark:text-green-900 group-hover:bg-green-200 dark:group-hover:bg-green-300",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-200 dark:text-yellow-900 group-hover:bg-yellow-200 dark:group-hover:bg-yellow-300",indigo:"bg-indigo-100 text-indigo-800 dark:bg-indigo-200 dark:text-indigo-900 group-hover:bg-indigo-200 dark:group-hover:bg-indigo-300",purple:"bg-purple-100 text-purple-800 dark:bg-purple-200 dark:text-purple-900 group-hover:bg-purple-200 dark:group-hover:bg-purple-300",pink:"bg-pink-100 text-pink-800 dark:bg-pink-200 dark:text-pink-900 group-hover:bg-pink-200 dark:group-hover:bg-pink-300"},href:"group",icon:{off:"rounded px-2 py-0.5",on:"rounded-full p-1.5",size:{xs:"w-3 h-3",sm:"w-3.5 h-3.5"}},size:{xs:"p-1 text-xs",sm:"p-1.5 text-sm"}},breadcrumb:{item:{base:"group flex items-center",chevron:"mx-1 h-6 w-6 text-gray-400 group-first:hidden md:mx-2",href:{off:"flex items-center text-sm font-medium text-gray-500 dark:text-gray-400",on:"flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},icon:"mr-2 h-4 w-4"},list:"flex items-center"},button:{base:"group flex h-min w-fit items-center justify-center p-0.5 text-center font-medium focus:z-10",color:{dark:"text-white bg-gray-800 border border-transparent hover:bg-gray-900 focus:ring-4 focus:ring-gray-300 disabled:hover:bg-gray-800 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-800 dark:border-gray-700 dark:disabled:hover:bg-gray-800",failure:"text-white bg-red-700 border border-transparent hover:bg-red-800 focus:ring-4 focus:ring-red-300 disabled:hover:bg-red-800 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900 dark:disabled:hover:bg-red-600",gray:"text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 hover:text-blue-700 disabled:hover:bg-white focus:ring-blue-700 focus:text-blue-700 dark:bg-transparent dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 focus:ring-2 dark:disabled:hover:bg-gray-800",info:"text-white bg-blue-700 border border-transparent hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 disabled:hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 dark:disabled:hover:bg-blue-600",light:"text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 focus:ring-4 focus:ring-blue-300 disabled:hover:bg-white dark:bg-gray-600 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-700 dark:focus:ring-gray-700",purple:"text-white bg-purple-700 border border-transparent hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 disabled:hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900 dark:disabled:hover:bg-purple-600",success:"text-white bg-green-700 border border-transparent hover:bg-green-800 focus:ring-4 focus:ring-green-300 disabled:hover:bg-green-700 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800 dark:disabled:hover:bg-green-600",warning:"text-white bg-yellow-400 border border-transparent hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 disabled:hover:bg-yellow-400 dark:focus:ring-yellow-900 dark:disabled:hover:bg-yellow-400"},disabled:"cursor-not-allowed opacity-50",gradient:{cyan:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800",failure:"text-white bg-gradient-to-r from-red-400 via-red-500 to-red-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-red-300 dark:focus:ring-red-800",info:"text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800 ",lime:"text-gray-900 bg-gradient-to-r from-lime-200 via-lime-400 to-lime-500 hover:bg-gradient-to-br focus:ring-4 focus:ring-lime-300 dark:focus:ring-lime-800",pink:"text-white bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-pink-300 dark:focus:ring-pink-800",purple:"text-white bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-purple-300 dark:focus:ring-purple-800",success:"text-white bg-gradient-to-r from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-green-300 dark:focus:ring-green-800",teal:"text-white bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-teal-300 dark:focus:ring-teal-800"},gradientDuoTone:{cyanToBlue:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800",greenToBlue:"text-white bg-gradient-to-br from-green-400 to-blue-600 hover:bg-gradient-to-bl focus:ring-4 focus:ring-green-200 dark:focus:ring-green-800",pinkToOrange:"text-white bg-gradient-to-br from-pink-500 to-orange-400 hover:bg-gradient-to-bl focus:ring-4 focus:ring-pink-200 dark:focus:ring-pink-800",purpleToBlue:"text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800",purpleToPink:"text-white bg-gradient-to-r from-purple-500 to-pink-500 hover:bg-gradient-to-l focus:ring-4 focus:ring-purple-200 dark:focus:ring-purple-800",redToYellow:"text-gray-900 bg-gradient-to-r from-red-200 via-red-300 to-yellow-200 hover:bg-gradient-to-bl focus:ring-4 focus:ring-red-100 dark:focus:ring-red-400",tealToLime:"text-gray-900 bg-gradient-to-r from-teal-200 to-lime-200 hover:bg-gradient-to-l hover:from-teal-200 hover:to-lime-200 hover:!text-gray-900 focus:ring-4 focus:ring-lime-200 dark:focus:ring-teal-700"},inner:{base:"flex items-center",position:{none:"",start:"rounded-r-none",middle:"!rounded-none",end:"rounded-l-none"}},label:"ml-2 inline-flex h-4 w-4 items-center justify-center rounded-full bg-blue-200 text-xs font-semibold text-blue-800",outline:{color:{gray:"border border-gray-900 dark:border-white"},off:"",on:"bg-white text-gray-900 transition-all duration-75 ease-in group-hover:bg-opacity-0 group-hover:text-inherit dark:bg-gray-900 dark:text-white",pill:{off:"rounded-md",on:"rounded-full"}},pill:{off:"rounded-lg",on:"rounded-full"},size:{xs:"text-xs px-2 py-1",sm:"text-sm px-3 py-1.5",md:"text-sm px-4 py-2",lg:"text-base px-5 py-2.5",xl:"text-base px-6 py-3"}},buttonGroup:{base:"inline-flex",position:{none:"focus:!ring-2",start:"rounded-r-none",middle:"!rounded-none border-l-0 pl-0",end:"rounded-l-none border-l-0 pl-0"}},card:{base:"flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800",children:"flex h-full flex-col justify-center gap-4 p-6",horizontal:{off:"flex-col",on:"flex-col md:max-w-xl md:flex-row"},href:"hover:bg-gray-100 dark:hover:bg-gray-700",img:{base:"",horizontal:{off:"rounded-t-lg",on:"h-96 w-full rounded-t-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-l-lg"}}},carousel:{base:"relative h-full w-full",indicators:{active:{off:"bg-white/50 hover:bg-white dark:bg-gray-800/50 dark:hover:bg-gray-800",on:"bg-white dark:bg-gray-800"},base:"h-3 w-3 rounded-full",wrapper:"absolute bottom-5 left-1/2 flex -translate-x-1/2 space-x-3"},item:{base:"absolute top-1/2 left-1/2 block w-full -translate-x-1/2 -translate-y-1/2",wrapper:"w-full flex-shrink-0 transform cursor-grab snap-center"},control:{base:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/30 group-hover:bg-white/50 group-focus:outline-none group-focus:ring-4 group-focus:ring-white dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70 sm:h-10 sm:w-10",icon:"h-5 w-5 text-white dark:text-gray-800 sm:h-6 sm:w-6"},leftControl:"absolute top-0 left-0 flex h-full items-center justify-center px-4 focus:outline-none",rightControl:"absolute top-0 right-0 flex h-full items-center justify-center px-4 focus:outline-none",scrollContainer:{base:"flex h-full snap-mandatory overflow-y-hidden overflow-x-scroll scroll-smooth rounded-lg",snap:"snap-x"}},darkThemeToggle:{base:"rounded-lg p-2.5 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-700",icon:"h-5 w-5"},dropdown:{floating:{target:"w-fit",base:"z-10 w-fit rounded divide-y divide-gray-100 shadow",animation:"transition-opacity",hidden:"invisible opacity-0",style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},header:"block py-2 px-4 text-sm text-gray-700 dark:text-gray-200",content:"py-1 text-sm text-gray-700 dark:text-gray-200",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},item:{base:"flex items-center justify-start py-2 px-4 text-sm text-gray-700 cursor-pointer hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600 dark:hover:text-white",icon:"mr-2 h-4 w-4"},divider:"my-1 h-px bg-gray-100 dark:bg-gray-600"},arrowIcon:"ml-2 h-4 w-4",inlineWrapper:"flex items-center",content:"py-1"},footer:{base:"w-full rounded-lg bg-white shadow dark:bg-gray-800 md:flex md:items-center md:justify-between",container:"w-full p-6",bgDark:"bg-gray-800",groupLink:{base:"flex flex-wrap text-sm text-gray-500 dark:text-white",link:{base:"last:mr-0 md:mr-6",href:"hover:underline"},col:"flex-col space-y-4"},icon:{base:"text-gray-500 dark:hover:text-white",size:"h-5 w-5"},title:{base:"mb-6 text-sm font-semibold uppercase text-gray-500 dark:text-white"},divider:{base:"w-full my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8"},copyright:{base:"text-sm text-gray-500 dark:text-gray-400 sm:text-center",href:"ml-1 hover:underline",span:"ml-1"},brand:{base:"mb-4 flex items-center sm:mb-0",img:"mr-3 h-8",span:"self-center whitespace-nowrap text-2xl font-semibold text-gray-800 dark:text-white"}},formControls:{helperText:{base:"mt-2 text-sm",colors:{gray:"text-gray-500 dark:text-gray-400",info:"text-blue-700 dark:text-blue-800",success:"text-green-600 dark:text-green-500",failure:"text-red-600 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600"}},label:{base:"text-sm font-medium",colors:{default:"text-gray-900 dark:text-gray-300",info:"text-blue-500 dark:text-blue-600",failure:"text-red-700 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600",success:"text-green-700 dark:text-green-500"},disabled:"opacity-50"},radio:{base:"h-4 w-4 border border-gray-300 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:focus:bg-blue-600 dark:focus:ring-blue-600"},checkbox:{base:"h-4 w-4 rounded border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"},textInput:{base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},input:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"sm:text-md p-4"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",info:"border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 focus:border-blue-500 focus:ring-blue-500 dark:border-blue-400 dark:bg-blue-100 dark:focus:border-blue-500 dark:focus:ring-blue-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}}}},fileInput:{base:"flex",field:{base:"relative w-full",input:{base:"rounded-lg block w-full border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"sm:text-xs",md:"text-sm",lg:"sm:text-md"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",info:"border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 focus:border-blue-500 focus:ring-blue-500 dark:border-blue-400 dark:bg-blue-100 dark:focus:border-blue-500 dark:focus:ring-blue-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},toggleSwitch:{base:"group relative flex items-center rounded-lg focus:outline-none",active:{on:"cursor-pointer",off:"cursor-not-allowed opacity-50"},toggle:{base:"toggle-bg h-6 w-11 rounded-full border group-focus:ring-4 group-focus:ring-blue-500/25",checked:{on:"border-blue-700 bg-blue-700 after:translate-x-full after:border-white",off:"border-gray-200 bg-gray-200 dark:border-gray-600 dark:bg-gray-700"}},label:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},textarea:{base:"block w-full rounded-lg border disabled:cursor-not-allowed disabled:opacity-50",colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",info:"border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 focus:border-blue-500 focus:ring-blue-500 dark:border-blue-400 dark:bg-blue-100 dark:focus:border-blue-500 dark:focus:ring-blue-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}},select:{base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},select:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""},sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"sm:text-md p-4"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",info:"border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 focus:border-blue-500 focus:ring-blue-500 dark:border-blue-400 dark:bg-blue-100 dark:focus:border-blue-500 dark:focus:ring-blue-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}}},listGroup:{base:"list-none rounded-lg border border-gray-200 bg-white text-sm font-medium text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white",item:{active:{off:"hover:bg-gray-100 hover:text-blue-700 focus:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-700 dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:text-white dark:focus:ring-gray-500",on:"bg-blue-700 text-white dark:bg-gray-800"},base:"flex w-full cursor-pointer border-b border-gray-200 py-2 px-4 first:rounded-t-lg last:rounded-b-lg last:border-b-0 dark:border-gray-600",href:{off:"",on:""},icon:"mr-2 h-4 w-4 fill-current"}},modal:{base:"fixed top-0 right-0 left-0 z-50 h-modal overflow-y-auto overflow-x-hidden md:inset-0 md:h-full",show:{on:"flex bg-gray-900 bg-opacity-50 dark:bg-opacity-80",off:"hidden"},content:{base:"relative h-full w-full p-4 md:h-auto",inner:"relative rounded-lg bg-white shadow dark:bg-gray-700"},body:{base:"p-6",popup:"pt-0"},header:{base:"flex items-start justify-between rounded-t dark:border-gray-600 border-b p-5",popup:"!p-2 !border-b-0",title:"text-xl font-medium text-gray-900 dark:text-white",close:{base:"ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",icon:"h-5 w-5"}},footer:{base:"flex items-center space-x-2 rounded-b border-gray-200 p-6 dark:border-gray-600",popup:"border-t"},sizes:{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl","7xl":"max-w-7xl"},positions:{"top-left":"items-start justify-start","top-center":"items-start justify-center","top-right":"items-start justify-end","center-left":"items-center justify-start",center:"items-center justify-center","center-right":"items-center justify-end","bottom-right":"items-end justify-end","bottom-center":"items-end justify-center","bottom-left":"items-end justify-start"}},navbar:{base:"border-gray-200 bg-white px-2 py-2.5 dark:border-gray-700 dark:bg-gray-800 sm:px-4",rounded:{on:"rounded",off:""},bordered:{on:"border",off:""},inner:{base:"mx-auto flex flex-wrap items-center justify-between",fluid:{on:"",off:"container"}},brand:"flex items-center",collapse:{base:"w-full md:block md:w-auto",list:"mt-4 flex flex-col md:mt-0 md:flex-row md:space-x-8 md:text-sm md:font-medium",hidden:{on:"hidden",off:""}},link:{base:"block py-2 pr-4 pl-3 md:p-0",active:{on:"bg-blue-700 text-white dark:text-white md:bg-transparent md:text-blue-700",off:"border-b border-gray-100  text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:border-0 md:hover:bg-transparent md:hover:text-blue-700 md:dark:hover:bg-transparent md:dark:hover:text-white"},disabled:{on:"text-gray-400 hover:cursor-not-allowed dark:text-gray-600",off:""}},toggle:{base:"inline-flex items-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 md:hidden",icon:"h-6 w-6 shrink-0"}},rating:{base:"flex items-center",star:{sizes:{sm:"w-5 h-5",md:"w-7 h-7",lg:"w-10 h-10"},filled:"text-yellow-400",empty:"text-gray-300 dark:text-gray-500"},advanced:{base:"flex items-center",label:"text-sm font-medium text-blue-600 dark:text-blue-500",progress:{base:"mx-4 h-5 w-2/4 rounded bg-gray-200 dark:bg-gray-700",fill:"h-5 rounded bg-yellow-400",label:"text-sm font-medium text-blue-600 dark:text-blue-500"}}},pagination:{base:"",layout:{table:{base:"text-sm text-gray-700 dark:text-gray-400",span:"font-semibold text-gray-900 dark:text-white"}},pages:{base:"xs:mt-0 mt-2 inline-flex items-center -space-x-px",showIcon:"inline-flex",previous:{base:"ml-0 rounded-l-lg border border-gray-300 bg-white py-2 px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5"},next:{base:"rounded-r-lg border border-gray-300 bg-white py-2 px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5"},selector:{base:"w-12 border border-gray-300 bg-white py-2 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",active:"bg-blue-50 text-blue-600 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white"}}},sidebar:{base:"h-full",inner:"h-full overflow-y-auto overflow-x-hidden rounded bg-white py-4 px-3 dark:bg-gray-800",collapsed:{on:"w-16",off:"w-64"},collapse:{button:"group flex w-full items-center rounded-lg p-2 text-base font-normal text-gray-900 transition duration-75 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",icon:{base:"h-6 w-6 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",open:{off:"",on:"text-gray-900"}},label:{base:"ml-3 flex-1 whitespace-nowrap text-left",icon:"h-6 w-6"},list:"space-y-2 py-2"},cta:{base:"mt-6 rounded-lg p-4",color:{blue:"bg-blue-50 dark:bg-blue-900",dark:"bg-dark-50 dark:bg-dark-900",failure:"bg-red-50 dark:bg-red-900",gray:"bg-alternative-50 dark:bg-alternative-900",green:"bg-green-50 dark:bg-green-900",light:"bg-light-50 dark:bg-light-900",red:"bg-red-50 dark:bg-red-900",purple:"bg-purple-50 dark:bg-purple-900",success:"bg-green-50 dark:bg-green-900",yellow:"bg-yellow-50 dark:bg-yellow-900",warning:"bg-yellow-50 dark:bg-yellow-900"}},item:{base:"flex items-center justify-center rounded-lg p-2 text-base font-normal text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",active:"bg-gray-100 dark:bg-gray-700",collapsed:{insideCollapse:"group w-full pl-8 transition duration-75",noIcon:"font-bold"},content:{base:"px-3 flex-1 whitespace-nowrap"},icon:{base:"h-6 w-6 flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",active:"text-gray-700 dark:text-gray-100"}},items:"",itemGroup:"mt-4 space-y-2 border-t border-gray-200 pt-4 first:mt-0 first:border-t-0 first:pt-0 dark:border-gray-700",logo:{base:"mb-5 flex items-center pl-2.5",collapsed:{on:"hidden",off:"self-center whitespace-nowrap text-xl font-semibold dark:text-white"},img:"mr-3 h-6 sm:h-7"}},progress:{base:"w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",label:"mb-1 flex justify-between font-medium dark:text-white",bar:"flex items-center justify-center rounded-full text-center font-medium leading-none text-blue-100",color:{dark:"bg-gray-600 dark:bg-gray-300",blue:"bg-blue-600",red:"bg-red-600 dark:bg-red-500",green:"bg-green-600 dark:bg-green-500",yellow:"bg-yellow-400",indigo:"bg-indigo-600 dark:bg-indigo-500",purple:"bg-purple-600 dark:bg-purple-500"},size:{sm:"h-1.5",md:"h-2.5",lg:"h-4",xl:"h-6"}},spinner:{base:"inline animate-spin text-gray-200",color:{failure:"fill-red-600",gray:"fill-gray-600",info:"fill-blue-600",pink:"fill-pink-600",purple:"fill-purple-600",success:"fill-green-500",warning:"fill-yellow-400"},light:{off:{base:"dark:text-gray-600",color:{failure:"",gray:"dark:fill-gray-300",info:"",pink:"",purple:"",success:"",warning:""}},on:{base:"",color:{failure:"",gray:"",info:"",pink:"",purple:"",success:"",warning:""}}},size:{xs:"w-3 h-3",sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-10 h-10"}},tab:{base:"flex flex-col gap-2",tablist:{base:"flex text-center",styles:{default:"flex-wrap border-b border-gray-200 dark:border-gray-700",underline:"flex-wrap -mb-px border-b border-gray-200 dark:border-gray-700",pills:"flex-wrap font-medium text-sm text-gray-500 dark:text-gray-400",fullWidth:"hidden text-sm font-medium rounded-lg divide-x divide-gray-200 shadow sm:flex dark:divide-gray-700 dark:text-gray-400"},tabitem:{base:"flex items-center justify-center p-4 text-sm font-medium first:ml-0 disabled:cursor-not-allowed disabled:text-gray-400 disabled:dark:text-gray-500",styles:{default:{base:"rounded-t-lg",active:{on:"bg-gray-100 text-blue-600 dark:bg-gray-800 dark:text-blue-500",off:"text-gray-500 hover:bg-gray-50 hover:text-gray-600 dark:text-gray-400 dark:hover:bg-gray-800  dark:hover:text-gray-300"}},underline:{base:"rounded-t-lg",active:{on:"text-blue-600 rounded-t-lg border-b-2 border-blue-600 active dark:text-blue-500 dark:border-blue-500",off:"border-b-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300"}},pills:{base:"",active:{on:"rounded-lg bg-blue-600 text-white",off:"rounded-lg hover:text-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-white"}},fullWidth:{base:"ml-2 first:ml-0 w-full first:rounded-l-lg last:rounded-r-lg",active:{on:"inline-block p-4 w-full text-gray-900 bg-gray-100 focus:ring-4 focus:ring-blue-300 active focus:outline-none dark:bg-gray-700 dark:text-white",off:"bg-white hover:text-gray-700 hover:bg-gray-50 focus:ring-4 focus:ring-blue-300 focus:outline-none dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700"}}},icon:"mr-2 h-5 w-5"}},tabpanel:"p-4"},toast:{base:"flex w-full max-w-xs items-center rounded-lg bg-white p-4 text-gray-500 shadow dark:bg-gray-800 dark:text-gray-400",closed:"opacity-0 ease-out",removed:"hidden",toggle:{base:"-mx-1.5 -my-1.5 ml-auto inline-flex h-8 w-8 rounded-lg bg-white p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-900 focus:ring-2 focus:ring-gray-300 dark:bg-gray-800 dark:text-gray-500 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5 shrink-0"}},tooltip:{target:"w-fit",base:"absolute inline-block rounded-lg py-2 px-3 text-sm font-medium shadow-sm",animation:"transition-opacity",hidden:"invisible opacity-0",style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},content:"relative z-20",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"}}},Ar=(0,e.createContext)({theme:Pr});function Cr(){return(0,e.useContext)(Ar)}var Zr=(0,e.createContext)(void 0);function Or(){var t=(0,e.useContext)(Zr);if(!t)throw new Error("useAccordionContext should be used within the AccordionPanelContext provider!");return t}var Lr=["children"],Rr=function(e){var t=e.children,n=(0,lr.Z)(e,Lr),r=Sr(n),i=Or().isOpen,o=Cr().theme.accordion.content;return(0,jt.jsx)("div",(0,Te.Z)((0,Te.Z)({className:o.base,"data-testid":"flowbite-accordion-content",hidden:!i},r),{},{children:t}))},Mr=["children"],Ir=function(t){var n=t.children,r=(0,lr.Z)(t,Mr),i=r.alwaysOpen,o=(0,e.useState)(r.isOpen),a=(0,At.Z)(o,2),s=a[0],u=a[1],l=i?(0,Te.Z)((0,Te.Z)({},r),{},{isOpen:s,setOpen:function(){return u(!s)}}):r;return(0,jt.jsx)(Zr.Provider,{value:l,children:n})},Nr=["as","children"],Fr=function(e){var t=e.as,n=void 0===t?"h2":t,r=e.children,i=(0,lr.Z)(e,Nr),o=Sr(i),a=Or(),s=a.arrowIcon,u=a.flush,l=a.isOpen,c=a.setOpen,f=Cr().theme.accordion.title;return(0,jt.jsxs)("button",(0,Te.Z)((0,Te.Z)({className:fr()(f.base,f.flush[u?"on":"off"],f.open[l?"on":"off"]),onClick:function(){return"undefined"!==typeof c&&c()},type:"button"},o),{},{children:[(0,jt.jsx)(n,{className:f.heading,"data-testid":"flowbite-accordion-heading",children:r}),s&&(0,jt.jsx)(s,{"aria-hidden":!0,className:fr()(f.arrow.base,f.arrow.open[l?"on":"off"]),"data-testid":"flowbite-accordion-arrow"})]}))},jr=["alwaysOpen","arrowIcon","children","flush"],Dr=function(t){var n=t.alwaysOpen,r=void 0!==n&&n,i=t.arrowIcon,o=void 0===i?br:i,a=t.children,s=t.flush,u=void 0!==s&&s,l=(0,lr.Z)(t,jr),c=Sr(l),f=(0,e.useState)(0),d=(0,At.Z)(f,2),h=d[0],p=d[1],v=(0,e.useMemo)((function(){return e.Children.map(a,(function(t,n){return(0,e.cloneElement)(t,{alwaysOpen:r,arrowIcon:o,flush:u,isOpen:h===n,setOpen:function(){return p(n)}})}))}),[r,o,a,u,h]),g=Cr().theme.accordion;return(0,jt.jsx)("div",(0,Te.Z)((0,Te.Z)({className:fr()(g.base,g.flush[u?"on":"off"]),"data-testid":"flowbite-accordion"},c),{},{children:v}))};Dr.displayName="Accordion",Ir.displayName="Accordion.Panel",Fr.displayName="Accordion.Title",Rr.displayName="Accordion.Content";Object.assign(Dr,{Panel:Ir,Title:Fr,Content:Rr});var zr=function(e){var t=e.children;return(0,jt.jsx)("div",{"data-testid":"avatar-group-element",className:"mb-5 flex -space-x-4",children:t})};zr.displayName="Avatar.Group";var Br=zr,Ur=function(e){var t=e.total,n=e.href;return(0,jt.jsxs)("a",{className:"relative flex h-10 w-10 items-center justify-center rounded-full bg-gray-700 text-xs font-medium text-white ring-2 ring-gray-300 hover:bg-gray-600  dark:ring-gray-500 ",href:n,children:["+",t]})};Ur.displayName="Avatar.GroupCounter";var Vr=Ur,Gr=["alt","bordered","children","img","rounded","size","stacked","status","statusPosition"],Wr=function(e){var t=e.alt,n=void 0===t?"":t,r=e.bordered,i=void 0!==r&&r,o=e.children,a=e.img,s=e.rounded,u=void 0!==s&&s,l=e.size,c=void 0===l?"md":l,f=e.stacked,d=void 0!==f&&f,h=e.status,p=e.statusPosition,v=void 0===p?"top-left":p,g=(0,lr.Z)(e,Gr),y=Sr(g),m=Cr().theme.avatar;return(0,jt.jsxs)("div",(0,Te.Z)((0,Te.Z)({className:m.base,"data-testid":"flowbite-avatar"},y),{},{children:[(0,jt.jsxs)("div",{className:"relative",children:[a?(0,jt.jsx)("img",{alt:n,className:fr()(i&&m.bordered,u&&m.rounded,d&&m.stacked,m.img.on,m.size[c]),"data-testid":"flowbite-avatar-img",src:a}):(0,jt.jsx)("div",{className:fr()(i&&m.bordered,u&&m.rounded,d&&m.stacked,m.img.off,m.size[c]),"data-testid":"flowbite-avatar-img",children:(0,jt.jsx)("svg",{className:"absolute -bottom-1 h-auto w-auto text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,jt.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),h&&(0,jt.jsx)("span",{className:fr()(m.status.base,m.status[h],m.statusPosition[v])})]}),o&&(0,jt.jsx)("div",{children:o})]}))};Wr.displayName="Avatar";Object.assign(Wr,{Group:Br,Counter:Vr});var Hr=["children","color","href","icon","size"],Xr=function(e){var t=e.children,n=e.color,r=void 0===n?"info":n,i=e.href,o=e.icon,a=e.size,s=void 0===a?"xs":a,u=(0,lr.Z)(e,Hr),l=Sr(u),c=Cr().theme.badge,f=function(){return(0,jt.jsxs)("span",(0,Te.Z)((0,Te.Z)({className:fr()(c.base,c.color[r],c.icon[o?"on":"off"],c.size[s]),"data-testid":"flowbite-badge"},l),{},{children:[o&&(0,jt.jsx)(o,{"aria-hidden":!0,className:c.icon.size[s],"data-testid":"flowbite-badge-icon"}),t&&(0,jt.jsx)("span",{children:t})]}))};return i?(0,jt.jsx)("a",{className:c.href,href:i,children:(0,jt.jsx)(f,{})}):(0,jt.jsx)(f,{})},Yr=["children","href","icon"],Kr=function(e){var t=e.children,n=e.href,r=e.icon,i=(0,lr.Z)(e,Yr),o="undefined"!==typeof n,a=Sr(i),s=Cr().theme.breadcrumb.item,u=o?"a":"span";return(0,jt.jsxs)("li",(0,Te.Z)((0,Te.Z)({className:s.base},a),{},{children:[(0,jt.jsx)(kr,{"aria-hidden":!0,className:s.chevron,"data-testid":"flowbite-breadcrumb-separator"}),(0,jt.jsxs)(u,{className:s.href[o?"on":"off"],"data-testid":"flowbite-breadcrumb-item",href:n,children:[r&&(0,jt.jsx)(r,{"aria-hidden":!0,className:s.icon}),t]})]}))};Kr.displayName="Breadcrumb.Item";var qr=Kr,Qr=["children"],$r=function(e){var t=e.children,n=(0,lr.Z)(e,Qr),r=Cr().theme.breadcrumb;return(0,jt.jsx)("nav",(0,Te.Z)((0,Te.Z)({"aria-label":"Breadcrumb"},n),{},{children:(0,jt.jsx)("ol",{className:r.list,children:t})}))};$r.displayName="Breadcrumb";Object.assign($r,{Item:qr});var Jr=["children","outline","pill"],ei=function(t){var n=t.children,r=t.outline,i=t.pill,o=(0,lr.Z)(t,Jr),a=Sr(o),s=(0,e.useMemo)((function(){return e.Children.map(n,(function(t,o){return(0,e.cloneElement)(t,{outline:r,pill:i,positionInGroup:0===o?"start":o===n.length-1?"end":"middle"})}))}),[n,r,i]),u=Cr().theme.buttonGroup;return(0,jt.jsx)("div",(0,Te.Z)((0,Te.Z)({className:u.base,role:"group"},a),{},{children:s}))};ei.displayName="Button.Group";var ti=ei,ni=["children","color","disabled","gradientDuoTone","gradientMonochrome","href","label","outline","pill","positionInGroup","size"],ri=function(e){var t=e.children,n=e.color,r=void 0===n?"info":n,i=e.disabled,o=void 0!==i&&i,a=e.gradientDuoTone,s=e.gradientMonochrome,u=e.href,l=e.label,c=e.outline,f=void 0!==c&&c,d=e.pill,h=void 0!==d&&d,p=e.positionInGroup,v=void 0===p?"none":p,g=e.size,y=void 0===g?"md":g,m=(0,lr.Z)(e,ni),b="undefined"!==typeof u,_=Sr(m),w=Cr().theme,x=w.buttonGroup,k=w.button,E=b?"a":"button";return(0,jt.jsx)(E,(0,Te.Z)((0,Te.Z)({className:fr()(o&&k.disabled,!a&&!s&&k.color[r],a&&!s&&k.gradientDuoTone[a],!a&&s&&k.gradient[s],x.position[v],f&&k.outline.color[r],k.base,k.pill[h?"on":"off"]),disabled:o,href:u,type:b?void 0:"button"},_),{},{children:(0,jt.jsx)("span",{className:fr()(k.inner.base,k.inner.position[v],k.outline[f?"on":"off"],k.outline.pill[f&&h?"on":"off"],k.size[y]),children:(0,jt.jsxs)(jt.Fragment,{children:["undefined"!==typeof t&&t,"undefined"!==typeof l&&(0,jt.jsx)("span",{className:k.label,"data-testid":"flowbite-button-label",children:l})]})})}))};ri.displayName="Button";var ii,oi=Object.assign(ri,{Group:ti}),ai=function(e,t){return(ai=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},si=(function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)&&i.length){var a=n.apply(null,i);a&&e.push(a)}else if("object"===o)for(var s in i)t.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(ii={path:undefined,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&ii.path)}},ii.exports),ii.exports);function ui(e,t,n){var r,i,o,a,s;function u(){var l=Date.now()-a;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(o,i),o=i=null))}null==t&&(t=100);var l=function(){o=this,i=arguments,a=Date.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(o,i),o=i=null),s};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(s=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},l}ui.debounce=ui;var li=ui;!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".indiana-scroll-container {\n  overflow: auto; }\n  .indiana-scroll-container--dragging {\n    scroll-behavior: auto !important; }\n    .indiana-scroll-container--dragging > * {\n      pointer-events: none;\n      cursor: -webkit-grab;\n      cursor: grab; }\n  .indiana-scroll-container--hide-scrollbars {\n    overflow: hidden;\n    overflow: -moz-scrollbars-none;\n    -ms-overflow-style: none;\n    scrollbar-width: none; }\n    .indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {\n      display: none !important;\n      height: 0 !important;\n      width: 0 !important;\n      background: transparent !important;\n      -webkit-appearance: none !important; }\n  .indiana-scroll-container--native-scroll {\n    overflow: auto; }\n\n.indiana-dragging {\n  cursor: -webkit-grab;\n  cursor: grab; }\n");var ci,fi=(ci="indiana-scroll-container",function(e,t){if(!e)return ci;var n;"string"==typeof e?n=e:t=e;var r=ci;return n&&(r+="__"+n),r+(t?Object.keys(t).reduce((function(e,n){var i=t[n];return i&&(e+=" "+("boolean"==typeof i?r+"--"+n:r+"--"+n+"_"+i)),e}),""):"")}),di=(function(t){function n(n){var r=t.call(this,n)||this;return r.onEndScroll=function(){r.scrolling=!1,!r.pressed&&r.started&&r.processEnd()},r.onScroll=function(e){var t=r.container.current;t.scrollLeft===r.scrollLeft&&t.scrollTop===r.scrollTop||(r.scrolling=!0,r.processScroll(e),r.onEndScroll())},r.onTouchStart=function(e){var t=r.props.nativeMobileScroll;if(r.isDraggable(e.target))if(r.internal=!0,t&&r.scrolling)r.pressed=!0;else{var n=e.touches[0];r.processClick(e,n.clientX,n.clientY),!t&&r.props.stopPropagation&&e.stopPropagation()}},r.onTouchEnd=function(e){var t=r.props.nativeMobileScroll;r.pressed&&(!r.started||r.scrolling&&t?r.pressed=!1:r.processEnd(),r.forceUpdate())},r.onTouchMove=function(e){var t=r.props.nativeMobileScroll;if(r.pressed&&(!t||!r.isMobile)){var n=e.touches[0];n&&r.processMove(e,n.clientX,n.clientY),e.preventDefault(),r.props.stopPropagation&&e.stopPropagation()}},r.onMouseDown=function(e){r.isDraggable(e.target)&&r.isScrollable()&&(r.internal=!0,-1!==r.props.buttons.indexOf(e.button)&&(r.processClick(e,e.clientX,e.clientY),e.preventDefault(),r.props.stopPropagation&&e.stopPropagation()))},r.onMouseMove=function(e){r.pressed&&(r.processMove(e,e.clientX,e.clientY),e.preventDefault(),r.props.stopPropagation&&e.stopPropagation())},r.onMouseUp=function(e){r.pressed&&(r.started?r.processEnd():(r.internal=!1,r.pressed=!1,r.forceUpdate(),r.props.onClick&&r.props.onClick(e)),e.preventDefault(),r.props.stopPropagation&&e.stopPropagation())},r.container=e.createRef(),r.onEndScroll=li(r.onEndScroll,300),r.scrolling=!1,r.started=!1,r.pressed=!1,r.internal=!1,r.getRef=r.getRef.bind(r),r}(function(e,t){function n(){this.constructor=e}ai(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(n,t),n.prototype.componentDidMount=function(){var e=this.props.nativeMobileScroll,t=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),t.addEventListener("touchstart",this.onTouchStart,{passive:!1}),t.addEventListener("mousedown",this.onMouseDown,{passive:!1}),e&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},n.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},n.prototype.getElement=function(){return this.container.current},n.prototype.isMobileDevice=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},n.prototype.isDraggable=function(e){var t=this.props.ignoreElements;if(t){var n=e.closest(t);return null===n||n.contains(this.getElement())}return!0},n.prototype.isScrollable=function(){var e=this.container.current;return e&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)},n.prototype.processClick=function(e,t,n){var r=this.container.current;this.scrollLeft=r.scrollLeft,this.scrollTop=r.scrollTop,this.clientX=t,this.clientY=n,this.pressed=!0},n.prototype.processStart=function(e){void 0===e&&(e=!0);var t=this.props.onStartScroll;this.started=!0,e&&document.body.classList.add("indiana-dragging"),t&&t({external:!this.internal}),this.forceUpdate()},n.prototype.processScroll=function(e){if(this.started){var t=this.props.onScroll;t&&t({external:!this.internal})}else this.processStart(!1)},n.prototype.processMove=function(e,t,n){var r=this.props,i=r.horizontal,o=r.vertical,a=r.activationDistance,s=r.onScroll,u=this.container.current;this.started?(i&&(u.scrollLeft-=t-this.clientX),o&&(u.scrollTop-=n-this.clientY),s&&s({external:!this.internal}),this.clientX=t,this.clientY=n,this.scrollLeft=u.scrollLeft,this.scrollTop=u.scrollTop):(i&&Math.abs(t-this.clientX)>a||o&&Math.abs(n-this.clientY)>a)&&(this.clientX=t,this.clientY=n,this.processStart())},n.prototype.processEnd=function(){var e=this.props.onEndScroll;this.container.current&&e&&e({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("indiana-dragging"),this.forceUpdate()},n.prototype.getRef=function(e){[this.container,this.props.innerRef].forEach((function(t){t&&("function"==typeof t?t(e):t.current=e)}))},n.prototype.render=function(){var t=this.props,n=t.children,r=t.draggingClassName,i=t.className,o=t.style,a=t.hideScrollbars,s=t.component;return e.createElement(s,{className:si(i,this.pressed&&r,fi({dragging:this.pressed,"hide-scrollbars":a,"native-scroll":this.isMobile})),style:o,ref:this.getRef,onScroll:this.onScroll},n)},n.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:"div",buttons:[0]}}(e.PureComponent),n(4942)),hi=n(2982),pi=["alignment","allowedPlacements","autoAlignment"],vi=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"],gi=["mainAxis","crossAxis","limiter"];function yi(e){return e.split("-")[0]}function mi(e){return e.split("-")[1]}function bi(e){return["top","bottom"].includes(yi(e))?"x":"y"}function _i(e){return"y"===e?"height":"width"}function wi(e,t,n){var r,i=e.reference,o=e.floating,a=i.x+i.width/2-o.width/2,s=i.y+i.height/2-o.height/2,u=bi(t),l=_i(u),c=i[l]/2-o[l]/2,f="x"===u;switch(yi(t)){case"top":r={x:a,y:i.y-o.height};break;case"bottom":r={x:a,y:i.y+i.height};break;case"right":r={x:i.x+i.width,y:s};break;case"left":r={x:i.x-o.width,y:s};break;default:r={x:i.x,y:i.y}}switch(mi(t)){case"start":r[u]-=c*(n&&f?-1:1);break;case"end":r[u]+=c*(n&&f?-1:1)}return r}var xi=function(){var e=(0,_t.Z)((0,bt.Z)().mark((function e(t,n,r){var i,o,a,s,u,l,c,f,d,h,p,v,g,y,m,b,_,w,x,k,E,S,T,P,A;return(0,bt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.placement,o=void 0===i?"bottom":i,a=r.strategy,s=void 0===a?"absolute":a,u=r.middleware,l=void 0===u?[]:u,c=r.platform,e.next=9,null==c.isRTL?void 0:c.isRTL(n);case 9:return f=e.sent,e.next=12,c.getElementRects({reference:t,floating:n,strategy:s});case 12:d=e.sent,h=wi(d,o,f),p=h.x,v=h.y,g=o,y={},m=0,b=0;case 20:if(!(b<l.length)){e.next=55;break}return w=l[b],x=w.name,k=w.fn,e.next=26,k({x:p,y:v,initialPlacement:o,placement:g,strategy:s,middlewareData:y,rects:d,platform:c,elements:{reference:t,floating:n}});case 26:if(E=e.sent,S=E.x,T=E.y,P=E.data,A=E.reset,p=null!=S?S:p,v=null!=T?T:v,y=(0,Te.Z)((0,Te.Z)({},y),{},(0,di.Z)({},x,(0,Te.Z)((0,Te.Z)({},y[x]),P))),e.t0=A&&m<=50,!e.t0){e.next=52;break}if(m++,e.t1="object"==typeof A,!e.t1){e.next=51;break}if(A.placement&&(g=A.placement),e.t2=A.rects,!e.t2){e.next=50;break}if(!0!==A.rects){e.next=48;break}return e.next=45,c.getElementRects({reference:t,floating:n,strategy:s});case 45:e.t3=e.sent,e.next=49;break;case 48:e.t3=A.rects;case 49:d=e.t3;case 50:_=wi(d,g,f),p=_.x,v=_.y;case 51:b=-1;case 52:b++,e.next=20;break;case 55:return e.abrupt("return",{x:p,y:v,placement:g,strategy:s,middlewareData:y});case 56:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function ki(e){return"number"!=typeof e?function(e){return(0,Te.Z)({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function Ei(e){return(0,Te.Z)((0,Te.Z)({},e),{},{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}function Si(e,t){return Ti.apply(this,arguments)}function Ti(){return Ti=(0,_t.Z)((0,bt.Z)().mark((function e(t,n){var r,i,o,a,s,u,l,c,f,d,h,p,v,g,y,m,b,_,w,x,k;return(0,bt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),i=t.x,o=t.y,a=t.platform,s=t.rects,u=t.elements,l=t.strategy,f=(c=n).boundary,d=void 0===f?"clippingAncestors":f,h=c.rootBoundary,p=void 0===h?"viewport":h,v=c.elementContext,g=void 0===v?"floating":v,y=c.altBoundary,m=void 0!==y&&y,b=c.padding,_=ki(void 0===b?0:b),w=u[m?"floating"===g?"reference":"floating":g],e.t0=Ei,e.t1=a,e.next=24,null==a.isElement?void 0:a.isElement(w);case 24:if(e.t3=r=e.sent,e.t2=null==e.t3,e.t2){e.next=28;break}e.t2=r;case 28:if(!e.t2){e.next=32;break}e.t4=w,e.next=38;break;case 32:if(e.t5=w.contextElement,e.t5){e.next=37;break}return e.next=36,null==a.getDocumentElement?void 0:a.getDocumentElement(u.floating);case 36:e.t5=e.sent;case 37:e.t4=e.t5;case 38:return e.t6=e.t4,e.t7=d,e.t8=p,e.t9=l,e.t10={element:e.t6,boundary:e.t7,rootBoundary:e.t8,strategy:e.t9},e.next=45,e.t1.getClippingRect.call(e.t1,e.t10);case 45:if(e.t11=e.sent,x=(0,e.t0)(e.t11),e.t12=Ei,!a.convertOffsetParentRelativeRectToViewportRelativeRect){e.next=61;break}return e.t14=a,e.t15="floating"===g?(0,Te.Z)((0,Te.Z)({},s.floating),{},{x:i,y:o}):s.reference,e.next=53,null==a.getOffsetParent?void 0:a.getOffsetParent(u.floating);case 53:return e.t16=e.sent,e.t17=l,e.t18={rect:e.t15,offsetParent:e.t16,strategy:e.t17},e.next=58,e.t14.convertOffsetParentRelativeRectToViewportRelativeRect.call(e.t14,e.t18);case 58:e.t13=e.sent,e.next=62;break;case 61:e.t13=s[g];case 62:return e.t19=e.t13,k=(0,e.t12)(e.t19),e.abrupt("return",{top:x.top-k.top+_.top,bottom:k.bottom-x.bottom+_.bottom,left:x.left-k.left+_.left,right:k.right-x.right+_.right});case 65:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}var Pi=Math.min,Ai=Math.max;function Ci(e,t,n){return Ai(e,Pi(t,n))}var Zi={left:"right",right:"left",bottom:"top",top:"bottom"};function Oi(e){return e.replace(/left|right|bottom|top/g,(function(e){return Zi[e]}))}function Li(e,t,n){void 0===n&&(n=!1);var r=mi(e),i=bi(e),o=_i(i),a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Oi(a)),{main:a,cross:Oi(a)}}var Ri={start:"end",end:"start"};function Mi(e){return e.replace(/start|end/g,(function(e){return Ri[e]}))}var Ii=["top","right","bottom","left"],Ni=Ii.reduce((function(e,t){return e.concat(t,t+"-start",t+"-end")}),[]);function Fi(e){return"x"===e?"y":"x"}function ji(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function Di(e){if(null==e)return window;if(!ji(e)){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function zi(e){return Di(e).getComputedStyle(e)}function Bi(e){return ji(e)?"":e?(e.nodeName||"").toLowerCase():""}function Ui(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Vi(e){return e instanceof Di(e).HTMLElement}function Gi(e){return e instanceof Di(e).Element}function Wi(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Di(e).ShadowRoot||e instanceof ShadowRoot)}function Hi(e){var t=zi(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Xi(e){return["table","td","th"].includes(Bi(e))}function Yi(e){var t=/firefox/i.test(Ui()),n=zi(e);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||t&&"filter"===n.willChange||t&&!!n.filter&&"none"!==n.filter}function Ki(){return!/^((?!chrome|android).)*safari/i.test(Ui())}var qi=Math.min,Qi=Math.max,$i=Math.round;function Ji(e,t,n){var r,i,o,a;void 0===t&&(t=!1),void 0===n&&(n=!1);var s=e.getBoundingClientRect(),u=1,l=1;t&&Vi(e)&&(u=e.offsetWidth>0&&$i(s.width)/e.offsetWidth||1,l=e.offsetHeight>0&&$i(s.height)/e.offsetHeight||1);var c=Gi(e)?Di(e):window,f=!Ki()&&n,d=(s.left+(f&&null!=(r=null==(i=c.visualViewport)?void 0:i.offsetLeft)?r:0))/u,h=(s.top+(f&&null!=(o=null==(a=c.visualViewport)?void 0:a.offsetTop)?o:0))/l,p=s.width/u,v=s.height/l;return{width:p,height:v,top:h,right:d+p,bottom:h+v,left:d,x:d,y:h}}function eo(e){return(t=e,(t instanceof Di(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function to(e){return Gi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function no(e){return Ji(eo(e)).left+to(e).scrollLeft}function ro(e,t,n){var r=Vi(t),i=eo(t),o=Ji(e,r&&function(e){var t=Ji(e);return $i(t.width)!==e.offsetWidth||$i(t.height)!==e.offsetHeight}(t),"fixed"===n),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==Bi(t)||Hi(i))&&(a=to(t)),Vi(t)){var u=Ji(t,!0);s.x=u.x+t.clientLeft,s.y=u.y+t.clientTop}else i&&(s.x=no(i));return{x:o.left+a.scrollLeft-s.x,y:o.top+a.scrollTop-s.y,width:o.width,height:o.height}}function io(e){return"html"===Bi(e)?e:e.assignedSlot||e.parentNode||(Wi(e)?e.host:null)||eo(e)}function oo(e){return Vi(e)&&"fixed"!==zi(e).position?function(e){for(var t=e.offsetParent,n=e,r=!1;n&&n!==t;){var i=n.assignedSlot;if(i){var o=i.offsetParent;if("contents"===zi(i).display){var a=i.hasAttribute("style"),s=i.style.display;i.style.display=zi(n).display,o=i.offsetParent,i.style.display=s,a||i.removeAttribute("style")}n=i,t!==o&&(t=o,r=!0)}else if(Wi(n)&&n.host&&r)break;n=Wi(n)&&n.host||n.parentNode}return t}(e):null}function ao(e){for(var t=Di(e),n=oo(e);n&&Xi(n)&&"static"===zi(n).position;)n=oo(n);return n&&("html"===Bi(n)||"body"===Bi(n)&&"static"===zi(n).position&&!Yi(n))?t:n||function(e){var t=io(e);for(Wi(t)&&(t=t.host);Vi(t)&&!["html","body"].includes(Bi(t));){if(Yi(t))return t;var n=t.parentNode;t=Wi(n)?n.host:n}return null}(e)||t}function so(e){if(Vi(e))return{width:e.offsetWidth,height:e.offsetHeight};var t=Ji(e);return{width:t.width,height:t.height}}function uo(e){var t=io(e);return["html","body","#document"].includes(Bi(t))?e.ownerDocument.body:Vi(t)&&Hi(t)?t:uo(t)}function lo(e,t){var n;void 0===t&&(t=[]);var r=uo(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Di(r),a=i?[o].concat(o.visualViewport||[],Hi(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(lo(a))}function co(e,t,n){return"viewport"===t?Ei(function(e,t){var n=Di(e),r=eo(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,u=0;if(i){o=i.width,a=i.height;var l=Ki();(l||!l&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:s,y:u}}(e,n)):Gi(t)?function(e,t){var n=Ji(e,!1,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft;return{top:r,left:i,x:i,y:r,right:i+e.clientWidth,bottom:r+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}(t,n):Ei(function(e){var t,n=eo(e),r=to(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=Qi(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Qi(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+no(e),u=-r.scrollTop;return"rtl"===zi(i||n).direction&&(s+=Qi(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}(eo(e)))}var fo={getClippingRect:function(e){var t=e.element,n=e.boundary,r=e.rootBoundary,i=e.strategy,o=[].concat((0,hi.Z)("clippingAncestors"===n?function(e){var t=lo(e),n=["absolute","fixed"].includes(zi(e).position)&&Vi(e)?ao(e):e;return Gi(n)?t.filter((function(e){return Gi(e)&&function(e,t){var n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Wi(n)){var r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}(e,n)&&"body"!==Bi(e)})):[]}(t):[].concat(n)),[r]),a=o[0],s=o.reduce((function(e,n){var r=co(t,n,i);return e.top=Qi(r.top,e.top),e.right=qi(r.right,e.right),e.bottom=qi(r.bottom,e.bottom),e.left=Qi(r.left,e.left),e}),co(t,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){var t=e.rect,n=e.offsetParent,r=e.strategy,i=Vi(n),o=eo(n);if(n===o)return t;var a={scrollLeft:0,scrollTop:0},s={x:0,y:0};if((i||!i&&"fixed"!==r)&&(("body"!==Bi(n)||Hi(o))&&(a=to(n)),Vi(n))){var u=Ji(n,!0);s.x=u.x+n.clientLeft,s.y=u.y+n.clientTop}return(0,Te.Z)((0,Te.Z)({},t),{},{x:t.x-a.scrollLeft+s.x,y:t.y-a.scrollTop+s.y})},isElement:Gi,getDimensions:so,getOffsetParent:ao,getDocumentElement:eo,getElementRects:function(e){var t=e.reference,n=e.floating,r=e.strategy;return{reference:ro(t,ao(n),r),floating:(0,Te.Z)((0,Te.Z)({},so(n)),{},{x:0,y:0})}},getClientRects:function(e){return Array.from(e.getClientRects())},isRTL:function(e){return"rtl"===zi(e).direction}};var ho="undefined"!==typeof document?e.useLayoutEffect:e.useEffect;function po(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;var n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!==r--;)if(!po(e[r],t[r]))return!1;return!0}if((n=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){var o=i[r];if(("_owner"!==o||!e.$$typeof)&&!po(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function vo(t){var n=void 0===t?{}:t,r=n.middleware,i=n.placement,o=void 0===i?"bottom":i,s=n.strategy,u=void 0===s?"absolute":s,l=n.whileElementsMounted,c=e.useState({x:null,y:null,strategy:u,placement:o,middlewareData:{}}),f=(0,At.Z)(c,2),d=f[0],h=f[1],p=e.useState(r),v=(0,At.Z)(p,2),g=v[0],y=v[1];po(null==g?void 0:g.map((function(e){return{name:e.name,options:e.options}})),null==r?void 0:r.map((function(e){return{name:e.name,options:e.options}})))||y(r);var m=e.useRef(null),b=e.useRef(null),_=e.useRef(null),w=e.useRef(d),x=function(t){var n=e.useRef(t);return ho((function(){n.current=t})),n}(l),k=e.useCallback((function(){m.current&&b.current&&function(e,t,n){return xi(e,t,(0,Te.Z)({platform:fo},n))}(m.current,b.current,{middleware:g,placement:o,strategy:u}).then((function(e){E.current&&!po(w.current,e)&&(w.current=e,a.flushSync((function(){h(e)})))}))}),[g,o,u]);ho((function(){E.current&&k()}),[k]);var E=e.useRef(!1);ho((function(){return E.current=!0,function(){E.current=!1}}),[]);var S=e.useCallback((function(){if("function"===typeof _.current&&(_.current(),_.current=null),m.current&&b.current)if(x.current){var e=x.current(m.current,b.current,k);_.current=e}else k()}),[k,x]),T=e.useCallback((function(e){m.current=e,S()}),[S]),P=e.useCallback((function(e){b.current=e,S()}),[S]),A=e.useMemo((function(){return{reference:m,floating:b}}),[]);return e.useMemo((function(){return(0,Te.Z)((0,Te.Z)({},d),{},{update:k,refs:A,reference:T,floating:P})}),[d,k,A,T,P])}var go="undefined"!==typeof document?e.useLayoutEffect:e.useEffect;function yo(){var e=new Map;return{emit:function(t,n){var r;null==(r=e.get(t))||r.forEach((function(e){return e(n)}))},on:function(t,n){e.set(t,[].concat((0,hi.Z)(e.get(t)||[]),[n]))},off:function(t,n){e.set(t,(e.get(t)||[]).filter((function(e){return e!==n})))}}}var mo=!1,bo=0,_o=function(){return"floating-ui-"+bo++};var wo=t["useId".toString()],xo=null!=wo?wo:function(){var t=e.useState((function(){return mo?_o():void 0})),n=(0,At.Z)(t,2),r=n[0],i=n[1];return go((function(){null==r&&i(_o())}),[]),e.useEffect((function(){mo||(mo=!0)}),[]),r},ko=e.createContext(null),Eo=e.createContext(null),So=function(){var t,n;return null!=(t=null==(n=e.useContext(ko))?void 0:n.id)?t:null},To=function(){return e.useContext(Eo)};function Po(e){var t;return null!=(t=null==e?void 0:e.ownerDocument)?t:document}function Ao(e){var t;return null!=(t=Po(e).defaultView)?t:window}function Co(e){return!!e&&e instanceof Ao(e).Element}function Zo(e){return!!e&&e instanceof Ao(e).HTMLElement}var Oo=t["useInsertionEffect".toString()];function Lo(t){var n=e.useRef((function(){0}));return Oo?Oo((function(){n.current=t})):n.current=t,e.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current.apply(n,t)}),[])}function Ro(e,t,n){var r=new Map;return(0,Te.Z)((0,Te.Z)((0,Te.Z)({},"floating"===n&&{tabIndex:-1}),e),t.map((function(e){return e?e[n]:null})).concat(e).reduce((function(e,t){return t?(Object.entries(t).forEach((function(t){var n,i=(0,At.Z)(t,2),o=i[0],a=i[1];0===o.indexOf("on")?(r.has(o)||r.set(o,[]),"function"===typeof a&&(null==(n=r.get(o))||n.push(a),e[o]=function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];null==(e=r.get(o))||e.forEach((function(e){return e.apply(void 0,n)}))})):e[o]=a})),e):e}),{}))}var Mo="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Io(e){return Zo(e)&&e.matches(Mo)}function No(t){var n=(0,e.useRef)(t);return go((function(){n.current=t})),n}function Fo(t){var n=(0,e.useRef)();return go((function(){n.current=t}),[t]),n.current}function jo(e,t,n){return n&&"mouse"!==n?0:"number"===typeof e?e:null==e?void 0:e[t]}var Do=function(t,n){var r=void 0===n?{}:n,i=r.enabled,o=void 0===i||i,a=r.delay,s=void 0===a?0:a,u=r.handleClose,l=void 0===u?null:u,c=r.mouseOnly,f=void 0!==c&&c,d=r.restMs,h=void 0===d?0:d,p=r.move,v=void 0===p||p,g=t.open,y=t.onOpenChange,m=t.dataRef,b=t.events,_=t.refs,w=t._,x=To(),k=So(),E=No(l),S=No(s),T=Fo(g),P=e.useRef(),A=e.useRef(),C=e.useRef(),Z=e.useRef(),O=e.useRef(!0),L=e.useRef(!1),R=e.useCallback((function(){var e,t=null==(e=m.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[m]);e.useEffect((function(){if(o)return b.on("dismiss",e),function(){b.off("dismiss",e)};function e(){clearTimeout(A.current),clearTimeout(Z.current),O.current=!0}}),[o,b,_]),e.useEffect((function(){if(o&&E.current){var e=Po(_.floating.current).documentElement;return e.addEventListener("mouseleave",t),function(){e.removeEventListener("mouseleave",t)}}function t(){R()&&y(!1)}}),[_,y,o,E,m,R]);var M=e.useCallback((function(e){void 0===e&&(e=!0);var t=jo(S.current,"close",P.current);t&&!C.current?(clearTimeout(A.current),A.current=setTimeout((function(){return y(!1)}),t)):e&&(clearTimeout(A.current),y(!1))}),[S,y]),I=e.useCallback((function(){C.current&&(Po(_.floating.current).removeEventListener("pointermove",C.current),C.current=void 0)}),[_]),N=e.useCallback((function(){Po(_.floating.current).body.style.pointerEvents="",L.current=!1}),[_]);if(e.useEffect((function(){if(o){var e=_.floating.current,n=_.domReference.current;return Co(n)?(g&&n.addEventListener("mouseleave",s),null==e||e.addEventListener("mouseleave",s),v&&n.addEventListener("mousemove",i,{once:!0}),n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",a),function(){g&&n.removeEventListener("mouseleave",s),null==e||e.removeEventListener("mouseleave",s),v&&n.removeEventListener("mousemove",i),n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",a)}):void 0}function r(){return!!m.current.openEvent&&["click","mousedown"].includes(m.current.openEvent.type)}function i(e){if(clearTimeout(A.current),O.current=!1,!(f&&"mouse"!==P.current||h>0&&0===jo(S.current,"open"))){m.current.openEvent=e;var t=jo(S.current,"open",P.current);t?A.current=setTimeout((function(){y(!0)}),t):y(!0)}}function a(e){if(!r()){var n=Po(_.floating.current);if(clearTimeout(Z.current),E.current)return clearTimeout(A.current),C.current&&n.removeEventListener("pointermove",C.current),C.current=E.current((0,Te.Z)((0,Te.Z)({},t),{},{tree:x,x:e.clientX,y:e.clientY,onClose:function(){N(),I(),M()}})),void n.addEventListener("pointermove",C.current);M()}}function s(e){r()||null==E.current||E.current((0,Te.Z)((0,Te.Z)({},t),{},{tree:x,x:e.clientX,y:e.clientY,leave:!0,onClose:function(){N(),I(),M()}}))(e)}}),[w.domReference,o,t,f,h,v,M,I,N,y,g,x,_,S,E,m]),go((function(){if(o&&g&&E.current&&E.current.__options.blockPointerEvents&&R()){Po(_.floating.current).body.style.pointerEvents="none",L.current=!0;var e=_.domReference.current,t=_.floating.current;if(Co(e)&&t){var n,r,i=null==x||null==(n=x.nodesRef.current.find((function(e){return e.id===k})))||null==(r=n.context)?void 0:r.refs.floating.current;return i&&(i.style.pointerEvents=""),e.style.pointerEvents="auto",t.style.pointerEvents="auto",function(){e.style.pointerEvents="",t.style.pointerEvents=""}}}}),[o,g,k,_,x,E,m,R]),go((function(){T&&!g&&(P.current=void 0,I(),N())})),e.useEffect((function(){return function(){I(),clearTimeout(A.current),clearTimeout(Z.current),L.current&&N()}}),[o,I,N]),!o)return{};function F(e){P.current=e.pointerType}return{reference:{onPointerDown:F,onPointerEnter:F,onMouseMove:function(){g||0===h||(clearTimeout(Z.current),Z.current=setTimeout((function(){O.current||y(!0)}),h))}},floating:{onMouseEnter:function(){clearTimeout(A.current)},onMouseLeave:function(){M(!1)}}}};var zo=function(e,t){var n=e.open,r=void 0===t?{}:t,i=r.enabled,o=void 0===i||i,a=r.role,s=void 0===a?"dialog":a,u=xo(),l=xo(),c={id:u,role:s};return o?"tooltip"===s?{reference:{"aria-describedby":n?u:void 0},floating:c}:{reference:(0,Te.Z)((0,Te.Z)({"aria-expanded":n?"true":"false","aria-haspopup":"alertdialog"===s?"dialog":s,"aria-controls":n?u:void 0},"listbox"===s&&{role:"combobox"}),"menu"===s&&{id:l}),floating:(0,Te.Z)((0,Te.Z)({},c),"menu"===s&&{"aria-labelledby":l})}:{}};function Bo(e){return Zo(e.target)&&"BUTTON"===e.target.tagName}var Uo=function(t,n){var r=t.open,i=t.onOpenChange,o=t.dataRef,a=t.refs,s=void 0===n?{}:n,u=s.enabled,l=void 0===u||u,c=s.pointerDown,f=void 0!==c&&c,d=s.toggle,h=void 0===d||d,p=s.ignoreMouse,v=void 0!==p&&p,g=s.keyboardHandlers,y=void 0===g||g,m=e.useRef();function b(){return Io(a.domReference.current)}return l?{reference:{onPointerDown:function(e){m.current=e.pointerType},onMouseDown:function(e){0===e.button&&("mouse"===m.current&&v||f&&(r?!h||o.current.openEvent&&"mousedown"!==o.current.openEvent.type||i(!1):i(!0),o.current.openEvent=e.nativeEvent))},onClick:function(e){f&&m.current?m.current=void 0:"mouse"===m.current&&v||(r?!h||o.current.openEvent&&"click"!==o.current.openEvent.type||i(!1):i(!0),o.current.openEvent=e.nativeEvent)},onKeyDown:function(e){m.current=void 0,y&&(Bo(e)||(" "!==e.key||b()||e.preventDefault(),"Enter"===e.key&&(r?h&&i(!1):i(!0))))},onKeyUp:function(e){y&&(Bo(e)||b()||" "===e.key&&(r?h&&i(!1):i(!0)))}}}:{}};var Vo=function(t,n){var r=t.open,i=t.onOpenChange,o=t.dataRef,a=t.refs,s=t.events,u=void 0===n?{}:n,l=u.enabled,c=void 0===l||l,f=u.keyboardOnly,d=void 0===f||f,h=e.useRef(""),p=e.useRef(!1),v=e.useRef();return e.useEffect((function(){var e;if(c){var t=null!=(e=Po(a.floating.current).defaultView)?e:window;return t.addEventListener("blur",n),function(){t.removeEventListener("blur",n)}}function n(){!r&&Zo(a.domReference.current)&&a.domReference.current.blur()}}),[a,r,c]),e.useEffect((function(){if(c)return s.on("dismiss",e),function(){s.off("dismiss",e)};function e(){p.current=!0}}),[s,c]),e.useEffect((function(){return function(){clearTimeout(v.current)}}),[]),c?{reference:{onPointerDown:function(e){var t=e.pointerType;h.current=t,p.current=!(!t||!d)},onPointerLeave:function(){p.current=!1},onFocus:function(e){var t,n,r;p.current||"focus"===e.type&&"mousedown"===(null==(t=o.current.openEvent)?void 0:t.type)&&null!=(n=a.domReference.current)&&n.contains(null==(r=o.current.openEvent)?void 0:r.target)||(o.current.openEvent=e.nativeEvent,i(!0))},onBlur:function(e){var t=e.relatedTarget;v.current=setTimeout((function(){var e,n;null!=(e=a.floating.current)&&e.contains(t)||null!=(n=a.domReference.current)&&n.contains(t)||(p.current=!1,i(!1))}))}}}:{}};var Go=function(e){var t=e.arrowRef,n=e.placement,r=[];return r.push(function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn:function(t){return(0,_t.Z)((0,bt.Z)().mark((function n(){var r,i,o;return(0,bt.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.x,i=t.y,n.next=4,function(){var e=(0,_t.Z)((0,bt.Z)().mark((function e(t,n){var r,i,o,a,s,u,l,c,f,d,h,p,v,g;return(0,bt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.placement,i=t.platform,o=t.elements,e.next=5,null==i.isRTL?void 0:i.isRTL(o.floating);case 5:return a=e.sent,s=yi(r),u=mi(r),l="x"===bi(r),c=["left","top"].includes(s)?-1:1,f=a&&l?-1:1,d="function"==typeof n?n(t):n,h="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:(0,Te.Z)({mainAxis:0,crossAxis:0,alignmentAxis:null},d),p=h.mainAxis,v=h.crossAxis,g=h.alignmentAxis,e.abrupt("return",(u&&"number"==typeof g&&(v="end"===u?-1*g:g),l?{x:v*f,y:p*c}:{x:p*c,y:v*f}));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,e);case 4:return o=n.sent,n.abrupt("return",{x:r+o.x,y:i+o.y,data:o});case 6:case"end":return n.stop()}}),n)})))()}}}(8)),r.push("auto"===n?function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,fn:function(t){return(0,_t.Z)((0,bt.Z)().mark((function n(){var r,i,o,a,s,u,l,c,f,d,h,p,v,g,y,m,b,_,w,x,k,E,S,T,P,A,C,Z,O,L,R,M,I;return(0,bt.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.x,l=t.y,c=t.rects,f=t.middlewareData,d=t.placement,h=t.platform,p=t.elements,g=(v=e).alignment,y=void 0===g?null:g,m=v.allowedPlacements,b=void 0===m?Ni:m,_=v.autoAlignment,w=void 0===_||_,x=(0,lr.Z)(v,pi),k=function(e,t,n){return(e?[].concat((0,hi.Z)(n.filter((function(t){return mi(t)===e}))),(0,hi.Z)(n.filter((function(t){return mi(t)!==e})))):n.filter((function(e){return yi(e)===e}))).filter((function(n){return!e||mi(n)===e||!!t&&Mi(n)!==n}))}(y,w,b),n.next=18,Si(t,x);case 18:if(E=n.sent,S=null!=(r=null==(i=f.autoPlacement)?void 0:i.index)?r:0,null!=(T=k[S])){n.next=23;break}return n.abrupt("return",{});case 23:return n.t0=Li,n.t1=T,n.t2=c,n.next=28,null==h.isRTL?void 0:h.isRTL(p.floating);case 28:if(n.t3=n.sent,P=(0,n.t0)(n.t1,n.t2,n.t3),A=P.main,C=P.cross,d===T){n.next=34;break}return n.abrupt("return",{x:u,y:l,reset:{placement:k[0]}});case 34:if(Z=[E[yi(T)],E[A],E[C]],O=[].concat((0,hi.Z)(null!=(o=null==(a=f.autoPlacement)?void 0:a.overflows)?o:[]),[{placement:T,overflows:Z}]),!(L=k[S+1])){n.next=37;break}return n.abrupt("return",{data:{index:S+1,overflows:O},reset:{placement:L}});case 37:return R=O.slice().sort((function(e,t){return e.overflows[0]-t.overflows[0]})),M=null==(s=R.find((function(e){return e.overflows.every((function(e){return e<=0}))})))?void 0:s.placement,I=null!=M?M:R[0].placement,n.abrupt("return",I!==d?{data:{index:S+1,overflows:O},reset:{placement:I}}:{});case 39:case"end":return n.stop()}}),n)})))()}}}():function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn:function(t){return(0,_t.Z)((0,bt.Z)().mark((function n(){var r,i,o,a,s,u,l,c,f,d,h,p,v,g,y,m,b,_,w,x,k,E,S,T,P,A,C,Z,O,L,R,M,I,N;return(0,bt.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.placement,o=t.middlewareData,a=t.rects,s=t.initialPlacement,u=t.platform,l=t.elements,f=(c=e).mainAxis,d=void 0===f||f,h=c.crossAxis,p=void 0===h||h,v=c.fallbackPlacements,g=c.fallbackStrategy,y=void 0===g?"bestFit":g,m=c.flipAlignment,b=void 0===m||m,_=(0,lr.Z)(c,vi),w=yi(i),x=v||(w!==s&&b?function(e){var t=Oi(e);return[Mi(e),t,Mi(t)]}(s):[Oi(s)]),k=[s].concat((0,hi.Z)(x)),n.next=22,Si(t,_);case 22:if(E=n.sent,S=[],T=(null==(r=o.flip)?void 0:r.overflows)||[],d&&S.push(E[w]),!p){n.next=36;break}return n.t0=Li,n.t1=i,n.t2=a,n.next=31,null==u.isRTL?void 0:u.isRTL(l.floating);case 31:n.t3=n.sent,P=(0,n.t0)(n.t1,n.t2,n.t3),A=P.main,C=P.cross,S.push(E[A],E[C]);case 36:if(T=[].concat((0,hi.Z)(T),[{placement:i,overflows:S}]),S.every((function(e){return e<=0}))){n.next=50;break}if(L=(null!=(Z=null==(O=o.flip)?void 0:O.index)?Z:0)+1,!(R=k[L])){n.next=40;break}return n.abrupt("return",{data:{index:L,overflows:T},reset:{placement:R}});case 40:M="bottom",n.t4=y,n.next="bestFit"===n.t4?44:"initialPlacement"===n.t4?47:48;break;case 44:return N=null==(I=T.map((function(e){return[e,e.overflows.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0)]})).sort((function(e,t){return e[1]-t[1]}))[0])?void 0:I[0].placement,N&&(M=N),n.abrupt("break",48);case 47:M=s;case 48:if(i===M){n.next=50;break}return n.abrupt("return",{reset:{placement:M}});case 50:return n.abrupt("return",{});case 51:case"end":return n.stop()}}),n)})))()}}}()),r.push(function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn:function(t){return(0,_t.Z)((0,bt.Z)().mark((function n(){var r,i,o,a,s,u,l,c,f,d,h,p,v,g,y,m,b,_,w,x,k;return(0,bt.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.x,o=t.y,a=t.placement,u=(s=e).mainAxis,l=void 0===u||u,c=s.crossAxis,f=void 0!==c&&c,d=s.limiter,h=void 0===d?{fn:function(e){return{x:e.x,y:e.y}}}:d,p=(0,lr.Z)(s,gi),v={x:i,y:o},n.next=14,Si(t,p);case 14:return g=n.sent,y=bi(yi(a)),m=Fi(y),b=v[y],_=v[m],l&&(w="y"===y?"bottom":"right",b=Ci(b+g["y"===y?"top":"left"],b,b-g[w])),f&&(x="y"===m?"bottom":"right",_=Ci(_+g["y"===m?"top":"left"],_,_-g[x])),k=h.fn((0,Te.Z)((0,Te.Z)({},t),{},(r={},(0,di.Z)(r,y,b),(0,di.Z)(r,m,_),r))),n.abrupt("return",(0,Te.Z)((0,Te.Z)({},k),{},{data:{x:k.x-i,y:k.y-o}}));case 22:case"end":return n.stop()}}),n)})))()}}}({padding:8})),t.current&&r.push(function(e){return{name:"arrow",options:e,fn:function(t){return(0,_t.Z)((0,bt.Z)().mark((function n(){var r,i,o,a,s,u,l,c,f,d,h,p,v,g,y,m,b,_,w,x,k,E,S,T,P,A,C,Z,O;return(0,bt.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=(o=null!=e?e:{}).element,s=o.padding,u=void 0===s?0:s,l=t.x,c=t.y,f=t.placement,d=t.rects,h=t.platform,null!=a){n.next=3;break}return n.abrupt("return",{});case 3:return p=ki(u),v={x:l,y:c},g=bi(f),y=mi(f),m=_i(g),n.next=10,h.getDimensions(a);case 10:return b=n.sent,_="y"===g?"top":"left",w="y"===g?"bottom":"right",x=d.reference[m]+d.reference[g]-v[g]-d.floating[m],k=v[g]-d.reference[g],n.next=17,null==h.getOffsetParent?void 0:h.getOffsetParent(a);case 17:return E=n.sent,0===(S=E?"y"===g?E.clientHeight||0:E.clientWidth||0:0)&&(S=d.floating[m]),T=x/2-k/2,P=p[_],A=S-b[m]-p[w],C=S/2-b[m]/2+T,Z=Ci(P,C,A),O=("start"===y?p[_]:p[w])>0&&C!==Z&&d.reference[m]<=d.floating[m],n.abrupt("return",(i={},(0,di.Z)(i,g,v[g]-(O?C<P?P-C:A-C:0)),(0,di.Z)(i,"data",(r={},(0,di.Z)(r,g,Z),(0,di.Z)(r,"centerOffset",C-Z),r)),i));case 22:case"end":return n.stop()}}),n)})))()}}}({element:t.current})),r},Wo=function(e){var t=e.placement;return"auto"===t?void 0:t},Ho=["children","content","theme","animation","arrow","placement","style","trigger"],Xo=function(t){var n,r,i,o=t.children,a=t.content,s=t.theme,u=t.animation,l=void 0===u?"duration-300":u,c=t.arrow,f=void 0===c||c,d=t.placement,h=void 0===d?"top":d,p=t.style,v=void 0===p?"dark":p,g=t.trigger,y=void 0===g?"hover":g,m=(0,lr.Z)(t,Ho),b=Sr(m),_=(0,e.useRef)(null),w=(0,e.useState)(!1),x=(0,At.Z)(w,2),k=x[0],E=x[1],S=function(t){var n=void 0===t?{}:t,r=n.open,i=void 0!==r&&r,o=n.onOpenChange,a=n.whileElementsMounted,s=n.placement,u=n.middleware,l=n.strategy,c=n.nodeId,f=e.useState(null),d=(0,At.Z)(f,2),h=d[0],p=d[1],v=To(),g=e.useRef(null),y=e.useRef({}),m=e.useState((function(){return yo()}))[0],b=vo({placement:s,middleware:u,strategy:l,whileElementsMounted:a}),_=Lo(o),w=e.useMemo((function(){return(0,Te.Z)((0,Te.Z)({},b.refs),{},{domReference:g})}),[b.refs]),x=e.useMemo((function(){return(0,Te.Z)((0,Te.Z)({},b),{},{refs:w,dataRef:y,nodeId:c,events:m,open:i,onOpenChange:_,_:{domReference:h}})}),[b,c,m,i,_,w,h]);go((function(){var e=null==v?void 0:v.nodesRef.current.find((function(e){return e.id===c}));e&&(e.context=x)}));var k=b.reference,E=e.useCallback((function(e){(Co(e)||null===e)&&(x.refs.domReference.current=e,p(e)),k(e)}),[k,x.refs]);return e.useMemo((function(){return(0,Te.Z)((0,Te.Z)({},b),{},{context:x,refs:w,reference:E})}),[b,w,x,E])}({middleware:Go({arrowRef:_,placement:h}),onOpenChange:E,open:k,placement:Wo({placement:h})}),T=S.context,P=S.floating,A=S.middlewareData.arrow,C=(A=void 0===A?{}:A).x,Z=A.y,O=S.reference,L=S.refs,R=S.strategy,M=S.update,I=S.x,N=S.y,F=(void 0===(r=[Uo(T,{enabled:"click"===y}),Vo(T),Do(T,{enabled:"hover"===y}),zo(T,{role:"tooltip"})])&&(r=[]),{getReferenceProps:function(e){return Ro(e,r,"reference")},getFloatingProps:function(e){return Ro(e,r,"floating")},getItemProps:function(e){return Ro(e,r,"item")}}),j=F.getFloatingProps,D=F.getReferenceProps;return(0,e.useEffect)((function(){if(L.reference.current&&L.floating.current&&k)return function(e,t,n,r){void 0===r&&(r={});var i=r,o=i.ancestorScroll,a=void 0===o||o,s=i.ancestorResize,u=void 0===s||s,l=i.elementResize,c=void 0===l||l,f=i.animationFrame,d=void 0!==f&&f,h=a&&!d,p=u&&!d,v=h||p?[].concat((0,hi.Z)(Gi(e)?lo(e):[]),(0,hi.Z)(lo(t))):[];v.forEach((function(e){h&&e.addEventListener("scroll",n,{passive:!0}),p&&e.addEventListener("resize",n)}));var g,y=null;if(c){var m=!0;y=new ResizeObserver((function(){m||n(),m=!1})),Gi(e)&&!d&&y.observe(e),y.observe(t)}var b=d?Ji(e):null;return d&&function t(){var r=Ji(e);!b||r.x===b.x&&r.y===b.y&&r.width===b.width&&r.height===b.height||n(),b=r,g=requestAnimationFrame(t)}(),n(),function(){var e;v.forEach((function(e){h&&e.removeEventListener("scroll",n),p&&e.removeEventListener("resize",n)})),null==(e=y)||e.disconnect(),y=null,d&&cancelAnimationFrame(g)}}(L.reference.current,L.floating.current,M)}),[k,L.floating,L.reference,M]),(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsx)("div",(0,Te.Z)((0,Te.Z)({className:s.target},D({ref:O})),{},{"data-testid":"flowbite-tooltip-target",children:o})),(0,jt.jsxs)("div",(0,Te.Z)((0,Te.Z)({"data-testid":"flowbite-tooltip"},j((0,Te.Z)({className:fr()(s.base,l&&"".concat(s.animation," ").concat(l),!k&&s.hidden,s.style[v]),ref:P,style:{position:R,top:null!==N&&void 0!==N?N:" ",left:null!==I&&void 0!==I?I:" "}},b))),{},{children:[(0,jt.jsx)("div",{className:s.content,children:a}),f&&(0,jt.jsx)("div",{className:fr()(s.arrow.base,(n={},(0,di.Z)(n,s.arrow.style.dark,"dark"===v),(0,di.Z)(n,s.arrow.style.light,"light"===v),(0,di.Z)(n,s.arrow.style.auto,"auto"===v),n)),"data-testid":"flowbite-tooltip-arrow",ref:_,style:(0,di.Z)({top:null!==Z&&void 0!==Z?Z:" ",left:null!==C&&void 0!==C?C:" ",right:" ",bottom:" "},(i={placement:S.placement},{top:"bottom",right:"left",bottom:"top",left:"right"}[i.placement.split("-")[0]]),s.arrow.placement),children:"\xa0"})]}))]})},Yo=function(){var e=Cr().theme.dropdown.floating.divider;return(0,jt.jsx)("div",{className:e})},Ko=["children"],qo=function(e){var t=e.children,n=(0,lr.Z)(e,Ko),r=Cr().theme.dropdown.floating.header,i=Sr(n);return(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsx)("div",(0,Te.Z)((0,Te.Z)({className:r},i),{},{children:t})),(0,jt.jsx)(Yo,{})]})},Qo=function(e){var t=e.children,n=e.onClick,r=e.icon,i=Cr().theme.dropdown.floating.item;return(0,jt.jsxs)("li",{className:i.base,onClick:n,children:[r&&(0,jt.jsx)(r,{className:i.icon}),t]})},$o=["children"],Jo=["placement","trigger","label","inline","floatingArrow","arrowIcon"],ea={top:function(e){return yr({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"}}]})(e)},right:kr,bottom:xr,left:function(e){return yr({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"}}]})(e)}},ta=function(t){var n=t.children,r=(0,lr.Z)(t,$o),i=Cr().theme.dropdown,o=Sr(r),a=o.placement,s=void 0===a?r.inline?"bottom-start":"bottom":a,u=o.trigger,l=void 0===u?"click":u,c=o.label,f=o.inline,d=o.floatingArrow,h=void 0!==d&&d,p=o.arrowIcon,v=void 0===p||p,g=(0,lr.Z)(o,Jo),y=(0,e.useMemo)((function(){var e,t=s.split("-"),n=(0,At.Z)(t,1)[0];return null!==(e=ea[n])&&void 0!==e?e:xr}),[s]),m=(0,e.useMemo)((function(){return(0,jt.jsx)("ul",{className:i.content,children:n})}),[n,i]);return(0,jt.jsx)(Xo,{content:m,style:"auto",animation:"duration-100",placement:s,arrow:h,trigger:l,theme:i.floating,children:(0,jt.jsxs)((function(e){var t=e.children;return f?(0,jt.jsx)("button",{className:i.inlineWrapper,children:t}):(0,jt.jsx)(oi,(0,Te.Z)((0,Te.Z)({},g),{},{children:t}))}),{children:[c,v&&(0,jt.jsx)(y,{className:i.arrowIcon})]})})};ta.displayName="Dropdown",Qo.displayName="Dropdown.Item",qo.displayName="Dropdown.Header",Yo.displayName="Dropdown.Divider";Object.assign(ta,{Item:Qo,Header:qo,Divider:Yo});var na=function(e){var t=e.alt,n=e.children,r=e.href,i=e.name,o=e.src,a=Cr().theme.footer.brand;return(0,jt.jsx)("div",{children:r?(0,jt.jsxs)("a",{"data-testid":"flowbite-footer-brand",href:r,className:a.base,children:[(0,jt.jsx)("img",{alt:t,src:o,className:a.img}),(0,jt.jsx)("span",{"data-testid":"flowbite-footer-brand-span",className:a.span,children:i}),n]}):(0,jt.jsx)("img",{alt:t,"data-testid":"flowbite-footer-brand",src:o,className:a.img})})},ra=function(e){var t=e.href,n=e.by,r=e.year,i=Cr().theme.footer.copyright;return(0,jt.jsx)("div",{children:(0,jt.jsxs)("span",{className:i.base,"data-testid":"flowbite-footer-copyright",children:["\xa9 ",r,t?(0,jt.jsx)("a",{href:t,className:i.href,children:n}):(0,jt.jsx)("span",{"data-testid":"flowbite-footer-copyright-span",className:i.span,children:n})]})})},ia=function(){var e=Cr().theme.footer.divider;return(0,jt.jsx)("hr",{"data-testid":"footer-divider",className:e.base})},oa=function(e){var t=e.href,n=e.ariaLabel,r=e.icon,i=Cr().theme.footer.icon;return(0,jt.jsx)("div",{children:t?(0,jt.jsx)("a",{"aria-label":n,"data-testid":"flowbite-footer-icon",href:t,className:i.base,children:(0,jt.jsx)(r,{className:i.size})}):(0,jt.jsx)(r,{"data-testid":"flowbite-footer-icon",className:i.size})})},aa=function(e){var t=e.children,n=e.href,r=Cr().theme.footer.groupLink.link;return(0,jt.jsx)("li",{className:r.base,children:(0,jt.jsx)("a",{href:n,className:r.href,children:t})})},sa=function(e){var t=e.children,n=e.col,r=void 0!==n&&n,i=Cr().theme.footer.groupLink;return(0,jt.jsx)("ul",{"data-testid":"footer-groupLink",className:fr()(i.base,r&&i.col),children:t})},ua=function(e){var t=e.title,n=Cr().theme.footer.title;return(0,jt.jsx)("h2",{"data-testid":"flowbite-footer-title",className:n.base,children:t})},la=function(e){var t=e.children,n=e.bgDark,r=void 0!==n&&n,i=e.container,o=void 0!==i&&i,a=Cr().theme.footer;return(0,jt.jsx)("footer",{"data-testid":"flowbite-footer",className:fr()(a.base,r&&a.bgDark,o&&a.container),children:t})};la.displayName="Footer",ra.displayName="Footer.Copyright",aa.displayName="Footer.Link",na.displayName="Footer.Brand",sa.displayName="Footer.LinkGroup",oa.displayName="Footer.Icon",ua.displayName="Footer.Title",ia.displayName="Footer.Divider";var ca=Object.assign(la,{Copyright:ra,Link:aa,LinkGroup:sa,Brand:na,Icon:oa,Title:ua,Divider:ia}),fa=(0,e.forwardRef)((function(e,t){var n=Cr().theme.formControls.checkbox,r=Sr(e);return(0,jt.jsx)("input",(0,Te.Z)({ref:t,className:n.base,type:"checkbox"},r))}));fa.displayName="Checkbox";var da=["value","children","color"],ha=function(e){var t,n=e.value,r=e.children,i=e.color,o=void 0===i?"default":i,a=(0,lr.Z)(e,da),s=Cr().theme.formControls.helperText,u=Sr(a);return(0,jt.jsx)("p",(0,Te.Z)((0,Te.Z)({className:fr()(s.base,s.colors[o])},u),{},{children:null!==(t=null!==n&&void 0!==n?n:r)&&void 0!==t?t:""}))},pa=["sizing","helperText","color"],va=(0,e.forwardRef)((function(e,t){var n=e.sizing,r=void 0===n?"md":n,i=e.helperText,o=e.color,a=void 0===o?"gray":o,s=(0,lr.Z)(e,pa),u=Cr().theme.formControls.fileInput,l=Sr(s);return(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsx)("div",{className:u.base,children:(0,jt.jsx)("div",{className:u.field.base,children:(0,jt.jsx)("input",(0,Te.Z)((0,Te.Z)({className:fr()(u.field.input.base,u.field.input.colors[a],u.field.input.sizes[r])},l),{},{type:"file",ref:t}))})}),i&&(0,jt.jsx)(ha,{color:a,children:i})]})}));va.displayName="FileInput";var ga=["children","color","disabled","value"],ya=function(e){var t,n=e.children,r=e.color,i=void 0===r?"default":r,o=e.disabled,a=void 0!==o&&o,s=e.value,u=(0,lr.Z)(e,ga),l=Cr().theme.formControls.label,c=Sr(u);return(0,jt.jsx)("label",(0,Te.Z)((0,Te.Z)({className:fr()(l.base,l.colors[i],null!==a&&void 0!==a?a:l.disabled)},c),{},{children:null!==(t=null!==s&&void 0!==s?s:n)&&void 0!==t?t:""}))},ma=(0,e.forwardRef)((function(e,t){var n=Cr().theme.formControls.radio,r=Sr(e);return(0,jt.jsx)("input",(0,Te.Z)({ref:t,className:n.base,type:"radio"},r))}));ma.displayName="Radio";var ba=["children","sizing","shadow","helperText","addon","icon","color"],_a=(0,e.forwardRef)((function(e,t){var n=e.children,r=e.sizing,i=void 0===r?"md":r,o=e.shadow,a=e.helperText,s=e.addon,u=e.icon,l=e.color,c=void 0===l?"gray":l,f=(0,lr.Z)(e,ba),d=Cr().theme.formControls.select,h=Sr(f);return(0,jt.jsxs)("div",{className:d.base,children:[s&&(0,jt.jsx)("span",{className:d.addon,children:s}),(0,jt.jsxs)("div",{className:d.field.base,children:[u&&(0,jt.jsx)("div",{className:d.field.icon.base,children:(0,jt.jsx)(u,{className:d.field.icon.svg})}),(0,jt.jsx)("select",(0,Te.Z)((0,Te.Z)({className:fr()(d.field.select.base,d.field.select.colors[c],d.field.select.withIcon[u?"on":"off"],d.field.select.withAddon[s?"on":"off"],d.field.select.withShadow[o?"on":"off"],d.field.select.sizes[i])},h),{},{ref:t,children:n})),a&&(0,jt.jsx)(ha,{color:c,children:a})]})]})}));_a.displayName="Select";var wa=["shadow","helperText","color"],xa=(0,e.forwardRef)((function(e,t){var n=e.shadow,r=e.helperText,i=e.color,o=void 0===i?"gray":i,a=(0,lr.Z)(e,wa),s=Cr().theme.formControls.textarea,u=Sr(a);return(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsx)("textarea",(0,Te.Z)({ref:t,className:fr()(s.base,s.colors[o],s.withShadow[n?"on":"off"])},u)),r&&(0,jt.jsx)(ha,{color:o,children:r})]})}));xa.displayName="Textarea";var ka=["sizing","shadow","helperText","addon","icon","color"],Ea=(0,e.forwardRef)((function(e,t){var n=e.sizing,r=void 0===n?"md":n,i=e.shadow,o=e.helperText,a=e.addon,s=e.icon,u=e.color,l=void 0===u?"gray":u,c=(0,lr.Z)(e,ka),f=Cr().theme.formControls.textInput,d=Sr(c);return(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsxs)("div",{className:f.base,children:[a&&(0,jt.jsx)("span",{className:f.addon,children:a}),(0,jt.jsxs)("div",{className:f.field.base,children:[s&&(0,jt.jsx)("div",{className:f.field.icon.base,children:(0,jt.jsx)(s,{className:f.field.icon.svg})}),(0,jt.jsx)("input",(0,Te.Z)((0,Te.Z)({className:fr()(f.field.input.base,f.field.input.colors[l],f.field.input.withIcon[s?"on":"off"],f.field.input.withAddon[a?"on":"off"],f.field.input.withShadow[i?"on":"off"],f.field.input.sizes[r])},d),{},{ref:t}))]})]}),o&&(0,jt.jsx)(ha,{color:l,children:o})]})}));Ea.displayName="TextInput";var Sa=["active","children","href","icon","onClick"],Ta=function(e){var t=e.active,n=e.children,r=e.href,i=e.icon,o=e.onClick,a=(0,lr.Z)(e,Sa),s="undefined"!==typeof r,u=s?"a":"button",l=Sr(a),c=Cr().theme.listGroup.item;return(0,jt.jsx)("li",{children:(0,jt.jsxs)(u,(0,Te.Z)((0,Te.Z)({className:fr()(c.active[t?"on":"off"],c.base,c.href[s?"on":"off"]),href:r,onClick:o,type:s?void 0:"button"},l),{},{children:[i&&(0,jt.jsx)(i,{"aria-hidden":!0,className:c.icon,"data-testid":"flowbite-list-group-item-icon"}),n]}))})},Pa=["children"],Aa=function(e){var t=e.children,n=(0,lr.Z)(e,Pa),r=Sr(n),i=Cr().theme.listGroup.base;return(0,jt.jsx)("ul",(0,Te.Z)((0,Te.Z)({className:i},r),{},{children:t}))};Aa.displayName="ListGroup",Ta.displayName="ListGroup.Item";Object.assign(Aa,{Item:Ta});var Ca=function(){return"undefined"!==typeof window},Za=(0,e.createContext)(void 0);function Oa(){var t=(0,e.useContext)(Za);if(!t)throw new Error("useModalContext should be used within the ModalContext provider!");return t}var La=["children"],Ra=function(e){var t=e.children,n=(0,lr.Z)(e,La),r=Oa().popup,i=Cr().theme.modal.body,o=Sr(n);return(0,jt.jsx)("div",(0,Te.Z)((0,Te.Z)({className:fr()(i.base,(0,di.Z)({},i.popup,r))},o),{},{children:t}))},Ma=["children"],Ia=function(e){var t=e.children,n=(0,lr.Z)(e,Ma),r=Oa().popup,i=Cr().theme.modal.footer,o=Sr(n);return(0,jt.jsx)("div",(0,Te.Z)((0,Te.Z)({className:fr()(i.base,(0,di.Z)({},i.popup,!r))},o),{},{children:t}))},Na=["children"],Fa=function(e){var t=e.children,n=(0,lr.Z)(e,Na),r=Oa(),i=r.popup,o=r.onClose,a=Cr().theme.modal.header,s=Sr(n);return(0,jt.jsxs)("div",(0,Te.Z)((0,Te.Z)({className:fr()(a.base,(0,di.Z)({},a.popup,i))},s),{},{children:[(0,jt.jsx)("h3",{className:a.title,children:t}),(0,jt.jsx)("button",{"aria-label":"Close",className:a.close.base,type:"button",onClick:o,children:(0,jt.jsx)(Er,{"aria-hidden":!0,className:a.close.icon})})]}))},ja=["children","root","show","popup","size","position","onClose"],Da=function(t){var n=t.children,r=t.root,i=void 0===r?Ca()?document.body:void 0:r,o=t.show,s=t.popup,u=t.size,l=void 0===u?"2xl":u,c=t.position,f=void 0===c?"center":c,d=t.onClose,h=(0,lr.Z)(t,ja),p=(0,e.useState)(Ca()?document.createElement("div"):void 0),v=(0,At.Z)(p,1)[0],g=Cr().theme.modal,y=Sr(h);return(0,e.useEffect)((function(){if(v&&i&&o)return i.appendChild(v),function(){i.removeChild(v)}}),[v,i,o]),v?(0,a.createPortal)((0,jt.jsx)(Za.Provider,{value:{popup:s,onClose:d},children:(0,jt.jsx)("div",(0,Te.Z)((0,Te.Z)({"aria-hidden":!o,className:fr()(g.base,g.positions[f],o?g.show.on:g.show.off),"data-testid":"modal",role:"dialog"},y),{},{children:(0,jt.jsx)("div",{className:fr()(g.content.base,g.sizes[l]),children:(0,jt.jsx)("div",{className:g.content.inner,children:n})})}))}),v):null};Da.displayName="Modal",Fa.displayName="Modal.Header",Ra.displayName="Modal.Body",Ia.displayName="Modal.Footer";Object.assign(Da,{Header:Fa,Body:Ra,Footer:Ia});var za=["children","href"],Ba=function(e){var t=e.children,n=e.href,r=(0,lr.Z)(e,za),i=Cr().theme.navbar,o=Sr(r);return(0,jt.jsx)("a",(0,Te.Z)((0,Te.Z)({href:n,className:i.brand},o),{},{children:t}))},Ua=(0,e.createContext)(void 0);function Va(){var t=(0,e.useContext)(Ua);if(!t)throw new Error("useNavBarContext should be used within the NavbarContext provider!");return t}var Ga=["children"],Wa=function(e){var t=e.children,n=(0,lr.Z)(e,Ga),r=Va().isOpen,i=Cr().theme.navbar.collapse,o=Sr(n);return(0,jt.jsx)("div",(0,Te.Z)((0,Te.Z)({className:fr()(i.base,i.hidden[r?"off":"on"]),"data-testid":"flowbite-navbar-collapse"},o),{},{children:(0,jt.jsx)("ul",{className:i.list,children:t})}))},Ha=["active","disabled","href","children"],Xa=function(e){var t,n=e.active,r=e.disabled,i=e.href,o=e.children,a=(0,lr.Z)(e,Ha),s=Cr().theme.navbar.link,u=Sr(a);return(0,jt.jsx)("li",{children:(0,jt.jsx)("a",(0,Te.Z)((0,Te.Z)({href:i,className:fr()(s.base,(t={},(0,di.Z)(t,s.active.on,n),(0,di.Z)(t,s.active.off,!n&&!r),t),s.disabled[r?"on":"off"])},u),{},{children:o}))})};function Ya(e){return yr({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.41 9H.59C0 9 0 8.59 0 8c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zm0-4H.59C0 5 0 4.59 0 4c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zM.59 11H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1H.59C0 13 0 12.59 0 12c0-.59 0-1 .59-1z"}}]})(e)}var Ka=["barIcon"],qa=function(e){var t=e.barIcon,n=void 0===t?Ya:t,r=(0,lr.Z)(e,Ka),i=Va(),o=i.isOpen,a=i.setIsOpen,s=Cr().theme.navbar.toggle,u=Sr(r);return(0,jt.jsxs)("button",(0,Te.Z)((0,Te.Z)({className:s.base,"data-testid":"flowbite-navbar-toggle",onClick:function(){a(!o)}},u),{},{children:[(0,jt.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,jt.jsx)(n,{className:s.icon})]}))},Qa=["children","menuOpen","fluid","rounded","border"],$a=function(t){var n=t.children,r=t.menuOpen,i=t.fluid,o=void 0!==i&&i,a=t.rounded,s=t.border,u=(0,lr.Z)(t,Qa),l=(0,e.useState)(r),c=(0,At.Z)(l,2),f=c[0],d=c[1],h=Cr().theme.navbar,p=Sr(u);return(0,jt.jsx)(Ua.Provider,{value:{isOpen:f,setIsOpen:d},children:(0,jt.jsx)("nav",(0,Te.Z)((0,Te.Z)({className:fr()(h.base,h.bordered[s?"on":"off"],h.rounded[a?"on":"off"])},p),{},{children:(0,jt.jsx)("div",{className:fr()(h.inner.base,h.inner.fluid[o?"on":"off"]),children:n})}))})};$a.displayName="Navbar",Ba.displayName="Navbar.Brand",Wa.displayName="Navbar.Collapse",Xa.displayName="Navbar.Link",qa.displayName="Navbar.Toggle";Object.assign($a,{Brand:Ba,Collapse:Wa,Link:Xa,Toggle:qa});var Ja=["percentFilled","children"],es=function(e){var t=e.percentFilled,n=void 0===t?0:t,r=e.children,i=(0,lr.Z)(e,Ja),o=Cr().theme.rating.advanced,a=Sr(i);return(0,jt.jsxs)("div",(0,Te.Z)((0,Te.Z)({className:o.base},a),{},{children:[(0,jt.jsx)("span",{className:o.label,children:r}),(0,jt.jsx)("div",{className:o.progress.base,children:(0,jt.jsx)("div",{className:o.progress.fill,"data-testid":"flowbite-rating-fill",style:{width:"".concat(n,"%")}})}),(0,jt.jsx)("span",{className:o.progress.label,children:"".concat(n,"%")})]}))},ts=(0,e.createContext)(void 0);var ns=function(t){var n=t.filled,r=void 0===n||n,i=t.starIcon,o=void 0===i?_r:i,a=function(){var t=(0,e.useContext)(ts);if(!t)throw new Error("useRatingContext should be used within the RatingContext provider!");return t}().size,s=void 0===a?"sm":a,u=Cr().theme.rating.star;return(0,jt.jsx)(o,{className:fr()(u.sizes[s],u[r?"filled":"empty"]),"data-testid":"flowbite-rating-star"})},rs=["children","size"],is=function(e){var t=e.children,n=e.size,r=void 0===n?"sm":n,i=(0,lr.Z)(e,rs),o=Cr().theme.rating,a=Sr(i);return(0,jt.jsx)(ts.Provider,{value:{size:r},children:(0,jt.jsx)("div",(0,Te.Z)((0,Te.Z)({className:o.base},a),{},{children:t}))})};is.displayName="Rating",ns.displayName="Rating.Star",es.displayName="Rating.Advanced";Object.assign(is,{Star:ns,Advanced:es});var os=["animation","arrow","children","content","placement","style","trigger"],as=function(e){var t=e.animation,n=void 0===t?"duration-300":t,r=e.arrow,i=void 0===r||r,o=e.children,a=e.content,s=e.placement,u=void 0===s?"top":s,l=e.style,c=void 0===l?"dark":l,f=e.trigger,d=void 0===f?"hover":f,h=(0,lr.Z)(e,os),p=Cr().theme.tooltip,v=Sr(h);return(0,jt.jsx)(Xo,(0,Te.Z)((0,Te.Z)({content:a,style:c,animation:n,placement:u,arrow:i,trigger:d,theme:p},v),{},{children:o}))},ss=(0,e.createContext)(void 0);function us(){var t=(0,e.useContext)(ss);if(!t)throw new Error("useSidebarContext should be used within the SidebarContext provider!");return t}var ls=(0,e.createContext)(void 0);var cs=["children","icon","label"],fs=function(t){var n=t.children,r=t.icon,i=t.label,o=(0,lr.Z)(t,cs),a=Sr(o),s=(0,e.useId)(),u=us().isCollapsed,l=(0,e.useState)(!1),c=(0,At.Z)(l,2),f=c[0],d=c[1],h=Cr().theme.sidebar.collapse;return(0,jt.jsxs)((function(e){var t=e.children;return(0,jt.jsx)("li",{children:u?(0,jt.jsx)(as,{content:i,placement:"right",children:t}):t})}),{children:[(0,jt.jsxs)("button",(0,Te.Z)((0,Te.Z)({className:h.button,id:"flowbite-sidebar-collapse-".concat(s),onClick:function(){return d(!f)},type:"button"},a),{},{children:[r&&(0,jt.jsx)(r,{"aria-hidden":!0,className:fr()(h.icon.base,h.icon.open[f?"on":"off"]),"data-testid":"flowbite-sidebar-collapse-icon"}),u?(0,jt.jsx)("span",{className:"sr-only",children:i}):(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsx)("span",{className:h.label.base,"data-testid":"flowbite-sidebar-collapse-label",children:i}),(0,jt.jsx)(br,{"aria-hidden":!0,className:h.label.icon})]})]})),(0,jt.jsx)("ul",{"aria-labelledby":"flowbite-sidebar-collapse-".concat(s),className:h.list,hidden:!f,children:(0,jt.jsx)(ls.Provider,{value:{isInsideCollapse:!0},children:n})})]})};fs.displayName="Sidebar.Collapse";var ds=fs,hs=["children","color"],ps=function(e){var t=e.children,n=e.color,r=void 0===n?"info":n,i=(0,lr.Z)(e,hs),o=Sr(i),a=us().isCollapsed,s=Cr().theme.sidebar.cta;return(0,jt.jsx)("div",(0,Te.Z)((0,Te.Z)({className:fr()(s.base,s.color[r]),"data-testid":"sidebar-cta",hidden:a},o),{},{children:t}))};ps.displayName="Sidebar.CTA";var vs=ps,gs=["as","children","icon","active","label","labelColor"],ys=function(t){var n,r=t.as,i=void 0===r?"a":r,o=t.children,a=t.icon,s=t.active,u=t.label,l=t.labelColor,c=void 0===l?"info":l,f=(0,lr.Z)(t,gs),d=Sr(f),h=(0,e.useId)(),p=us().isCollapsed,v=function(){var t=(0,e.useContext)(ls);if(!t)throw new Error("useSidebarItemContext should be used within the SidebarItemContext provider!");return t}().isInsideCollapse,g=Cr().theme.sidebar.item,y=function(e){var t=e.children;return(0,jt.jsx)(m,{children:t})},m=function(e){var t=e.children;return(0,jt.jsx)("span",{className:fr()(g.content.base),"data-testid":"flowbite-sidebar-item-content",id:"flowbite-sidebar-item-".concat(h),children:t})};return(0,jt.jsx)((function(e){var t=e.children;return(0,jt.jsx)("li",{children:p?(0,jt.jsx)(as,{content:(0,jt.jsx)(y,{children:o}),placement:"right",children:t}):t})}),{children:(0,jt.jsxs)(i,(0,Te.Z)((0,Te.Z)({"aria-labelledby":"flowbite-sidebar-item-".concat(h),className:fr()(g.base,s&&g.active,!p&&v&&g.collapsed.insideCollapse)},d),{},{children:[a&&(0,jt.jsx)(a,{"aria-hidden":!0,className:fr()(g.icon.base,s&&g.icon.active),"data-testid":"flowbite-sidebar-item-icon"}),p&&!a&&(0,jt.jsx)("span",{className:g.collapsed.noIcon,children:null!==(n=o.charAt(0).toLocaleUpperCase())&&void 0!==n?n:"?"}),!p&&(0,jt.jsx)(m,{children:o}),!p&&u&&(0,jt.jsx)(Xr,{color:c,"data-testid":"flowbite-sidebar-label",hidden:p,children:u})]}))})};ys.displayName="Sidebar.Item";var ms=ys,bs=["children"],_s=function(e){var t=e.children,n=(0,lr.Z)(e,bs),r=Sr(n),i=Cr().theme.sidebar.itemGroup;return(0,jt.jsx)("ul",(0,Te.Z)((0,Te.Z)({className:i,"data-testid":"flowbite-sidebar-item-group"},r),{},{children:(0,jt.jsx)(ls.Provider,{value:{isInsideCollapse:!1},children:t})}))};_s.displayName="Sidebar.ItemGroup";var ws=_s,xs=["children"],ks=function(e){var t=e.children,n=(0,lr.Z)(e,xs),r=Sr(n),i=Cr().theme.sidebar.items;return(0,jt.jsx)("div",(0,Te.Z)((0,Te.Z)({className:i,"data-testid":"flowbite-sidebar-items"},r),{},{children:t}))};ks.displayName="Sidebar.Items";var Es=ks,Ss=["children","href","img","imgAlt"],Ts=function(t){var n=t.children,r=t.href,i=t.img,o=t.imgAlt,a=void 0===o?"":o,s=(0,lr.Z)(t,Ss),u=Sr(s),l=(0,e.useId)(),c=us().isCollapsed,f=Cr().theme.sidebar.logo;return(0,jt.jsxs)("a",(0,Te.Z)((0,Te.Z)({"aria-labelledby":"flowbite-sidebar-logo-".concat(l),className:f.base,href:r},u),{},{children:[(0,jt.jsx)("img",{alt:a,className:f.img,src:i}),(0,jt.jsx)("span",{className:f.collapsed[c?"on":"off"],id:"flowbite-sidebar-logo-".concat(l),children:n})]}))};Ts.displayName="Sidebar.Logo";var Ps=Ts,As=["children","collapseBehavior","collapsed"],Cs=function(e){var t=e.children,n=e.collapseBehavior,r=void 0===n?"collapse":n,i=e.collapsed,o=void 0!==i&&i,a=(0,lr.Z)(e,As),s=Sr(a),u=Cr().theme.sidebar;return(0,jt.jsx)(ss.Provider,{value:{isCollapsed:o},children:(0,jt.jsx)("aside",(0,Te.Z)((0,Te.Z)({"aria-label":"Sidebar",className:fr()(u.base,u.collapsed[o?"on":"off"]),hidden:o&&"hide"===r},s),{},{children:(0,jt.jsx)("div",{className:u.inner,children:t})}))})};Cs.displayName="Sidebar";Object.assign(Cs,{Collapse:ds,CTA:vs,Item:ms,Items:Es,ItemGroup:ws,Logo:Ps});var Zs=function(e){var t=e.children;return(0,jt.jsx)(jt.Fragment,{children:t})},Os=["children","style"],Ls=function(t){var n=t.children,r=t.style,i=void 0===r?"default":r,o=(0,lr.Z)(t,Os),a=Cr().theme.tab,s=Sr(o),u=(0,e.useId)(),l=(0,e.useMemo)((function(){return e.Children.map(n,(function(e){return e.props}))}),[n]),c=(0,e.useRef)([]),f=(0,e.useState)(Math.max(0,l.findIndex((function(e){return e.active})))),d=(0,At.Z)(f,2),h=d[0],p=d[1],v=(0,e.useState)(Math.max(0,l.findIndex((function(e){return e.active})))),g=(0,At.Z)(v,2),y=g[0],m=g[1];return(0,e.useEffect)((function(){var e;null===(e=c.current[y])||void 0===e||e.focus()}),[y]),(0,jt.jsxs)("div",{className:a.base,children:[(0,jt.jsx)("div",(0,Te.Z)((0,Te.Z)({"aria-label":"Tabs",role:"tablist",className:fr()(a.tablist.base,a.tablist.styles[i])},s),{},{children:l.map((function(e,t){var n;return(0,jt.jsxs)("button",{type:"button","aria-controls":"".concat(u,"-tabpanel-").concat(t),"aria-selected":t===h,className:fr()(a.tablist.tabitem.base,a.tablist.tabitem.styles[i],(n={},(0,di.Z)(n,a.tablist.tabitem.styles[i].active.on,t===h),(0,di.Z)(n,a.tablist.tabitem.styles[i].active.off,t!==h&&!e.disabled),n)),disabled:e.disabled,id:"".concat(u,"-tab-").concat(t),onClick:function(){return function(e){var t=e.target;p(t),m(t)}({target:t})},onKeyDown:function(e){return function(e){var t=e.event,n=e.target;"ArrowLeft"===t.key&&m(Math.max(0,y-1)),"ArrowRight"===t.key&&m(Math.min(l.length-1,y+1)),"Enter"===t.key&&(p(n),m(n))}({event:e,target:t})},ref:function(e){return c.current[t]=e},role:"tab",tabIndex:t===y?0:-1,children:[e.icon&&(0,jt.jsx)(e.icon,{className:a.tablist.tabitem.icon}),e.title]},t)}))})),(0,jt.jsx)("div",{children:l.map((function(e,t){return(0,jt.jsx)("div",{"aria-labelledby":"".concat(u,"-tab-").concat(t),className:a.tabpanel,hidden:t!==h,id:"".concat(u,"-tabpanel-").concat(t),role:"tabpanel",tabIndex:0,children:e.children},t)}))})]})};Ls.displayName="Tabs.Group",Zs.displayName="Tabs.Item";var Rs=["children"],Ms=function(e){var t=e.children,n=(0,lr.Z)(e,Rs);return(0,jt.jsx)("tbody",(0,Te.Z)((0,Te.Z)({},n),{},{children:t}))},Is=["children","className"],Ns=function(e){var t=e.children,n=e.className,r=(0,lr.Z)(e,Is);return(0,jt.jsx)("td",(0,Te.Z)((0,Te.Z)({className:fr()("px-6 py-4",n)},r),{},{children:t}))},Fs=(0,e.createContext)(void 0);var js=["children","className"],Ds=function(e){var t=e.children,n=e.className,r=(0,lr.Z)(e,js);return(0,jt.jsx)("thead",(0,Te.Z)((0,Te.Z)({className:fr()("bg-gray-50 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400",n)},r),{},{children:(0,jt.jsx)("tr",{children:t})}))},zs=["children","className"],Bs=function(e){var t=e.children,n=e.className,r=(0,lr.Z)(e,zs);return(0,jt.jsx)("th",(0,Te.Z)((0,Te.Z)({className:fr()("px-6 py-3",n)},r),{},{children:t}))},Us=["children","className"],Vs=function(t){var n=t.children,r=t.className,i=(0,lr.Z)(t,Us),o=function(){var t=(0,e.useContext)(Fs);if(!t)throw new Error("useTableContext should be used within the TableContext provider!");return t}(),a=o.striped,s=o.hoverable;return(0,jt.jsx)("tr",(0,Te.Z)((0,Te.Z)({"data-testid":"table-row-element",className:fr()({"odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700":a,"hover:bg-gray-50 dark:hover:bg-gray-600":s},r)},i),{},{children:n}))},Gs=["children","striped","hoverable","className"],Ws=function(e){var t=e.children,n=e.striped,r=e.hoverable,i=e.className,o=(0,lr.Z)(e,Gs);return(0,jt.jsx)("div",{"data-testid":"table-element",className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:(0,jt.jsx)(Fs.Provider,{value:{striped:n,hoverable:r},children:(0,jt.jsx)("table",(0,Te.Z)((0,Te.Z)({className:fr()("w-full text-left text-sm text-gray-500 dark:text-gray-400",i)},o),{},{children:t}))})})};Ws.displayName="Table",Ds.displayName="Table.Head",Ms.displayName="Table.Body",Vs.displayName="Table.Row",Ns.displayName="Table.Cell",Bs.displayName="Table.HeadCell";Object.assign(Ws,{Head:Ds,Body:Ms,Row:Vs,Cell:Ns,HeadCell:Bs});var Hs=["children","className"],Xs=function(e){var t=e.children,n=e.className,r=(0,lr.Z)(e,Hs);return(0,jt.jsx)("p",(0,Te.Z)((0,Te.Z)({className:fr()("mb-4 text-base font-normal text-gray-500 dark:text-gray-400",n)},r),{},{children:t}))},Ys=(0,e.createContext)(void 0);function Ks(){var t=(0,e.useContext)(Ys);if(!t)throw new Error("useTimelineContext should be used within the TimelineContext providor!");return t}var qs=["children","className"],Qs=function(e){var t=e.children,n=e.className,r=(0,lr.Z)(e,qs),i=Ks().horizontal;return(0,jt.jsx)("div",(0,Te.Z)((0,Te.Z)({"data-testid":"timeline-content",className:fr()({"mt-3 sm:pr-8":i},n)},r),{},{children:t}))},$s=["children","className"],Js=function(e){var t=e.children,n=e.className,r=(0,lr.Z)(e,$s),i=Ks().horizontal;return(0,jt.jsx)("li",(0,Te.Z)((0,Te.Z)({"data-testid":"timeline-item",className:fr()({"mb-10 ml-6":!i,"relative mb-6 sm:mb-0":i},n)},r),{},{children:t}))},eu=["children","className","icon"],tu=function(e){var t=e.children,n=e.className,r=e.icon,i=(0,lr.Z)(e,eu),o=Ks().horizontal;return(0,jt.jsxs)("div",(0,Te.Z)((0,Te.Z)({"data-testid":"timeline-point",className:fr()({"flex items-center":o},n)},i),{},{children:[t,r?(0,jt.jsx)("span",{className:"absolute -left-3 flex h-6 w-6 items-center justify-center rounded-full bg-blue-200 ring-8 ring-white dark:bg-blue-900 dark:ring-gray-900",children:(0,jt.jsx)(r,{"aria-hidden":!0,className:"h-3 w-3 text-blue-600 dark:text-blue-300"})}):(0,jt.jsx)("div",{className:"absolute -left-1.5 mt-1.5 h-3 w-3 rounded-full border border-white bg-gray-200 dark:border-gray-900 dark:bg-gray-700"}),o?(0,jt.jsx)("div",{className:"hidden h-0.5 w-full bg-gray-200 dark:bg-gray-700 sm:flex"}):""]}))},nu=["children","className"],ru=function(e){var t=e.children,n=e.className,r=(0,lr.Z)(e,nu);return(0,jt.jsx)("time",(0,Te.Z)((0,Te.Z)({className:fr()("mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",n)},r),{},{children:t}))},iu=["children","className","as"],ou=function(e){var t=e.children,n=e.className,r=e.as,i=void 0===r?"h3":r,o=(0,lr.Z)(e,iu),a=i;return(0,jt.jsx)(a,(0,Te.Z)((0,Te.Z)({className:fr()("text-lg font-semibold text-gray-900 dark:text-white",n)},o),{},{children:t}))},au=function(e){var t=e.children,n=e.horizontal;return(0,jt.jsx)(Ys.Provider,{value:{horizontal:n},children:(0,jt.jsx)("ol",{"data-testid":"timeline-component",className:fr()({"relative border-l border-gray-200 dark:border-gray-700":!n,"items-center sm:flex":n}),children:t})})};au.displayName="Timeline",Js.displayName="Timeline.Item",tu.displayName="Timeline.Point",Qs.displayName="Timeline.Content",ru.displayName="Timeline.Time",ou.displayName="Timeline.Title",Xs.displayName="Timeline.Body";Object.assign(au,{Item:Js,Point:tu,Content:Qs,Time:ru,Title:ou,Body:Xs});var su=(0,e.createContext)(void 0);var uu=function(t){var n=t.xIcon,r=void 0===n?wr:n,i=function(){var t=(0,e.useContext)(su);if(!t)throw new Error("useToastContext should be used within the ToastContext provider!");return t}(),o=i.duration,a=i.isClosed,s=i.isRemoved,u=i.setIsClosed,l=i.setIsRemoved,c=Cr().theme.toast.toggle;return(0,jt.jsx)("button",{"aria-label":"Close",onClick:function(){u(!a),setTimeout((function(){return l(!s)}),o)},type:"button",className:c.base,children:(0,jt.jsx)(r,{className:c.icon})})},lu=["children","duration"],cu={75:"duration-75",100:"duration-100",150:"duration-150",200:"duration-200",300:"duration-300",500:"duration-500",700:"duration-700",1e3:"duration-1000"},fu=function(t){var n=t.children,r=t.duration,i=void 0===r?300:r,o=(0,lr.Z)(t,lu),a=(0,e.useState)(!1),s=(0,At.Z)(a,2),u=s[0],l=s[1],c=(0,e.useState)(!1),f=(0,At.Z)(c,2),d=f[0],h=f[1],p=Cr().theme.toast,v=Sr(o);return(0,jt.jsx)(su.Provider,{value:{duration:i,isClosed:u,isRemoved:d,setIsClosed:l,setIsRemoved:h},children:(0,jt.jsx)("div",(0,Te.Z)((0,Te.Z)({"data-testid":"flowbite-toast",className:fr()(p.base,cu[i],(0,di.Z)({},p.closed,u),(0,di.Z)({},p.removed,d))},v),{},{children:n}))})};fu.displayName="Toast",uu.displayName="Toast.Toggle";Object.assign(fu,{Toggle:uu});function du(e){return(0,jt.jsxs)("form",{className:"flex flex-col gap-4",children:[(0,jt.jsx)("div",{className:" text-xl",children:"Parse dates from tip labels"}),(0,jt.jsxs)("div",{children:[(0,jt.jsx)("div",{className:"mb-2 block",children:(0,jt.jsx)(ya,{htmlFor:"format",value:"Date format"})}),(0,jt.jsx)(Ea,{id:"format",placeholder:"YYYY-MM-DD",required:!0})]}),(0,jt.jsxs)("div",{children:[(0,jt.jsx)("div",{className:"mb-2 block",children:(0,jt.jsx)(ya,{htmlFor:"delimiter",value:"Delimiter"})}),(0,jt.jsx)(Ea,{id:"delimiter",placeholder:"e.g. _ or |",required:!0})]}),(0,jt.jsxs)("div",{children:[(0,jt.jsx)("div",{className:"mb-2 block",children:(0,jt.jsx)(ya,{htmlFor:"group",value:"Group"})}),(0,jt.jsx)(Ea,{id:"group",placeholder:"Group to take (0-indexed)",required:!0})]}),(0,jt.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded my-2",children:"Parse"})]})}var hu=function(){var t=(0,e.useState)(null),n=(0,At.Z)(t,2),r=n[0],i=n[1],o=Zt(yt);return(0,e.useEffect)((function(){if(!r){var e=document.querySelector("#main"),t=null===e||void 0===e?void 0:e.getBoundingClientRect().height,n=null===e||void 0===e?void 0:e.getBoundingClientRect().width;i({height:t,width:n?n/2:void 0})}}),[r]),(0,e.useEffect)((function(){console.log(r)})),(0,jt.jsx)("div",{className:"App h-screen overflow-hidden",children:(0,jt.jsxs)("div",{className:"flex flex-col justify-between h-full",children:[(0,jt.jsxs)("main",{id:"main",className:"flex h-full",children:[""===o?(0,jt.jsx)("div",{className:"flex flex-col items-center w-full h-full bottom-2 border",children:(0,jt.jsx)("div",{className:"h-full w-full lg:w-1/3",children:(0,jt.jsx)(ur,{})})}):(0,jt.jsx)("div",{className:"w-1/2 h-full bottom-2 border",children:(0,jt.jsx)(Dt,{source:o,showLabels:!0,showLeafLabels:!0,interactive:!0,selectedIds:[],size:r})}),o?(0,jt.jsx)("div",{className:"flex flex-col items-center justify-center w-1/2 h-full border-b",children:(0,jt.jsx)("div",{className:"w-1/2",children:(0,jt.jsx)(du,{})})}):(0,jt.jsx)("div",{})]}),(0,jt.jsxs)(ca,{container:!0,children:[(0,jt.jsx)(ca.Copyright,{href:"#",by:"Clockor2\u2122",year:2022}),(0,jt.jsxs)(ca.LinkGroup,{children:[(0,jt.jsx)(ca.Link,{href:"#",children:"About"}),(0,jt.jsx)(ca.Link,{href:"#",children:"Privacy Policy"}),(0,jt.jsx)(ca.Link,{href:"#",children:"Licensing"}),(0,jt.jsx)(ca.Link,{href:"#",children:"Contact"})]})]})]})})},pu=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))},vu=document.getElementById("root");(0,r.s)(vu).render((0,jt.jsx)(b,{store:Pt,children:(0,jt.jsx)(hu,{})})),pu()}()}();
//# sourceMappingURL=main.ac7b24d4.js.map