!function(){"use strict";var n={46177:function(n,t,r){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e(n)}function o(n){var t=function(n,t){if("object"!==e(n)||null===n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var o=r.call(n,t||"default");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===e(t)?t:String(t)}function i(n,t,r){return(t=o(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function u(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.push.apply(r,e)}return r}function a(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){i(n,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}))}return n}var c=r(28937);r(61501);function f(n){var t={};t.tip=n.tip;for(var r=n.x,e=n.y,o=0,i=e.length,u=0,a=0,c=0,f=0,p=0;p<e.length;p++)o+=r[p],u+=e[p],a+=r[p]*e[p],c+=r[p]*r[p],f+=e[p]*e[p];t.x=r,t.y=e,t.slope=(i*a-o*u)/(i*c-o*o),t.intercept=(u-t.slope*o)/i,t.fitY=r.map((function(n){return t.slope*n+t.intercept})),t.r2=Math.pow((i*a-o*u)/Math.sqrt((i*c-o*o)*(i*f-u*u)),2);var s=e.map((function(n,r,o){return e[r]-t.fitY[r]})).map((function(n){return Math.pow(n,2)})).reduce((function(n,t){return n+t}),0)*(1/t.fitY.length);t.logLik=e.map((function(n,r){return Math.log(function(n,t,r){var e=-.5*Math.pow(n-t,2)/r;return 1/Math.sqrt(2*Math.PI*r)*Math.pow(Math.E,e)}(n,t.fitY[r],s))})).reduce((function(n,t){return n+t}));var l=t.fitY.map((function(n,r){return n-t.y[r]})).map((function(n){return Math.pow(n,2)})).reduce((function(n,t){return n+t}));return t.rms=l/(t.y.length-2),t}var p=r(99143);function s(n,t){for(var r=n.getTipLabels(),e=n.getRTTDist(),o=r.map((function(n){return t[n].date})),i=n.getSubtree(n.root.children[0]).getTipLabels(),u=[],a=0;a<r.length;a++)i.includes(r[a])?u.push(1):u.push(0);var c=n.root.children.map((function(n){return n.branchLength})).map((function(n){return void 0===n?0:n})),s=c.reduce((function(n,t){return n+t}),0);function l(n){var t=e.map((function(t,r){return u[r]*(t-c[0]+n*s)+(1-u[r])*(t-c[1]+(1-n)*s)}));return-1*f({x:o,y:t,tip:r,name:"NA"}).r2}var m=p(l,{lowerBound:0,upperBound:1,tolerance:Number.EPSILON,maxIterations:1e3});return{alpha:m,value:-1*l(m),method:"R2"}}function l(n,t){return t?n.reduce((function(n,r,e){return n+r*t[e]}),0):n.reduce((function(n,t){return n+t}),0)}function m(n,t){for(var r=n.getTipLabels(),e=n.getRTTDist(),o=r.map((function(n){return t[n].date})),i=n.getSubtree(n.root.children[0]).getTipLabels(),u=[],a=0;a<r.length;a++)i.includes(r[a])?u.push(0):u.push(1);var c=n.root.children.map((function(n){return n.branchLength})).map((function(n){return void 0===n?0:n}));c.length>2&&console.warn("BFR: More than 2 child branches!");for(var p=c[0]+c[1],s=e,m=0;m<s.length;m++)s[m]=s[m]+(1-u[m])*(p-c[0])-u[m]*(p-c[0]);var v=function(n,t,r){r=r.map((function(n){return-1*(2*n-1)}));var e=n.length,o=t.reduce((function(n,t){return n+t}),0)/e,i=n.reduce((function(n,t){return n+t}),0)/e,u=r.reduce((function(n,t){return n+t}),0)/e,a=l(n.map((function(n){return i-n})),r.map((function(n){return u-n}))),c=l(r.map((function(n){return u-n})),r.map((function(n){return u-n}))),f=l(t.map((function(n){return o-n})),n.map((function(n){return i-n}))),p=l(t.map((function(n){return o-n})),r.map((function(n){return u-n}))),s=l(t.map((function(n){return o-n})),t.map((function(n){return o-n})));return(a-f*p/s)/(c-p*p/s)}(s,o,u)/p,d=1-(v=Math.min(Math.max(v,0),1)),h=s.map((function(n,t){return n+u[t]*((1-d)*p)-(1-u[t])*((1-d)*p)})),g=f({x:o,y:h,tip:r,name:"NA"}).rms;return{alpha:d,value:g,method:"RMS"}}self.onmessage=function(n){var t,r,e,o=n.data,i=o.nwk,u=o.nodeNums,f=o.tipData,p=o.bfrMode,l=(t=(0,c.lW)(i)).getNodeList();if(t.reroot(l[u[0]]),"R2"==p){e=a(a({},s(t,f)),{},{nodeIndx:u[0],method:"R2"});for(var v=1;v<u.length;v++)t.reroot(l[u[v]]),(r=a(a({},s(t,f)),{},{nodeIndx:u[v],method:"R2"})).value-e.value>0&&(e=r);self.postMessage(e)}else if("RMS"==p){e=a(a({},m(t,f)),{},{nodeIndx:u[0],method:"RMS"});for(var d=1;d<u.length;d++)t.reroot(l[u[d]]),r=a(a({},m(t,f)),{},{nodeIndx:u[d],method:"RMS"}),e.value-r.value>0&&(e=r);self.postMessage(e)}}},99143:function(n,t,r){var e=r(49967),o=r(73843),i=[0,0];n.exports=function(n,t,r){var u,a=void 0===(t=t||{}).tolerance?1e-8:t.tolerance,c=void 0===t.initialIncrement?1:t.initialIncrement,f=void 0===t.lowerBound?-1/0:t.lowerBound,p=void 0===t.upperBound?1/0:t.upperBound,s=void 0===t.maxIterations?100:t.maxIterations;if(r&&(r.iterations=0,r.argmin=NaN,r.minimum=1/0,r.converged=!1),isFinite(p)&&isFinite(f))i[0]=f,i[1]=p;else if(u=void 0===t.guess?f>-1/0?p<1/0?.5*(f+p):f:p<1/0?p:0:t.guess,o(i,n,u,c,f,p,s),isNaN(i[0])||isNaN(i[1]))return NaN;return e(n,i[0],i[1],a,s,r)}},73843:function(n){n.exports=function(n,t,r,e,o,i,u){var a,c,f,p,s,l,m;p=1,s=r,l=r,f=c=a=t(r);for(;!m&&isFinite(e)&&!isNaN(e);)if(++p,m=!0,c<=f&&(f=c,s=Math.max(o,s-e),c=t(s),m=!1),a<=f&&(f=a,l=Math.min(i,l+e),a=t(l),m=!1),f=Math.min(f,c,a),(c===f&&s===o||a===f&&l===i)&&(m=!0),e*=p<4?2:Math.exp(.5*p),!isFinite(e))return n[0]=-1/0,n[1]=1/0,n;return n[0]=s,n[1]=l,n}},49967:function(n){var t=2/(1+Math.sqrt(5));n.exports=function(n,r,e,o,i,u){var a,c,f=0,p=e-t*(e-r),s=r+t*(e-r),l=n(p),m=n(s),v=n(r),d=n(e),h=r,g=e;for(;++f<i&&Math.abs(e-r)>o;)m>l?(e=s,s=p,m=l,l=n(p=e-t*(e-r))):(r=p,p=s,l=m,m=n(s=r+t*(e-r)));a=.5*(e+r),c=.5*(l+m),u&&(u.iterations=f,u.argmin=a,u.minimum=c,u.converged=!0);if(isNaN(m)||isNaN(l)||f===i)return u&&(u.converged=!1),NaN;return v<c?h:d<c?g:a}}},t={};function r(e){var o=t[e];if(void 0!==o)return o.exports;var i=t[e]={exports:{}};return n[e].call(i.exports,i,i.exports,r),i.exports}r.m=n,r.x=function(){var n=r.O(void 0,[495],(function(){return r(46177)}));return n=r.O(n)},function(){var n=[];r.O=function(t,e,o,i){if(!e){var u=1/0;for(p=0;p<n.length;p++){e=n[p][0],o=n[p][1],i=n[p][2];for(var a=!0,c=0;c<e.length;c++)(!1&i||u>=i)&&Object.keys(r.O).every((function(n){return r.O[n](e[c])}))?e.splice(c--,1):(a=!1,i<u&&(u=i));if(a){n.splice(p--,1);var f=o();void 0!==f&&(t=f)}}return t}i=i||0;for(var p=n.length;p>0&&n[p-1][2]>i;p--)n[p]=n[p-1];n[p]=[e,o,i]}}(),r.f={},r.e=function(n){return Promise.all(Object.keys(r.f).reduce((function(t,e){return r.f[e](n,t),t}),[]))},r.u=function(n){return"static/js/"+n+"."+{177:"c1587c74",495:"32464121"}[n]+".chunk.js"},r.miniCssF=function(n){},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="/",function(){r.b=self.location+"/../../../";var n={177:1};r.f.i=function(t,e){n[t]||importScripts(r.p+r.u(t))};var t=self.webpackChunkclockor2=self.webpackChunkclockor2||[],e=t.push.bind(t);t.push=function(t){var o=t[0],i=t[1],u=t[2];for(var a in i)r.o(i,a)&&(r.m[a]=i[a]);for(u&&u(r);o.length;)n[o.pop()]=1;e(t)}}(),function(){var n=r.x;r.x=function(){return r.e(495).then(n)}}();r.x()}();
//# sourceMappingURL=177.c1587c74.chunk.js.map