!function(){"use strict";var n={23275:function(n,t,r){function e(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function o(n){return function(n){if(Array.isArray(n))return e(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,t){if(n){if("string"===typeof n)return e(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(n,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r(61501);var u=function(n,t,r,e){var o=i(n,t,r,e),u={};return u.baseClock=a(o[0]),u.baseIC={},u.baseIC.aic=l([u.baseClock]),u.baseIC.aicc=c([u.baseClock]),u.baseIC.bic=f([u.baseClock]),o.length>1&&(u.localClock=o.slice(1).map((function(n){return a(n)})),u.localIC={},u.localIC.aic=l(u.localClock),u.localIC.aicc=c(u.localClock),u.localIC.bic=f(u.localClock)),u.groupNames=o.map((function(n){return n.name})),u},i=function(n,t,r,e){for(var o=[],u=r.filter((function(n,t,r){return r.indexOf(n)===t})).sort(),i=r.map((function(n){return u.indexOf(n)})),a=0;a<u.length;a++){var c={x:[],y:[],tip:[],name:u[a]};o.push(c)}for(var l=0;l<r.length;l++)o[i[l]].x.push(t[l]),o[i[l]].y.push(n[l]),o[i[l]].tip.push(e[l]);return u.length>1&&o.unshift({x:t,y:n,tip:e,name:"Global"}),o};function a(n){var t={};t.tip=n.tip;for(var r=n.x,e=n.y,o=0,u=e.length,i=0,a=0,c=0,l=0,f=0;f<e.length;f++)o+=r[f],i+=e[f],a+=r[f]*e[f],c+=r[f]*r[f],l+=e[f]*e[f];t.x=r,t.y=e,t.slope=(u*a-o*i)/(u*c-o*o),t.intercept=(i-t.slope*o)/u,t.fitY=r.map((function(n){return t.slope*n+t.intercept})),t.r2=Math.pow((u*a-o*i)/Math.sqrt((u*c-o*o)*(u*l-i*i)),2);var s=e.map((function(n,r,o){return e[r]-t.fitY[r]})).map((function(n){return Math.pow(n,2)})).reduce((function(n,t){return n+t}),0)*(1/t.fitY.length);t.logLik=e.map((function(n,r){return Math.log(function(n,t,r){var e=-.5*Math.pow(n-t,2)/r;return 1/Math.sqrt(2*Math.PI*r)*Math.pow(Math.E,e)}(n,t.fitY[r],s))})).reduce((function(n,t){return n+t}));var p=t.fitY.map((function(n,r){return n-t.y[r]})).map((function(n){return Math.pow(n,2)})).reduce((function(n,t){return n+t}));return t.rms=p/(t.y.length-2),t}function c(n){for(var t=n.length,r=n.map((function(t,r,e){return n[r].y.length})).reduce((function(n,t){return n+t}),0),e=0,o=0;o<n.length;o++)n[o].logLik&&(e+=n[o].logLik);return-2*e+6*t*r/(r-3*t-1)}function l(n){for(var t=n.length,r=0,e=0;e<n.length;e++)n[e].logLik&&(r+=n[e].logLik);return-2*r+6*t}function f(n){for(var t=n.length,r=n.map((function(t,r,e){return n[r].y.length})).reduce((function(n,t){return n+t}),0),e=0,o=0;o<n.length;o++)n[o].logLik&&(e+=n[o].logLik);return 3*t*Math.log(r)-2*e}var s=r(28937);function p(n,t,r){var e=n.getNodeList().map((function(t){return n.getSubtree(t).getTipLabels()})).sort((function(n,t){return t.length-n.length})).filter((function(n){return n.length>=t})),u=o(Array(e.length)).map((function(n,t){return t})).slice(1),i=function(n,t){var r=[];function e(o,u){if(u.length!==t)for(var i=o;i<n.length;i++)e(i+1,u.concat(n[i]));else r.push(u)}return e(0,[]),r}(u,r-1);i.map((function(n){return n.unshift(0)}));for(var a=[],c=[],l=0;l<i.length;l++)c=i[l].map((function(n){return e[n]})),a.push(c);a=a.map((function(n){return function(n){var t=[];t[n.length-1]=n[n.length-1];for(var r=function(r){t[r]=n[r].filter((function(t){return!n.slice(r+1).flat().includes(t)}))},e=n.length-2;e>=0;e--)r(e);return t.sort()}(n)}));var f=a.filter((function(n){return!n.some((function(n){return n.length<t}))}));return f=f.map((function(n){return JSON.stringify(n)})).filter((function(n,t,r){return r.indexOf(n)===t})).map((function(n){return JSON.parse(n)})),f}self.onmessage=function(n){var t=n.data,r=function(n,t,r,e,i){for(var a=(0,s.lW)(n),c=[],l=1;l<=r;l++)c=c.concat(p(a,t,l));var f=a.getTipLabels(),h=a.getRTTDist(),g=Error("Too may clocks for minimum clade size. Spurious results await");r>Math.floor(f.length/t)&&console.error(g.message);for(var v=c.map((function(n){return function(n,t){for(var r=[],e=0;e<n.length;e++)for(var o=t.length-1;o>=0;o--)if(t[o].includes(n[e])){r.push(o.toString());break}return r}(f,n)})),m=[],b=0;b<c.length;b++)m.push(u(h,e,v[b],f));var y=m.map((function(n){return n.localClock?n.localIC[i]:n.baseIC[i]})),d=Math.min.apply(Math,o(y));return m[y.indexOf(d)]}(t.nwk,t.minCladeSize,t.maxClocks,t.dates,t.icMetric);self.postMessage(r)}},28937:function(n,t,r){t.lW=void 0;var e=r(3958);var o=r(50640);var u=r(15344);var i=r(3121);Object.defineProperty(t,"lW",{enumerable:!0,get:function(){return i.readNewick}})}},t={};function r(e){var o=t[e];if(void 0!==o)return o.exports;var u=t[e]={exports:{}};return n[e].call(u.exports,u,u.exports,r),u.exports}r.m=n,r.x=function(){var n=r.O(void 0,[974],(function(){return r(23275)}));return n=r.O(n)},function(){var n=[];r.O=function(t,e,o,u){if(!e){var i=1/0;for(f=0;f<n.length;f++){e=n[f][0],o=n[f][1],u=n[f][2];for(var a=!0,c=0;c<e.length;c++)(!1&u||i>=u)&&Object.keys(r.O).every((function(n){return r.O[n](e[c])}))?e.splice(c--,1):(a=!1,u<i&&(i=u));if(a){n.splice(f--,1);var l=o();void 0!==l&&(t=l)}}return t}u=u||0;for(var f=n.length;f>0&&n[f-1][2]>u;f--)n[f]=n[f-1];n[f]=[e,o,u]}}(),r.f={},r.e=function(n){return Promise.all(Object.keys(r.f).reduce((function(t,e){return r.f[e](n,t),t}),[]))},r.u=function(n){return"static/js/"+n+"."+{275:"3fae15a8",974:"f330cd77"}[n]+".chunk.js"},r.miniCssF=function(n){},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="/",function(){r.b=self.location+"/../../../";var n={275:1};r.f.i=function(t,e){n[t]||importScripts(r.p+r.u(t))};var t=self.webpackChunkclockor2=self.webpackChunkclockor2||[],e=t.push.bind(t);t.push=function(t){var o=t[0],u=t[1],i=t[2];for(var a in u)r.o(u,a)&&(r.m[a]=u[a]);for(i&&i(r);o.length;)n[o.pop()]=1;e(t)}}(),function(){var n=r.x;r.x=function(){return r.e(974).then(n)}}();r.x()}();
//# sourceMappingURL=275.3fae15a8.chunk.js.map