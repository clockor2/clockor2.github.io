!function(){"use strict";var t={76552:function(t,r,e){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t){var r=function(t,r){if("object"!==n(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,r||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===n(r)?r:String(r)}function i(t,r,e){return(r=o(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function u(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function a(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?u(Object(e),!0).forEach((function(r){i(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}e(61501);function c(t){var r={};r.tip=t.tip;for(var e=t.x,n=t.y,o=0,i=n.length,u=0,a=0,c=0,f=0,s=0;s<n.length;s++)o+=e[s],u+=n[s],a+=e[s]*n[s],c+=e[s]*e[s],f+=n[s]*n[s];r.x=e,r.y=n,r.slope=(i*a-o*u)/(i*c-o*o),r.intercept=(u-r.slope*o)/i,r.fitY=e.map((function(t){return r.slope*t+r.intercept})),r.r2=Math.pow((i*a-o*u)/Math.sqrt((i*c-o*o)*(i*f-u*u)),2);var l=n.map((function(t,e,o){return n[e]-r.fitY[e]})).map((function(t){return Math.pow(t,2)})).reduce((function(t,r){return t+r}),0)*(1/r.fitY.length);r.logLik=n.map((function(t,e){return Math.log(function(t,r,e){var n=-.5*Math.pow(t-r,2)/e;return 1/Math.sqrt(2*Math.PI*e)*Math.pow(Math.E,n)}(t,r.fitY[e],l))})).reduce((function(t,r){return t+r}));var p=r.fitY.map((function(t,e){return t-r.y[e]})).map((function(t){return Math.pow(t,2)})).reduce((function(t,r){return t+r}));return r.rms=p/(r.y.length-2),r}var f=e(28937),s=e(99143);function l(t,r){for(var e=t.getTipLabels(),n=t.getRTTDist(),o=e.map((function(t){return r[t].date})),i=t.getSubtree(t.root.children[0]).getTipLabels(),u=[],a=0;a<e.length;a++)i.includes(e[a])?u.push(1):u.push(0);var f=t.root.children.map((function(t){return t.branchLength})).map((function(t){return void 0===t?0:t})),l=f.reduce((function(t,r){return t+r}),0);function p(t){var r=n.map((function(r,e){return u[e]*(r-f[0]+t*l)+(1-u[e])*(r-f[1]+(1-t)*l)}));return-1*c({x:o,y:r,tip:e,name:"NA"}).r2}var v=s(p,{lowerBound:0,upperBound:1,tolerance:Number.EPSILON,maxIterations:1e3});return{alpha:v,value:-1*p(v),method:"R2"}}function p(t,r){for(var e=t.getTipLabels(),n=t.getRTTDist(),o=e.map((function(t){return r[t].date})),i=t.getSubtree(t.root.children[0]).getTipLabels(),u=[],a=0;a<e.length;a++)i.includes(e[a])?u.push(0):u.push(1);var f=u.reduce((function(t,r){return t+r})),s=u.length,l=t.root.children.map((function(t){return t.branchLength})).map((function(t){return void 0===t?0:t}));l.length>2&&console.warn("BFR: More than 2 child branches!");for(var p=l.reduce((function(t,r){return t+r}),0),v=n,m=0;m<v.length;m++)v[m]=v[m]+(1-u[m])*(p-l[0])-u[m]*(p-l[0]);for(var d=0,h=0,b=0,g=0,y=0,O=s,x=f,M=0;M<s;M++)d+=o[M]*o[M],h+=o[M],b+=v[M],g+=o[M]*v[M],y+=o[M]*u[M];for(var N=b/O,w=h/O,j=d-h*h/O,S=0,P=0,k=0;k<s;k++){var I=2*u[k]-(2*x-O)/O+2*(w-o[k])/(j*O)*(O*y-x*h)-1;S+=I*(v[k]-N+(w-o[k])/(j*O)*(O*g-h*b)),P+=I*I}var L=-S/(p*P),R=1-(L=Math.min(Math.max(L,0),1)),T=v.map((function(t,r){return t+u[r]*((1-R)*p)-(1-u[r])*((1-R)*p)})),B=c({x:o,y:T,tip:e,name:"NA"}).rms;return{alpha:R,value:B,method:"RMS"}}self.onmessage=function(t){var r,e,n,o=t.data,i=o.nwk,u=o.nodeNums,c=o.tipData,s=o.bfrMode;if((r=(0,f.lW)(i)).reroot(r.getNodeList()[u[0]]),"R2"==s){n=a(a({},l(r,c)),{},{nodeIndx:u[0],method:"R2"});for(var v=1;v<u.length;v++)(r=(0,f.lW)(i)).reroot(r.getNodeList()[u[v]]),(e=a(a({},l(r,c)),{},{nodeIndx:u[v],method:"R2"})).value-n.value>0&&(n=e);self.postMessage(n)}else if("RMS"==s){n=a(a({},p(r,c)),{},{nodeIndx:u[0],method:"RMS"});for(var m=1;m<u.length;m++)(r=(0,f.lW)(i)).reroot(r.getNodeList()[u[m]]),e=a(a({},p(r,c)),{},{nodeIndx:u[m],method:"RMS"}),n.value-e.value>0&&(n=e);self.postMessage(n)}}},99143:function(t,r,e){var n=e(49967),o=e(73843),i=[0,0];t.exports=function(t,r,e){var u,a=void 0===(r=r||{}).tolerance?1e-8:r.tolerance,c=void 0===r.initialIncrement?1:r.initialIncrement,f=void 0===r.lowerBound?-1/0:r.lowerBound,s=void 0===r.upperBound?1/0:r.upperBound,l=void 0===r.maxIterations?100:r.maxIterations;if(e&&(e.iterations=0,e.argmin=NaN,e.minimum=1/0,e.converged=!1),isFinite(s)&&isFinite(f))i[0]=f,i[1]=s;else if(u=void 0===r.guess?f>-1/0?s<1/0?.5*(f+s):f:s<1/0?s:0:r.guess,o(i,t,u,c,f,s,l),isNaN(i[0])||isNaN(i[1]))return NaN;return n(t,i[0],i[1],a,l,e)}},73843:function(t){t.exports=function(t,r,e,n,o,i,u){var a,c,f,s,l,p,v;s=1,l=e,p=e,f=c=a=r(e);for(;!v&&isFinite(n)&&!isNaN(n);)if(++s,v=!0,c<=f&&(f=c,l=Math.max(o,l-n),c=r(l),v=!1),a<=f&&(f=a,p=Math.min(i,p+n),a=r(p),v=!1),f=Math.min(f,c,a),(c===f&&l===o||a===f&&p===i)&&(v=!0),n*=s<4?2:Math.exp(.5*s),!isFinite(n))return t[0]=-1/0,t[1]=1/0,t;return t[0]=l,t[1]=p,t}},49967:function(t){var r=2/(1+Math.sqrt(5));t.exports=function(t,e,n,o,i,u){var a,c,f=0,s=n-r*(n-e),l=e+r*(n-e),p=t(s),v=t(l),m=t(e),d=t(n),h=e,b=n;for(;++f<i&&Math.abs(n-e)>o;)v>p?(n=l,l=s,v=p,p=t(s=n-r*(n-e))):(e=s,s=l,p=v,v=t(l=e+r*(n-e)));a=.5*(n+e),c=.5*(p+v),u&&(u.iterations=f,u.argmin=a,u.minimum=c,u.converged=!0);if(isNaN(v)||isNaN(p)||f===i)return u&&(u.converged=!1),NaN;return m<c?h:d<c?b:a}},28937:function(t,r,e){r.lW=void 0;var n=e(3958);var o=e(50640);var i=e(15344);var u=e(3121);Object.defineProperty(r,"lW",{enumerable:!0,get:function(){return u.readNewick}})}},r={};function e(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return t[n].call(i.exports,i,i.exports,e),i.exports}e.m=t,e.x=function(){var t=e.O(void 0,[974],(function(){return e(76552)}));return t=e.O(t)},function(){var t=[];e.O=function(r,n,o,i){if(!n){var u=1/0;for(s=0;s<t.length;s++){n=t[s][0],o=t[s][1],i=t[s][2];for(var a=!0,c=0;c<n.length;c++)(!1&i||u>=i)&&Object.keys(e.O).every((function(t){return e.O[t](n[c])}))?n.splice(c--,1):(a=!1,i<u&&(u=i));if(a){t.splice(s--,1);var f=o();void 0!==f&&(r=f)}}return r}i=i||0;for(var s=t.length;s>0&&t[s-1][2]>i;s--)t[s]=t[s-1];t[s]=[n,o,i]}}(),e.f={},e.e=function(t){return Promise.all(Object.keys(e.f).reduce((function(r,n){return e.f[n](t,r),r}),[]))},e.u=function(t){return"static/js/"+t+"."+{552:"94a51549",974:"f330cd77"}[t]+".chunk.js"},e.miniCssF=function(t){},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="/",function(){e.b=self.location+"/../../../";var t={552:1};e.f.i=function(r,n){t[r]||importScripts(e.p+e.u(r))};var r=self.webpackChunkclockor2=self.webpackChunkclockor2||[],n=r.push.bind(r);r.push=function(r){var o=r[0],i=r[1],u=r[2];for(var a in i)e.o(i,a)&&(e.m[a]=i[a]);for(u&&u(e);o.length;)t[o.pop()]=1;n(r)}}(),function(){var t=e.x;e.x=function(){return e.e(974).then(t)}}();e.x()}();
//# sourceMappingURL=552.94a51549.chunk.js.map