!function(){"use strict";var t={46177:function(t,n,r){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function o(t){var n=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,n||"default");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"===e(n)?n:String(n)}function i(t,n,r){return(n=o(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function u(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}function a(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){i(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}var c=r(28937);r(61501);function f(t){var n={};n.tip=t.tip;for(var r=t.x,e=t.y,o=0,i=e.length,u=0,a=0,c=0,f=0,p=0;p<e.length;p++)o+=r[p],u+=e[p],a+=r[p]*e[p],c+=r[p]*r[p],f+=e[p]*e[p];n.x=r,n.y=e,n.slope=(i*a-o*u)/(i*c-o*o),n.intercept=(u-n.slope*o)/i,n.fitY=r.map((function(t){return n.slope*t+n.intercept})),n.r2=Math.pow((i*a-o*u)/Math.sqrt((i*c-o*o)*(i*f-u*u)),2);var s=e.map((function(t,r,o){return e[r]-n.fitY[r]})).map((function(t){return Math.pow(t,2)})).reduce((function(t,n){return t+n}),0)*(1/n.fitY.length);n.logLik=e.map((function(t,r){return Math.log(function(t,n,r){var e=-.5*Math.pow(t-n,2)/r;return 1/Math.sqrt(2*Math.PI*r)*Math.pow(Math.E,e)}(t,n.fitY[r],s))})).reduce((function(t,n){return t+n}));var l=n.fitY.map((function(t,r){return t-n.y[r]})).map((function(t){return Math.pow(t,2)})).reduce((function(t,n){return t+n}));return n.rms=l/(n.y.length-2),n}var p=r(99143);function s(t,n){for(var r=t.getTipLabels(),e=t.getRTTDist(),o=r.map((function(t){return n[t].date})),i=t.getSubtree(t.root.children[0]).getTipLabels(),u=[],a=0;a<r.length;a++)i.includes(r[a])?u.push(1):u.push(0);var c=t.root.children.map((function(t){return t.branchLength})).map((function(t){return void 0===t?0:t})),s=c.reduce((function(t,n){return t+n}),0);function l(t){var n=e.map((function(n,r){return u[r]*(n-c[0]+t*s)+(1-u[r])*(n-c[1]+(1-t)*s)}));return-1*f({x:o,y:n,tip:r,name:"NA"}).r2}var m=p(l,{lowerBound:0,upperBound:1,tolerance:Number.EPSILON,maxIterations:1e3});return{alpha:m,value:-1*l(m),method:"R2"}}function l(t,n){return n?t.reduce((function(t,r,e){return t+r*n[e]}),0):t.reduce((function(t,n){return t+n}),0)}function m(t,n){for(var r=t.getTipLabels(),e=t.getRTTDist(),o=r.map((function(t){return n[t].date})),i=t.getSubtree(t.root.children[0]).getTipLabels(),u=[],a=0;a<r.length;a++)i.includes(r[a])?u.push(0):u.push(1);var c=t.root.children.map((function(t){return t.branchLength})).map((function(t){return void 0===t?0:t}));c.length>2&&console.warn("BFR: More than 2 child branches!");for(var p=c[0]+c[1],s=e,m=0;m<s.length;m++)s[m]=s[m]+(1-u[m])*(p-c[0])-u[m]*(p-c[0]);var v=function(t,n,r){r=r.map((function(t){return-1*(2*t-1)}));var e=t.length,o=n.reduce((function(t,n){return t+n}),0)/e,i=t.reduce((function(t,n){return t+n}),0)/e,u=r.reduce((function(t,n){return t+n}),0)/e,a=l(t.map((function(t){return i-t})),r.map((function(t){return u-t}))),c=l(r.map((function(t){return u-t})),r.map((function(t){return u-t}))),f=l(n.map((function(t){return o-t})),t.map((function(t){return i-t}))),p=l(n.map((function(t){return o-t})),r.map((function(t){return u-t}))),s=l(n.map((function(t){return o-t})),n.map((function(t){return o-t})));return(a-f*p/s)/(c-p*p/s)}(s,o,u)/p,h=1-(v=Math.min(Math.max(v,0),1)),d=s.map((function(t,n){return t+u[n]*((1-h)*p)-(1-u[n])*((1-h)*p)})),g=f({x:o,y:d,tip:r,name:"NA"}).rms;return{alpha:h,value:g,method:"RMS"}}self.onmessage=function(t){var n,r,e,o=t.data,i=o.nwk,u=o.nodeNums,f=o.tipData,p=o.bfrMode;if((n=(0,c.lW)(i)).reroot(n.getNodeList()[u[0]]),"R2"==p){e=a(a({},s(n,f)),{},{nodeIndx:u[0],method:"R2"});for(var l=1;l<u.length;l++)(n=(0,c.lW)(i)).reroot(n.getNodeList()[u[l]]),(r=a(a({},s(n,f)),{},{nodeIndx:u[l],method:"R2"})).value-e.value>0&&(e=r);self.postMessage(e)}else if("RMS"==p){e=a(a({},m(n,f)),{},{nodeIndx:u[0],method:"RMS"});for(var v=1;v<u.length;v++)(n=(0,c.lW)(i)).reroot(n.getNodeList()[u[v]]),r=a(a({},m(n,f)),{},{nodeIndx:u[v],method:"RMS"}),e.value-r.value>0&&(e=r);self.postMessage(e)}}},99143:function(t,n,r){var e=r(49967),o=r(73843),i=[0,0];t.exports=function(t,n,r){var u,a=void 0===(n=n||{}).tolerance?1e-8:n.tolerance,c=void 0===n.initialIncrement?1:n.initialIncrement,f=void 0===n.lowerBound?-1/0:n.lowerBound,p=void 0===n.upperBound?1/0:n.upperBound,s=void 0===n.maxIterations?100:n.maxIterations;if(r&&(r.iterations=0,r.argmin=NaN,r.minimum=1/0,r.converged=!1),isFinite(p)&&isFinite(f))i[0]=f,i[1]=p;else if(u=void 0===n.guess?f>-1/0?p<1/0?.5*(f+p):f:p<1/0?p:0:n.guess,o(i,t,u,c,f,p,s),isNaN(i[0])||isNaN(i[1]))return NaN;return e(t,i[0],i[1],a,s,r)}},73843:function(t){t.exports=function(t,n,r,e,o,i,u){var a,c,f,p,s,l,m;p=1,s=r,l=r,f=c=a=n(r);for(;!m&&isFinite(e)&&!isNaN(e);)if(++p,m=!0,c<=f&&(f=c,s=Math.max(o,s-e),c=n(s),m=!1),a<=f&&(f=a,l=Math.min(i,l+e),a=n(l),m=!1),f=Math.min(f,c,a),(c===f&&s===o||a===f&&l===i)&&(m=!0),e*=p<4?2:Math.exp(.5*p),!isFinite(e))return t[0]=-1/0,t[1]=1/0,t;return t[0]=s,t[1]=l,t}},49967:function(t){var n=2/(1+Math.sqrt(5));t.exports=function(t,r,e,o,i,u){var a,c,f=0,p=e-n*(e-r),s=r+n*(e-r),l=t(p),m=t(s),v=t(r),h=t(e),d=r,g=e;for(;++f<i&&Math.abs(e-r)>o;)m>l?(e=s,s=p,m=l,l=t(p=e-n*(e-r))):(r=p,p=s,l=m,m=t(s=r+n*(e-r)));a=.5*(e+r),c=.5*(l+m),u&&(u.iterations=f,u.argmin=a,u.minimum=c,u.converged=!0);if(isNaN(m)||isNaN(l)||f===i)return u&&(u.converged=!1),NaN;return v<c?d:h<c?g:a}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,r.x=function(){var t=r.O(void 0,[495],(function(){return r(46177)}));return t=r.O(t)},function(){var t=[];r.O=function(n,e,o,i){if(!e){var u=1/0;for(p=0;p<t.length;p++){e=t[p][0],o=t[p][1],i=t[p][2];for(var a=!0,c=0;c<e.length;c++)(!1&i||u>=i)&&Object.keys(r.O).every((function(t){return r.O[t](e[c])}))?e.splice(c--,1):(a=!1,i<u&&(u=i));if(a){t.splice(p--,1);var f=o();void 0!==f&&(n=f)}}return n}i=i||0;for(var p=t.length;p>0&&t[p-1][2]>i;p--)t[p]=t[p-1];t[p]=[e,o,i]}}(),r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(n,e){return r.f[e](t,n),n}),[]))},r.u=function(t){return"static/js/"+t+"."+{177:"7b5118cf",495:"32464121"}[t]+".chunk.js"},r.miniCssF=function(t){},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/",function(){r.b=self.location+"/../../../";var t={177:1};r.f.i=function(n,e){t[n]||importScripts(r.p+r.u(n))};var n=self.webpackChunkclockor2=self.webpackChunkclockor2||[],e=n.push.bind(n);n.push=function(n){var o=n[0],i=n[1],u=n[2];for(var a in i)r.o(i,a)&&(r.m[a]=i[a]);for(u&&u(r);o.length;)t[o.pop()]=1;e(n)}}(),function(){var t=r.x;r.x=function(){return r.e(495).then(t)}}();r.x()}();
//# sourceMappingURL=177.7b5118cf.chunk.js.map